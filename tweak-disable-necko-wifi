From: L. David Baron <dbaron@dbaron.org>

Don't silently disable WiFi on Linux if we can't find iwlib.h.

diff --git a/configure.in b/configure.in
--- a/configure.in
+++ b/configure.in
@@ -7956,16 +7956,18 @@ MOZ_ARG_DISABLE_BOOL(necko-wifi,
     NECKO_WIFI=1
 )
 if test "$NECKO_WIFI"; then
   NECKO_WIFI=
   if test "$OS_ARCH" = "Linux"; then
     AC_CHECK_HEADER([iwlib.h])
     if test "$ac_cv_header_iwlib_h" = "yes"; then
       NECKO_WIFI=1
+    else
+      AC_MSG_ERROR([Can't find header iwlib.h for Necko WiFi scanning; use --disable-necko-wifi])
     fi
   elif test "$OS_ARCH" = "Darwin"; then
     NECKO_WIFI=1
   elif test "$OS_ARCH" = "WINNT"; then
     NECKO_WIFI=1
   elif test "$OS_ARCH" = "WINCE"; then
     NECKO_WIFI=1    
   else
