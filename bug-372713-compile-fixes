Compilation fixes for peterv's patch for bug 372713.

diff --git a/xpcom/base/nsAgg.h b/xpcom/base/nsAgg.h
--- a/xpcom/base/nsAgg.h
+++ b/xpcom/base/nsAgg.h
@@ -302,7 +302,7 @@ _class::AggregatedQueryInterface(REFNSII
   {                                                                         \
     NS_ASSERTION(CheckForRightISupports(p),                                 \
                  "not the nsISupports pointer we expect");                  \
-    _class *tmp = NS_STATIC_CAST(_class*, Downcast(s));                     \
+    _class *tmp = NS_STATIC_CAST(_class*, Downcast(p));                     \
     if (!tmp->IsPartOfAggregated())                                         \
         NS_IMPL_CYCLE_COLLECTION_DESCRIBE(_class)
 
