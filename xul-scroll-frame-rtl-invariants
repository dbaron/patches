From: L. David Baron <dbaron@dbaron.org>

Use correct scrolled content size in nsXULScrollFrame when we allow scrolling up or to the right.  (Bug 508816)

diff --git a/layout/generic/nsGfxScrollFrame.cpp b/layout/generic/nsGfxScrollFrame.cpp
--- a/layout/generic/nsGfxScrollFrame.cpp
+++ b/layout/generic/nsGfxScrollFrame.cpp
@@ -3196,16 +3196,19 @@ nsXULScrollFrame::LayoutScrollArea(nsBox
   ClampAndSetBounds(aState, childRect, aScrollPosition);
   mInner.mScrolledFrame->Layout(aState);
 
   childRect = mInner.mScrolledFrame->GetRect();
 
   if (childRect.width < mInner.mScrollPort.width ||
       childRect.height < mInner.mScrollPort.height)
   {
+    // This leaves a frame that shrunk smaller than we told it to be
+    // in the top-left corner of its parent, which might not be ideal
+    // for RTL, or even for some values of box-align and box-pack.
     childRect.width = std::max(childRect.width, mInner.mScrollPort.width);
     childRect.height = std::max(childRect.height, mInner.mScrollPort.height);
 
     // remove overflow areas when we update the bounds,
     // because we've already accounted for it
     // REVIEW: Have we accounted for both?
     ClampAndSetBounds(aState, childRect, aScrollPosition, true);
   }
