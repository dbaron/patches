From: L. David Baron <dbaron@dbaron.org>

Change record of animation start to be before delay so that dynamic changes to animation-delay are honored.

Note: per CSS WG, afternoon of 2012-10-29.

diff --git a/layout/style/nsAnimationManager.h b/layout/style/nsAnimationManager.h
--- a/layout/style/nsAnimationManager.h
+++ b/layout/style/nsAnimationManager.h
@@ -91,17 +91,17 @@ struct ElementAnimation
   bool IsPaused() const {
     return mPlayState == NS_STYLE_ANIMATION_PLAY_STATE_PAUSED ||
            mForcedPause;
   }
 
   virtual bool HasAnimationOfProperty(nsCSSProperty aProperty) const;
   bool IsRunningAt(mozilla::TimeStamp aTime) const;
 
-  mozilla::TimeStamp mStartTime; // with delay taken into account
+  mozilla::TimeStamp mStartTime; // with delay taken into account // FIXME: change this to be without delay taken into account so we respond to dynamic changes of delay
   mozilla::TimeStamp mPauseStart;
   mozilla::TimeDuration mIterationDuration;
 
   enum {
     LAST_NOTIFICATION_NONE = uint32_t(-1),
     LAST_NOTIFICATION_END = uint32_t(-2)
   };
   // One of the above constants, or an integer for the iteration
