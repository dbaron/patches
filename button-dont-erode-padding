From: L. David Baron <dbaron@dbaron.org>

Bug 1010675 - Always reflow button contents inside the content box, rather than eroding the padding when the min-content width says they won't fit.

diff --git a/layout/forms/nsHTMLButtonControlFrame.cpp b/layout/forms/nsHTMLButtonControlFrame.cpp
--- a/layout/forms/nsHTMLButtonControlFrame.cpp
+++ b/layout/forms/nsHTMLButtonControlFrame.cpp
@@ -252,35 +252,18 @@ nsHTMLButtonControlFrame::ReflowButtonCo
   WritingMode wm = aFirstKid->GetWritingMode();
   LogicalSize availSize = aButtonReflowState.ComputedSize(GetWritingMode());
   availSize.BSize(wm) = NS_INTRINSICSIZE;
 
   // Indent the child inside us by the focus border. We must do this separate
   // from the regular border.
   availSize.ISize(wm) -= LogicalMargin(wm, focusPadding).IStartEnd(wm);
 
-  // See whether out availSize's width is big enough.  If it's smaller than our
-  // intrinsic min width, that means that the kid wouldn't really fit; for a
-  // better look in such cases we adjust the available width and our left
-  // offset to allow the kid to spill left into our padding.
   nscoord xoffset = focusPadding.left +
     aButtonReflowState.ComputedPhysicalBorderPadding().left;
-  nscoord extrawidth = GetMinISize(aButtonReflowState.rendContext) -
-    aButtonReflowState.ComputedWidth();
-  if (extrawidth > 0) {
-    nscoord extraleft = extrawidth / 2;
-    nscoord extraright = extrawidth - extraleft;
-    NS_ASSERTION(extraright >=0, "How'd that happen?");
-
-    // Do not allow the extras to be bigger than the relevant padding
-    extraleft = std::min(extraleft, aButtonReflowState.ComputedPhysicalPadding().left);
-    extraright = std::min(extraright, aButtonReflowState.ComputedPhysicalPadding().right);
-    xoffset -= extraleft;
-    availSize.Width(wm) = availSize.Width(wm) + extraleft + extraright;
-  }
   availSize.Width(wm) = std::max(availSize.Width(wm), 0);
 
   // Give child a clone of the button's reflow state, with height/width reduced
   // by focusPadding, so that descendants with height:100% don't protrude.
   nsHTMLReflowState adjustedButtonReflowState =
     CloneReflowStateWithReducedContentBox(aButtonReflowState, focusPadding);
 
   nsHTMLReflowState contentsReflowState(aPresContext,
