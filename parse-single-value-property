From: L. David Baron <dbaron@dbaron.org>

Things to fix about ParseSingleValueProperty.

This actually isn't currently a problem, since all properties that now
have CSS_PROPERTY_PARSE_VALUE_LIST don't have VARIANT_INHERIT in their
variant field.  That said, it would probably be better to not have
VARIANT_INHERIT in variant fields at all, but instead make the
ParseProperty call to ParseSingleValueProperty add it in.

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -12464,16 +12464,17 @@ CSSParserImpl::ParseValueList(nsCSSPrope
   // 'initial', 'inherit' and 'unset' stand alone, no list permitted.
   if (!ParseSingleTokenVariant(value, VARIANT_INHERIT, nullptr)) {
     nsCSSValueList* item = value.SetListValue();
     for (;;) {
       if (ParseSingleValueProperty(item->mValue, aPropID) !=
           CSSParseResult::Ok) {
         return false;
       }
+      // FIXME: This accepts inherit/initial
       if (!ExpectSymbol(',', true)) {
         break;
       }
       item->mNext = new nsCSSValueList;
       item = item->mNext;
     }
   }
   AppendValue(aPropID, value);
@@ -16923,16 +16924,17 @@ CSSParserImpl::ParseAnimationOrTransitio
         if (!parsedProperty[i]) {
           // if we haven't found this property yet, try to parse it
           CSSParseResult result =
             ParseSingleValueProperty(tempValue, aProperties[i]);
           if (result == CSSParseResult::Error) {
             return eParseAnimationOrTransitionShorthand_Error;
           }
           if (result == CSSParseResult::Ok) {
+            // FIXME: this accepts inherit
             parsedProperty[i] = true;
             cur[i] = AppendValueToList(aValues[i], cur[i], tempValue);
             foundProperty = true;
             haveAnyProperty = true;
             break; // out of inner loop; continue looking for next sub-property
           }
         }
       }
