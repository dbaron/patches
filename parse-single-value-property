From: L. David Baron <dbaron@dbaron.org>

Things to fix about ParseSingleValueProperty.

This actually isn't currently a problem, since all properties that now
have CSS_PROPERTY_PARSE_VALUE_LIST don't have VARIANT_INHERIT in their
variant field.  That said, it would probably be better to not have
VARIANT_INHERIT in variant fields at all, but instead make the
ParseProperty call to ParseSingleValueProperty add it in.

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -10307,16 +10307,17 @@ CSSParserImpl::ParseValueList(nsCSSPrope
   nsCSSValue value;
   // 'initial', 'inherit' and 'unset' stand alone, no list permitted.
   if (!ParseVariant(value, VARIANT_INHERIT, nullptr)) {
     nsCSSValueList* item = value.SetListValue();
     for (;;) {
       if (!ParseSingleValueProperty(item->mValue, aPropID)) {
         return false;
       }
+      // FIXME: This accepts inherit/initial
       if (!ExpectSymbol(',', true)) {
         break;
       }
       item->mNext = new nsCSSValueList;
       item = item->mNext;
     }
   }
   AppendValue(aPropID, value);
@@ -13903,16 +13904,17 @@ CSSParserImpl::ParseAnimationOrTransitio
         break;
       }
 
       // else, try to parse the next transition or animation sub-property
       for (uint32_t i = 0; !foundProperty && i < aNumProperties; ++i) {
         if (!parsedProperty[i]) {
           // if we haven't found this property yet, try to parse it
           if (ParseSingleValueProperty(tempValue, aProperties[i])) {
+            // FIXME: this accepts inherit
             parsedProperty[i] = true;
             cur[i] = AppendValueToList(aValues[i], cur[i], tempValue);
             foundProperty = true;
             haveAnyProperty = true;
             break; // out of inner loop; continue looking for next sub-property
           }
         }
       }
