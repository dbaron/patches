From: L. David Baron <dbaron@dbaron.org>

Add printf to debug HTML5 parser charset assertion.

diff --git a/parser/html/nsHtml5StreamParser.cpp b/parser/html/nsHtml5StreamParser.cpp
--- a/parser/html/nsHtml5StreamParser.cpp
+++ b/parser/html/nsHtml5StreamParser.cpp
@@ -1180,16 +1180,18 @@ nsHtml5StreamParser::PreferredForInterna
     newEncoding.Assign("UTF-8");
   }
 
   nsresult rv = NS_OK;
   bool eq;
   rv = nsCharsetAlias::Equals(newEncoding, mCharset, &eq);
   if (NS_FAILED(rv)) {
     NS_NOTREACHED("Charset name equality check failed.");
+    printf("mCharset=\"%s\" newEncoding=\"%s\"\n",
+           mCharset.get(), newEncoding.get());
     return false;
   }
   if (eq) {
     mCharsetSource = kCharsetFromMetaTag; // become confident
     mFeedChardet = false; // don't feed chardet when confident
     return false;
   }
   
