From: L. David Baron <dbaron@dbaron.org>

Convert all callers of CreateOneByteDecoder to pass compiled-in fast mapping tables.  (Bug 530330)

This patch was generated using the command:
find intl/uconv/ -name '*.cpp' -exec grep -l 'return CreateOneByteDecoder' {} \; | while read FNAME; do sed -i -e 's/g_Mac\(Roman\|Turkish\|Greek\|CE\)MappingTable/g_utMappingTable/g;s/^static const PRUint16 g_utMappingTable\[\]/static const PRUnichar g_futMappingTable\[256\]/;s/^#include "\(.*\)\.ut"$/#include "\1.fut"/;s/(uMappingTable\*) &g_utMappingTable/g_futMappingTable/' $FNAME; done

diff --git a/intl/uconv/src/nsCP1252ToUnicode.cpp b/intl/uconv/src/nsCP1252ToUnicode.cpp
--- a/intl/uconv/src/nsCP1252ToUnicode.cpp
+++ b/intl/uconv/src/nsCP1252ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1252ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1252.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1252.fut"
 };
 
 nsresult
 nsCP1252ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/src/nsISO88591ToUnicode.cpp b/intl/uconv/src/nsISO88591ToUnicode.cpp
--- a/intl/uconv/src/nsISO88591ToUnicode.cpp
+++ b/intl/uconv/src/nsISO88591ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88591ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1252.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1252.fut"
 };
 
 nsresult
 nsISO88591ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/src/nsMacRomanToUnicode.cpp b/intl/uconv/src/nsMacRomanToUnicode.cpp
--- a/intl/uconv/src/nsMacRomanToUnicode.cpp
+++ b/intl/uconv/src/nsMacRomanToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacRomanToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_MacRomanMappingTable[] = {
-#include "macroman.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macroman.fut"
 };
 
 nsresult
 nsMacRomanToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult)
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_MacRomanMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                             aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP1125ToUnicode.cpp b/intl/uconv/ucvibm/nsCP1125ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP1125ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP1125ToUnicode.cpp
@@ -3,22 +3,22 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1125ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1125.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1125.fut"
 };
 
 //----------------------------------------------------------------------
 // Class nsCP1125ToUnicode [implementation]
 
 nsresult
 nsCP1125ToUnicodeConstructor(nsISupports* aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvibm/nsCP1131ToUnicode.cpp b/intl/uconv/ucvibm/nsCP1131ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP1131ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP1131ToUnicode.cpp
@@ -3,22 +3,22 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1131ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1131.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1131.fut"
 };
 
 //----------------------------------------------------------------------
 // Class nsCP1131ToUnicode [implementation]
 
 nsresult
 nsCP1131ToUnicodeConstructor(nsISupports* aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvibm/nsCP850ToUnicode.cpp b/intl/uconv/ucvibm/nsCP850ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP850ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP850ToUnicode.cpp
@@ -18,22 +18,22 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP850ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp850.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp850.fut"
 };
 
 //----------------------------------------------------------------------
 // Class nsCP850ToUnicode [implementation]
 
 nsresult
 nsCP850ToUnicodeConstructor(nsISupports* aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvibm/nsCP852ToUnicode.cpp b/intl/uconv/ucvibm/nsCP852ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP852ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP852ToUnicode.cpp
@@ -18,20 +18,20 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP852ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp852.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp852.fut"
 };
 
 nsresult
 nsCP852ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP855ToUnicode.cpp b/intl/uconv/ucvibm/nsCP855ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP855ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP855ToUnicode.cpp
@@ -18,20 +18,20 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP855ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp855.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp855.fut"
 };
 
 nsresult
 nsCP855ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP857ToUnicode.cpp b/intl/uconv/ucvibm/nsCP857ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP857ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP857ToUnicode.cpp
@@ -18,20 +18,20 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP857ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp857.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp857.fut"
 };
 
 nsresult
 nsCP857ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP862ToUnicode.cpp b/intl/uconv/ucvibm/nsCP862ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP862ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP862ToUnicode.cpp
@@ -18,20 +18,20 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP862ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp862.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp862.fut"
 };
 
 nsresult
 nsCP862ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP864ToUnicode.cpp b/intl/uconv/ucvibm/nsCP864ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP864ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP864ToUnicode.cpp
@@ -18,20 +18,20 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP864ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp864.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp864.fut"
 };
 
 nsresult
 nsCP864ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvibm/nsCP864iToUnicode.cpp b/intl/uconv/ucvibm/nsCP864iToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP864iToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP864iToUnicode.cpp
@@ -18,22 +18,22 @@
  */
 
 #include "nsUCConstructors.h"
 #include "nsCP864iToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "864i.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "864i.fut"
 };
 
 nsresult
 nsCP864iToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
 
 
diff --git a/intl/uconv/ucvibm/nsCP869ToUnicode.cpp b/intl/uconv/ucvibm/nsCP869ToUnicode.cpp
--- a/intl/uconv/ucvibm/nsCP869ToUnicode.cpp
+++ b/intl/uconv/ucvibm/nsCP869ToUnicode.cpp
@@ -3,20 +3,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP869ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp869.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp869.fut"
 };
 
 nsresult
 nsCP869ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsARMSCII8ToUnicode.cpp b/intl/uconv/ucvlatin/nsARMSCII8ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsARMSCII8ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsARMSCII8ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsARMSCII8ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "armscii.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "armscii.fut"
 };
 
 nsresult
 nsARMSCII8ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsAsciiToUnicode.cpp b/intl/uconv/ucvlatin/nsAsciiToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsAsciiToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsAsciiToUnicode.cpp
@@ -7,19 +7,19 @@
 #include "nsAsciiToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
 // use iso-8859-1 decoder to interpret us-ascii. Some websites are mistakenly 
 // labeled as us-ascii for iso-8859-1. Be generous here should be fine. 
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1252.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1252.fut"
 };
 
 nsresult
 nsAsciiToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsCP1250ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1250ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1250ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1250ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1250ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1250.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1250.fut"
 };
 
 nsresult
 nsCP1250ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsCP1251ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1251ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1251ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1251ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1251ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1251.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1251.fut"
 };
 
 nsresult
 nsCP1251ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsCP1253ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1253ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1253ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1253ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1253ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1253.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1253.fut"
 };
 
 nsresult
 nsCP1253ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsCP1254ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1254ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1254ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1254ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1254ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1254.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1254.fut"
 };
 
 nsresult
 nsCP1254ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsCP1255ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1255ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1255ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1255ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1255ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1255.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1255.fut"
 };
 
 nsresult
 nsCP1255ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsCP1256ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1256ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1256ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1256ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1256ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1256.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1256.fut"
 };
 
 nsresult
 nsCP1256ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsCP1257ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1257ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1257ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1257ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1257ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1257.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1257.fut"
 };
 
 nsresult
 nsCP1257ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsCP1258ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP1258ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP1258ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP1258ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP1258ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp1258.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp1258.fut"
 };
 
 nsresult
 nsCP1258ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsCP866ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP866ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP866ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP866ToUnicode.cpp
@@ -4,21 +4,21 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP866ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp866.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp866.fut"
 };
 
 nsresult
 nsCP866ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
 
diff --git a/intl/uconv/ucvlatin/nsCP874ToUnicode.cpp b/intl/uconv/ucvlatin/nsCP874ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsCP874ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsCP874ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsCP874ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "cp874.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "cp874.fut"
 };
 
 nsresult
 nsCP874ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsISO885910ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO885910ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO885910ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO885910ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO885910ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-10.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-10.fut"
 };
 
 nsresult
 nsISO885910ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO885913ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO885913ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO885913ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO885913ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO885913ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-13.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-13.fut"
 };
 
 nsresult
 nsISO885913ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO885914ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO885914ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO885914ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO885914ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO885914ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-14.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-14.fut"
 };
 
 nsresult
 nsISO885914ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsISO885915ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO885915ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO885915ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO885915ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO885915ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-15.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-15.fut"
 };
 
 nsresult
 nsISO885915ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsISO885916ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO885916ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO885916ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO885916ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO885916ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-16.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-16.fut"
 };
 
 nsresult
 nsISO885916ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsISO88592ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88592ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88592ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88592ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88592ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-2.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-2.fut"
 };
 
 nsresult
 nsISO88592ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO88593ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88593ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88593ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88593ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88593ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-3.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-3.fut"
 };
 
 nsresult
 nsISO88593ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO88594ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88594ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88594ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88594ToUnicode.cpp
@@ -4,21 +4,21 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88594ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-4.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-4.fut"
 };
 
 nsresult
 nsISO88594ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
 
diff --git a/intl/uconv/ucvlatin/nsISO88595ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88595ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88595ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88595ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88595ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-5.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-5.fut"
 };
 
 nsresult
 nsISO88595ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO88596ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88596ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88596ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88596ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88596ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-6.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-6.fut"
 };
 
 nsresult
 nsISO88596ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO88597ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88597ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88597ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88597ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88597ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-7.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-7.fut"
 };
 
 nsresult
 nsISO88597ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISO88598ToUnicode.cpp b/intl/uconv/ucvlatin/nsISO88598ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISO88598ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISO88598ToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISO88598ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "8859-8.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "8859-8.fut"
 };
 
 nsresult
 nsISO88598ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsISOIR111ToUnicode.cpp b/intl/uconv/ucvlatin/nsISOIR111ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsISOIR111ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsISOIR111ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsISOIR111ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "iso-ir-111.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "iso-ir-111.fut"
 };
 
 nsresult
 nsISOIR111ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsKOI8RToUnicode.cpp b/intl/uconv/ucvlatin/nsKOI8RToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsKOI8RToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsKOI8RToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsKOI8RToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "koi8r.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "koi8r.fut"
 };
 
 nsresult
 nsKOI8RToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsKOI8UToUnicode.cpp b/intl/uconv/ucvlatin/nsKOI8UToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsKOI8UToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsKOI8UToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsKOI8UToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "koi8u.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "koi8u.fut"
 };
 
 nsresult
 nsKOI8UToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacArabicToUnicode.cpp b/intl/uconv/ucvlatin/nsMacArabicToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacArabicToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacArabicToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacArabicToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macarabic.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macarabic.fut"
 };
 
 nsresult
 nsMacArabicToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacCEToUnicode.cpp b/intl/uconv/ucvlatin/nsMacCEToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacCEToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacCEToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacCEToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_MacCEMappingTable[] = {
-#include "macce.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macce.fut"
 };
 
 nsresult
 nsMacCEToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                             void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_MacCEMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                             aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsMacCroatianToUnicode.cpp b/intl/uconv/ucvlatin/nsMacCroatianToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacCroatianToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacCroatianToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacCroatianToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "maccroat.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "maccroat.fut"
 };
 
 nsresult
 nsMacCroatianToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsMacCyrillicToUnicode.cpp b/intl/uconv/ucvlatin/nsMacCyrillicToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacCyrillicToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacCyrillicToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacCyrillicToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "maccyril.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "maccyril.fut"
 };
 
 nsresult
 nsMacCyrillicToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsMacDevanagariToUnicode.cpp b/intl/uconv/ucvlatin/nsMacDevanagariToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacDevanagariToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacDevanagariToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacDevanagariToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macdevanaga.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macdevanaga.fut"
 };
 
 nsresult
 nsMacDevanagariToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                     void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacFarsiToUnicode.cpp b/intl/uconv/ucvlatin/nsMacFarsiToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacFarsiToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacFarsiToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacFarsiToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macfarsi.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macfarsi.fut"
 };
 
 nsresult
 nsMacFarsiToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacGreekToUnicode.cpp b/intl/uconv/ucvlatin/nsMacGreekToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacGreekToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacGreekToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacGreekToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_MacGreekMappingTable[] = {
-#include "macgreek.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macgreek.fut"
 };
 
 nsresult
 nsMacGreekToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_MacGreekMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                             aOuter, aIID, aResult);
 }
 
diff --git a/intl/uconv/ucvlatin/nsMacGujaratiToUnicode.cpp b/intl/uconv/ucvlatin/nsMacGujaratiToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacGujaratiToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacGujaratiToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacGujaratiToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macgujarati.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macgujarati.fut"
 };
 
 nsresult
 nsMacGujaratiToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacGurmukhiToUnicode.cpp b/intl/uconv/ucvlatin/nsMacGurmukhiToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacGurmukhiToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacGurmukhiToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacGurmukhiToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macgurmukhi.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macgurmukhi.fut"
 };
 
 nsresult
 nsMacGurmukhiToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacHebrewToUnicode.cpp b/intl/uconv/ucvlatin/nsMacHebrewToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacHebrewToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacHebrewToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacHebrewToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "machebrew.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "machebrew.fut"
 };
 
 nsresult
 nsMacHebrewToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                 void **aResult) 
 {
-   return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+   return CreateOneByteDecoder(g_futMappingTable,
                                aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacIcelandicToUnicode.cpp b/intl/uconv/ucvlatin/nsMacIcelandicToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacIcelandicToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacIcelandicToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacIcelandicToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macicela.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macicela.fut"
 };
 
 nsresult
 nsMacIcelandicToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                    void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacRomanianToUnicode.cpp b/intl/uconv/ucvlatin/nsMacRomanianToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacRomanianToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacRomanianToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacRomanianToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "macro.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macro.fut"
 };
 
 nsresult
 nsMacRomanianToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsMacTurkishToUnicode.cpp b/intl/uconv/ucvlatin/nsMacTurkishToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsMacTurkishToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsMacTurkishToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsMacTurkishToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_MacTurkishMappingTable[] = {
-#include "macturki.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "macturki.fut"
 };
 
 nsresult
 nsMacTurkishToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                  void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_MacTurkishMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                             aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsTCVN5712ToUnicode.cpp b/intl/uconv/ucvlatin/nsTCVN5712ToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsTCVN5712ToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsTCVN5712ToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsTCVN5712ToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "tcvn5712.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "tcvn5712.fut"
 };
 
 nsresult
 nsTCVN5712ToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsUserDefinedToUnicode.cpp b/intl/uconv/ucvlatin/nsUserDefinedToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsUserDefinedToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsUserDefinedToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsUCConstructors.h"
 #include "nsUserDefinedToUnicode.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "userdefined.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "userdefined.fut"
 };
 
 nsresult
 nsUserDefinedToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                                   void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsVISCIIToUnicode.cpp b/intl/uconv/ucvlatin/nsVISCIIToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsVISCIIToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsVISCIIToUnicode.cpp
@@ -4,19 +4,19 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsVISCIIToUnicode.h"
 #include "nsUCConstructors.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "viscii.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "viscii.fut"
 };
 
 nsresult
 nsVISCIIToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                              void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
diff --git a/intl/uconv/ucvlatin/nsVPSToUnicode.cpp b/intl/uconv/ucvlatin/nsVPSToUnicode.cpp
--- a/intl/uconv/ucvlatin/nsVPSToUnicode.cpp
+++ b/intl/uconv/ucvlatin/nsVPSToUnicode.cpp
@@ -4,20 +4,20 @@
  * file, You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 #include "nsVPSToUnicode.h"
 #include "nsUCConstructors.h"
 
 //----------------------------------------------------------------------
 // Global functions and data [declaration]
 
-static const PRUint16 g_utMappingTable[] = {
-#include "vps.ut"
+static const PRUnichar g_futMappingTable[256] = {
+#include "vps.fut"
 };
 
 nsresult
 nsVPSToUnicodeConstructor(nsISupports *aOuter, REFNSIID aIID,
                           void **aResult) 
 {
-  return CreateOneByteDecoder((uMappingTable*) &g_utMappingTable,
+  return CreateOneByteDecoder(g_futMappingTable,
                               aOuter, aIID, aResult);
 }
 
