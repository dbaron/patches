Make CheckFontProperties consider font-size:larger and font-size:smaller as well.  b=388548

diff --git a/layout/style/nsRuleNode.cpp b/layout/style/nsRuleNode.cpp
--- a/layout/style/nsRuleNode.cpp
+++ b/layout/style/nsRuleNode.cpp
@@ -707,10 +707,14 @@ CheckFontCallback(const nsRuleDataStruct
     }
   }
 
-  // em, ex, and percentage values for font size require inheritance
-  if ((fontData.mSize.IsRelativeLengthUnit() &&
-       fontData.mSize.GetUnit() != eCSSUnit_Pixel) ||
-      fontData.mSize.GetUnit() == eCSSUnit_Percent) {
+  // em, ex, percent, 'larger', and 'smaller' values on font-size depend
+  // on the parent context's font-size
+  const nsCSSValue& size = fontData.mSize;
+  if ((size.IsRelativeLengthUnit() && size.GetUnit() != eCSSUnit_Pixel) ||
+      size.GetUnit() == eCSSUnit_Percent ||
+      (size.GetUnit() == eCSSUnit_Enumerated &&
+       (size.GetIntValue() == NS_STYLE_FONT_SIZE_SMALLER ||
+        size.GetIntValue() == NS_STYLE_FONT_SIZE_LARGER))) {
     NS_ASSERTION(aResult == nsRuleNode::eRulePartialReset ||
                  aResult == nsRuleNode::eRuleFullReset ||
                  aResult == nsRuleNode::eRulePartialMixed ||
