From: L. David Baron <dbaron@dbaron.org>

Bug 960465 patch N - Fix ancestor-descendant coalescing in RestyleTracker.

diff --git a/layout/base/RestyleTracker.cpp b/layout/base/RestyleTracker.cpp
--- a/layout/base/RestyleTracker.cpp
+++ b/layout/base/RestyleTracker.cpp
@@ -205,16 +205,17 @@ RestyleTracker::DoProcessRestyles()
       ProcessOneRestyle(element, data.mRestyleHint, data.mChangeHint);
     }
 
     if (mHaveLaterSiblingRestyles) {
       // Keep processing restyles for now
       continue;
     }
 
+    // FIXME: Is this true anymore?  What gets added as a root?
     // Now we only have entries with change hints left.  To be safe in
     // case of reentry from the handing of the change hint, use a
     // scratch array instead of calling out to ProcessOneRestyle while
     // enumerating the hashtable.  Use the stack if we can, otherwise
     // fall back on heap-allocation.
     nsAutoTArray<RestyleEnumerateData, RESTYLE_ARRAY_STACKSIZE> restyleArr;
     RestyleEnumerateData* restylesToProcess =
       restyleArr.AppendElements(mPendingRestyles.Count());
