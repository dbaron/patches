From: L. David Baron <dbaron@dbaron.org>

Remove unused functions from GLXLibrary.  (Bug 605992)

diff --git a/gfx/thebes/GLContextProviderGLX.cpp b/gfx/thebes/GLContextProviderGLX.cpp
--- a/gfx/thebes/GLContextProviderGLX.cpp
+++ b/gfx/thebes/GLContextProviderGLX.cpp
@@ -79,30 +79,26 @@ GLXLibrary::EnsureInitialized()
 	    return PR_FALSE;
         }
     }
 
     LibrarySymbolLoader::SymLoadStruct symbols[] = {
         { (PRFuncPtr*) &xDestroyContext, { "glXDestroyContext", NULL } },
         { (PRFuncPtr*) &xMakeCurrent, { "glXMakeCurrent", NULL } },
         { (PRFuncPtr*) &xGetProcAddress, { "glXGetProcAddress", NULL } },
-        { (PRFuncPtr*) &xChooseVisual, { "glXChooseVisual", NULL } },
         { (PRFuncPtr*) &xChooseFBConfig, { "glXChooseFBConfig", NULL } },
         { (PRFuncPtr*) &xGetFBConfigs, { "glXGetFBConfigs", NULL } },
-        { (PRFuncPtr*) &xCreatePbuffer, { "glXCreatePbuffer", NULL } },
         { (PRFuncPtr*) &xCreateNewContext, { "glXCreateNewContext", NULL } },
-        { (PRFuncPtr*) &xDestroyPbuffer, { "glXDestroyPbuffer", NULL } },
         { (PRFuncPtr*) &xGetVisualFromFBConfig, { "glXGetVisualFromFBConfig", NULL } },
         { (PRFuncPtr*) &xGetFBConfigAttrib, { "glXGetFBConfigAttrib", NULL } },
         { (PRFuncPtr*) &xSwapBuffers, { "glXSwapBuffers", NULL } },
         { (PRFuncPtr*) &xQueryServerString, { "glXQueryServerString", NULL } },
         { (PRFuncPtr*) &xCreatePixmap, { "glXCreatePixmap", NULL } },
         { (PRFuncPtr*) &xDestroyPixmap, { "glXDestroyPixmap", NULL } },
         { (PRFuncPtr*) &xGetClientString, { "glXGetClientString", NULL } },
-        { (PRFuncPtr*) &xCreateContext, { "glXCreateContext", NULL } },
         { (PRFuncPtr*) &xGetCurrentContext, { "glXGetCurrentContext", NULL } },
         { NULL, { NULL } }
     };
 
     if (!LibrarySymbolLoader::LoadSymbols(mOGLLibrary, &symbols[0])) {
         NS_WARNING("Couldn't find required entry point in OpenGL shared library");
         return PR_FALSE;
     }
diff --git a/gfx/thebes/GLXLibrary.h b/gfx/thebes/GLXLibrary.h
--- a/gfx/thebes/GLXLibrary.h
+++ b/gfx/thebes/GLXLibrary.h
@@ -53,43 +53,31 @@ public:
     typedef Bool (GLAPIENTRY * PFNGLXMAKECURRENTPROC) (Display*,
                                                        GLXDrawable,
                                                        GLXContext);
     PFNGLXMAKECURRENTPROC xMakeCurrent;
     typedef GLXContext (GLAPIENTRY * PFNGLXGETCURRENTCONTEXT) ();
     PFNGLXGETCURRENTCONTEXT xGetCurrentContext;
     typedef void* (GLAPIENTRY * PFNGLXGETPROCADDRESSPROC) (const char *);
     PFNGLXGETPROCADDRESSPROC xGetProcAddress;
-    typedef XVisualInfo* (GLAPIENTRY * PFNGLXCHOOSEVISUALPROC) (Display*,
-                                                                int,
-                                                                int *);
-    PFNGLXCHOOSEVISUALPROC xChooseVisual;
     typedef GLXFBConfig* (GLAPIENTRY * PFNGLXCHOOSEFBCONFIG) (Display *,
                                                               int,
                                                               const int *,
                                                               int *);
     PFNGLXCHOOSEFBCONFIG xChooseFBConfig;
     typedef GLXFBConfig* (GLAPIENTRY * PFNGLXGETFBCONFIGS) (Display *,
                                                             int,
                                                             int *);
     PFNGLXGETFBCONFIGS xGetFBConfigs;
-    typedef GLXPbuffer (GLAPIENTRY * PFNGLXCREATEPBUFFER) (Display *,
-                                                           GLXFBConfig,
-                                                           const int *);
-    PFNGLXCREATEPBUFFER xCreatePbuffer;
     typedef GLXContext (GLAPIENTRY * PFNGLXCREATENEWCONTEXT) (Display *,
                                                               GLXFBConfig,
                                                               int,
                                                               GLXContext,
                                                               Bool);
     PFNGLXCREATENEWCONTEXT xCreateNewContext;
-    typedef void (GLAPIENTRY * PFNGLXDESTROYPBUFFER) (Display *,
-                                                      GLXPbuffer);
-    PFNGLXDESTROYPBUFFER xDestroyPbuffer;
-
     typedef XVisualInfo* (GLAPIENTRY * PFNGLXGETVISUALFROMFBCONFIG) (Display *,
                                                                      GLXFBConfig);
     PFNGLXGETVISUALFROMFBCONFIG xGetVisualFromFBConfig;
     typedef int (GLAPIENTRY * PFNGLXGETFBCONFIGATTRIB) (Display *, 
                                                         GLXFBConfig,
                                                         int,
                                                         int *);
     PFNGLXGETFBCONFIGATTRIB xGetFBConfigAttrib;
@@ -113,25 +101,16 @@ public:
     typedef const char * (GLAPIENTRY * PFNGLXGETCLIENTSTRING) (Display *,
                                                                int);
     PFNGLXGETCLIENTSTRING xGetClientString;
     typedef GLXContext (GLAPIENTRY * PFNGLXCREATECONTEXT) (Display *,
                                                            XVisualInfo *,
                                                            GLXContext,
                                                            Bool);
     PFNGLXCREATECONTEXT xCreateContext;
-    typedef int (GLAPIENTRY * PFNGLXGETCONFIG) (Display *,
-                                                XVisualInfo *,
-                                                int,
-                                                int *);
-    PFNGLXGETCONFIG xGetConfig;
-    typedef GLXPixmap (GLAPIENTRY * PFNGLXCREATEGLXPIXMAP) (Display *,
-                                                            XVisualInfo *,
-                                                            Pixmap);
-    PFNGLXCREATEGLXPIXMAP xCreateGLXPixmap;
 
     PRBool EnsureInitialized();
 
 private:
     PRBool mInitialized;
     PRLibrary *mOGLLibrary;
 };
 
