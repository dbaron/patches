From: L. David Baron <dbaron@dbaron.org>

Bug 1125455 patch 1 - Add boolean for whether an animation of a property wins in the CSS cascade.

diff --git a/dom/animation/Animation.h b/dom/animation/Animation.h
--- a/dom/animation/Animation.h
+++ b/dom/animation/Animation.h
@@ -116,16 +116,30 @@ struct AnimationPropertySegment
   float mFromKey, mToKey;
   StyleAnimationValue mFromValue, mToValue;
   ComputedTimingFunction mTimingFunction;
 };
 
 struct AnimationProperty
 {
   nsCSSProperty mProperty;
+
+  // Does this property win in the CSS Cascade?
+  //
+  // For CSS transitions, this is true as long as a CSS animation on the
+  // same property and element is not running, in which case we set this
+  // to false so that the animation (lower in the cascade) can win.  We
+  // then use this to decide whether to apply the style both in the CSS
+  // cascade and for OMTA.
+  //
+  // FUTURE: For CSS Animations, which are overridden by !important rules in the
+  // cascade, we actually determine this from the CSS cascade
+  // computations, and then use it for OMTA.
+  bool mWinsInCascade;
+
   InfallibleTArray<AnimationPropertySegment> mSegments;
 };
 
 struct ElementPropertyTransition;
 
 namespace dom {
 
 class AnimationEffect;
