From: L. David Baron <dbaron@dbaron.org>

Calls to NS_CYCLE_COLLECTION_NOTE_EDGE_NAME should not be enclosed in DEBUG_CC.  (Bug 523965)

diff --git a/parser/html/nsHtml5TreeBuilderCppSupplement.h b/parser/html/nsHtml5TreeBuilderCppSupplement.h
--- a/parser/html/nsHtml5TreeBuilderCppSupplement.h
+++ b/parser/html/nsHtml5TreeBuilderCppSupplement.h
@@ -439,38 +439,32 @@ void
 nsHtml5TreeBuilder::DoTraverse(nsCycleCollectionTraversalCallback &cb)
 {
   nsHtml5TreeBuilder* tmp = this;
   NS_IMPL_CYCLE_COLLECTION_TRAVERSE_RAWPTR(contextNode);
   NS_IMPL_CYCLE_COLLECTION_TRAVERSE_RAWPTR(formPointer);
   NS_IMPL_CYCLE_COLLECTION_TRAVERSE_RAWPTR(headPointer);
   if (stack) {
     for (PRInt32 i = 0; i <= currentPtr; i++) {
-#ifdef DEBUG_CC
       NS_CYCLE_COLLECTION_NOTE_EDGE_NAME(cb, "stack[i]");
-#endif
       cb.NoteNativeChild(stack[i], &NS_CYCLE_COLLECTION_NAME(nsHtml5StackNode));
     }
   }
   if (listOfActiveFormattingElements) {
     for (PRInt32 i = 0; i <= listPtr; i++) {
       if (listOfActiveFormattingElements[i]) {
-#ifdef DEBUG_CC
         NS_CYCLE_COLLECTION_NOTE_EDGE_NAME(cb, "listOfActiveFormattingElements[i]");
-#endif
         cb.NoteNativeChild(listOfActiveFormattingElements[i], &NS_CYCLE_COLLECTION_NAME(nsHtml5StackNode));
       }
     }
   }
   const nsHtml5TreeOperation* start = mOpQueue.Elements();
   const nsHtml5TreeOperation* end = start + mOpQueue.Length();
   for (nsHtml5TreeOperation* iter = (nsHtml5TreeOperation*)start; iter < end; ++iter) {
-#ifdef DEBUG_CC
     NS_CYCLE_COLLECTION_NOTE_EDGE_NAME(cb, "mOpQueue[i]");
-#endif
     iter->DoTraverse(cb);
   }
 }
 
 // DocumentModeHandler
 void
 nsHtml5TreeBuilder::documentMode(nsHtml5DocumentMode m)
 {
