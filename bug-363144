diff -r ada7e8a8a3a1 layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp	Fri Jan 12 11:57:48 2007 -0800
+++ b/layout/tables/BasicTableLayoutStrategy.cpp	Fri Jan 12 11:57:53 2007 -0800
@@ -341,7 +341,7 @@ BasicTableLayoutStrategy::ComputeColumnI
 
             // Accumulate information about the spanned columns, and
             // subtract the already-used space from |info|.
-            nscoord totalSPref = 0, totalSNonPctPref = 0;
+            nscoord totalSPref = 0, totalSMin = 0, totalSNonPctPref = 0;
             PRInt32 nonPctCount = 0;
             PRInt32 scol, scol_end;
             for (scol = col, scol_end = col + colSpan;
@@ -359,6 +359,7 @@ BasicTableLayoutStrategy::ComputeColumnI
                 }
 
                 totalSPref += scolFrame->GetPrefCoord();
+                totalSMin += scolFrame->GetMinCoord();
                 float scolPct = scolFrame->GetPrefPercent();
                 if (scolPct == 0.0f) {
                     totalSNonPctPref += scolFrame->GetPrefCoord();
@@ -388,6 +389,11 @@ BasicTableLayoutStrategy::ComputeColumnI
                 }
             }
 
+            nscoord minWithinPref =
+                PR_MIN(info.minCoord, totalSPref - totalSMin);
+            NS_ASSERTION(minWithinPref >= 0, "neither value can be negative");
+            info.minCoord -= minWithinPref;
+
             // ... and actually do the distribution.
             for (scol = col, scol_end = col + colSpan;
                  scol < scol_end; ++scol) {
@@ -406,6 +412,15 @@ BasicTableLayoutStrategy::ComputeColumnI
                     scolFrame->AddSpanPrefPercent(spp);
                 }
 
+                // Distribute any min that fits under the pref width
+                // within the difference between min and pref width.
+                float minRatio = 0.0f;
+                if (minWithinPref > 0) {
+                    minRatio = float(scolFrame->GetPrefCoord() -
+                                     scolFrame->GetMinCoord()) /
+                               float(totalSPref - totalSMin);
+                }
+
                 float coordRatio; // for both min and pref
                 if (totalSPref > 0) {
                     coordRatio = float(scolFrame->GetPrefCoord()) /
@@ -414,7 +429,8 @@ BasicTableLayoutStrategy::ComputeColumnI
                     coordRatio = 1.0f / float(colSpan);
                 }
                 scolFrame->AddSpanMinCoord(NSToCoordRound(
-                               float(info.minCoord) * coordRatio));
+                               float(info.minCoord) * coordRatio +
+                               float(minWithinPref) * minRatio));
                 scolFrame->AddSpanPrefCoord(NSToCoordRound(
                                float(info.prefCoord) * coordRatio));
             }
