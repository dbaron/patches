Build fixes for --enable-libxul plus --enable-trace-malloc for non-Firefox apps.  (Untested.)

diff --git a/calendar/sunbird/app/Makefile.in b/calendar/sunbird/app/Makefile.in
--- a/calendar/sunbird/app/Makefile.in
+++ b/calendar/sunbird/app/Makefile.in
@@ -160,7 +160,10 @@ ifndef BUILD_STATIC_LIBS
 ifndef BUILD_STATIC_LIBS
 
 ifdef NS_TRACE_MALLOC
+# when libxul is enabled, trace-malloc is part of it
+ifndef MOZ_ENABLE_LIBXUL
 EXTRA_DSO_LIBS += tracemalloc
+endif
 endif
 
 else
diff --git a/mail/app/Makefile.in b/mail/app/Makefile.in
--- a/mail/app/Makefile.in
+++ b/mail/app/Makefile.in
@@ -152,7 +152,10 @@ ifndef BUILD_STATIC_LIBS
 ifndef BUILD_STATIC_LIBS
 
 ifdef NS_TRACE_MALLOC
+# when libxul is enabled, trace-malloc is part of it
+ifndef MOZ_ENABLE_LIBXUL
 EXTRA_DSO_LIBS += tracemalloc
+endif
 endif
 
 else
diff --git a/suite/app/Makefile.in b/suite/app/Makefile.in
--- a/suite/app/Makefile.in
+++ b/suite/app/Makefile.in
@@ -134,7 +134,10 @@ ifndef BUILD_STATIC_LIBS
 ifndef BUILD_STATIC_LIBS
 
 ifdef NS_TRACE_MALLOC
+# when libxul is enabled, trace-malloc is part of it
+ifndef MOZ_ENABLE_LIBXUL
 EXTRA_DSO_LIBS += tracemalloc
+endif
 endif
 
 else
diff --git a/xulrunner/app/Makefile.in b/xulrunner/app/Makefile.in
--- a/xulrunner/app/Makefile.in
+++ b/xulrunner/app/Makefile.in
@@ -149,7 +149,10 @@ endif
 endif
 
 ifdef NS_TRACE_MALLOC
+# when libxul is enabled, trace-malloc is part of it
+ifndef MOZ_ENABLE_LIBXUL
 EXTRA_DSO_LIBS += tracemalloc
+endif
 endif
 
 ifeq ($(OS_ARCH),WINNT)
