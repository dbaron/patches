Add some simple tests for units (since code coverage output showed we weren't testing serialization of all of them).

diff --git a/layout/style/test/Makefile.in b/layout/style/test/Makefile.in
--- a/layout/style/test/Makefile.in
+++ b/layout/style/test/Makefile.in
@@ -122,16 +122,20 @@ _TEST_FILES =	test_acid3_test46.html \
 		test_property_database.html \
 		test_priority_preservation.html \
 		test_property_syntax_errors.html \
 		test_selectors.html \
 		test_selectors_on_anonymous_content.html \
 		test_shorthand_property_getters.html \
 		test_style_struct_copy_constructors.html \
 		test_system_font_serialization.html \
+		test_units_angle.html \
+		test_units_frequency.html \
+		test_units_length.html \
+		test_units_time.html \
 		test_value_computation.html \
 		test_value_storage.html \
 		test_visited_pref.html \
 		css_properties.js \
 		property_database.js \
 		descriptor_database.js \
 		unstyled.xml \
 		unstyled.css \
diff --git a/layout/style/test/test_units_angle.html b/layout/style/test/test_units_angle.html
new file mode 100644
--- /dev/null
+++ b/layout/style/test/test_units_angle.html
@@ -0,0 +1,53 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+  <title>Test for serialization and equivalence of angle units</title>
+  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
+</head>
+<body>
+<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
+<p id="display"></p>
+<div id="content" style="display: none">
+  
+</div>
+<pre id="test">
+<script type="application/javascript">
+
+/** Test for serialization and equivalence of angle units **/
+
+/**
+ * We test that for each of the following:
+ *  + they reserialize to exactly what is given
+ *  + if a mapping is provided, they compute to the same result as the mapping
+ */
+var tests = {
+  "45deg": "50grad",
+  "150grad": "135deg",
+  "1rad": null
+};
+
+var p = document.getElementById("display");
+
+for (var test in tests) {
+  p.setAttribute("style", "elevation: " + test);
+  is(p.style.getPropertyValue("elevation"), test,
+     test + " serializes to exactly itself");
+  // We can't test any equivalence since we don't have any properties
+  // with angle values that we compute.  (-moz-transform doesn't help.)
+/*
+  var equiv = tests[test];
+  if (equiv) {
+    var cm1 = getComputedStyle(p, "").elevation;
+    p.style.elevation = equiv;
+    var cm2 = getComputedStyle(p, "").elevation;
+    is(cm1, cm2, test + " should compute to the same as " + equiv);
+  }
+*/
+}
+
+</script>
+</pre>
+</body>
+</html>
diff --git a/layout/style/test/test_units_frequency.html b/layout/style/test/test_units_frequency.html
new file mode 100644
--- /dev/null
+++ b/layout/style/test/test_units_frequency.html
@@ -0,0 +1,52 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+  <title>Test for serialization and equivalence of frequency units</title>
+  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
+</head>
+<body>
+<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
+<p id="display"></p>
+<div id="content" style="display: none">
+  
+</div>
+<pre id="test">
+<script type="application/javascript">
+
+/** Test for serialization and equivalence of frequency units **/
+
+/**
+ * We test that for each of the following:
+ *  + they reserialize to exactly what is given
+ *  + if a mapping is provided, they compute to the same result as the mapping
+ */
+var tests = {
+  "7kHz": "7000Hz",
+  "300Hz": "0.3khz"
+};
+
+var p = document.getElementById("display");
+
+for (var test in tests) {
+  p.setAttribute("style", "pitch: " + test);
+  is(p.style.getPropertyValue("pitch"), test,
+     test + " serializes to exactly itself");
+  // We can't test any equivalence since we don't have any properties
+  // with angle values that we compute.
+/*
+  var equiv = tests[test];
+  if (equiv) {
+    var cm1 = getComputedStyle(p, "").pitch;
+    p.style.pitch = equiv;
+    var cm2 = getComputedStyle(p, "").pitch;
+    is(cm1, cm2, test + " should compute to the same as " + equiv);
+  }
+*/
+}
+
+</script>
+</pre>
+</body>
+</html>
diff --git a/layout/style/test/test_units_length.html b/layout/style/test/test_units_length.html
new file mode 100644
--- /dev/null
+++ b/layout/style/test/test_units_length.html
@@ -0,0 +1,55 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+  <title>Test for serialization and equivalence of length units</title>
+  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
+</head>
+<body>
+<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
+<p id="display"></p>
+<div id="content" style="display: none">
+  
+</div>
+<pre id="test">
+<script type="application/javascript">
+
+/** Test for serialization and equivalence of length units **/
+
+/**
+ * We test that for each of the following:
+ *  + they reserialize to exactly what is given
+ *  + if a mapping is provided, they compute to the same result as the mapping
+ */
+var tests = {
+  "1in": "72pt",
+  "20mm": "2cm",
+  "2.54cm": "1in",
+  "36pt": "0.5in",
+  "4pc": "48pt",
+  "1em": null,
+  "3ex": null,
+  "57px": null,
+  "5rem": null
+};
+
+var p = document.getElementById("display");
+
+for (var test in tests) {
+  p.setAttribute("style", "margin-left: " + test);
+  is(p.style.getPropertyValue("margin-left"), test,
+     test + " serializes to exactly itself");
+  var equiv = tests[test];
+  if (equiv) {
+    var cm1 = getComputedStyle(p, "").marginLeft;
+    p.style.marginLeft = equiv;
+    var cm2 = getComputedStyle(p, "").marginLeft;
+    is(cm1, cm2, test + " should compute to the same as " + equiv);
+  }
+}
+
+</script>
+</pre>
+</body>
+</html>
diff --git a/layout/style/test/test_units_time.html b/layout/style/test/test_units_time.html
new file mode 100644
--- /dev/null
+++ b/layout/style/test/test_units_time.html
@@ -0,0 +1,52 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+  <title>Test for serialization and equivalence of time units</title>
+  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
+  <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
+</head>
+<body>
+<a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
+<p id="display"></p>
+<div id="content" style="display: none">
+  
+</div>
+<pre id="test">
+<script type="application/javascript">
+
+/** Test for serialization and equivalence of time units **/
+
+/**
+ * We test that for each of the following:
+ *  + they reserialize to exactly what is given
+ *  + if a mapping is provided, they compute to the same result as the mapping
+ */
+var tests = {
+  "3s": "3000ms",
+  "500ms": "0.5s"
+};
+
+var p = document.getElementById("display");
+
+for (var test in tests) {
+  p.setAttribute("style", "pause-before: " + test);
+  is(p.style.getPropertyValue("pause-before"), test,
+     test + " serializes to exactly itself");
+  // We can't test any equivalence since we don't have any properties
+  // with angle values that we compute.
+/*
+  var equiv = tests[test];
+  if (equiv) {
+    var cm1 = getComputedStyle(p, "").pauseBefore;
+    p.style.pauseBefore = equiv;
+    var cm2 = getComputedStyle(p, "").pauseBefore;
+    is(cm1, cm2, test + " should compute to the same as " + equiv);
+  }
+*/
+}
+
+</script>
+</pre>
+</body>
+</html>
