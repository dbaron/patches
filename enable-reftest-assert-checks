From: L. David Baron <dbaron@dbaron.org>

Enable the reporting of assertion failures in the reftest harness.  (Bug 472557)

diff --git a/layout/tools/reftest/reftest.js b/layout/tools/reftest/reftest.js
--- a/layout/tools/reftest/reftest.js
+++ b/layout/tools/reftest/reftest.js
@@ -664,20 +664,16 @@ function StartCurrentURI(aState)
     } else {
         dump("REFTEST INFO | Loading " + gCurrentURL + "\n");
         gBrowser.loadURI(gCurrentURL);
     }
 }
 
 function DoneTests()
 {
-    // TEMPORARILY DISABLE REPORTING OF ASSERTION FAILURES.
-    gTestResults.AssertionUnexpected = 0;
-    gTestResults.AssertionUnexpectedFixed = 0;
-
     dump("REFTEST FINISHED: Slowest test took " + gSlowestTestTime +
          "ms (" + gSlowestTestURL + ")\n");
 
     dump("REFTEST INFO | Result summary:\n");
     var count = gTestResults.Pass + gTestResults.LoadOnly;
     dump("REFTEST INFO | Successful: " + count + " (" +
          gTestResults.Pass + " pass, " +
          gTestResults.LoadOnly + " load only)\n");
@@ -1189,26 +1185,22 @@ function DoAssertionCheck()
         var expectedAssertions = "expected " + minAsserts;
         if (minAsserts != maxAsserts) {
             expectedAssertions += " to " + maxAsserts;
         }
         expectedAssertions += " assertions";
 
         if (numAsserts < minAsserts) {
             ++gTestResults.AssertionUnexpectedFixed;
-            // TEMPORARILY DISABLING REPORTING ON TINDERBOX BY REVERSING
-            // THE WORD "UNEXPECTED".
-            dump("REFTEST TEST-DETCEPXENU-PASS | " + gURLs[0].prettyPath +
+            dump("REFTEST TEST-UNEXPECTED-PASS | " + gURLs[0].prettyPath +
                  " | assertion count " + numAsserts + " is less than " +
                  expectedAssertions + "\n");
         } else if (numAsserts > maxAsserts) {
             ++gTestResults.AssertionUnexpected;
-            // TEMPORARILY DISABLING REPORTING ON TINDERBOX BY REVERSING
-            // THE WORD "UNEXPECTED".
-            dump("REFTEST TEST-DETCEPXENU-FAIL | " + gURLs[0].prettyPath +
+            dump("REFTEST TEST-UNEXPECTED-FAIL | " + gURLs[0].prettyPath +
                  " | assertion count " + numAsserts + " is more than " +
                  expectedAssertions + "\n");
         } else if (numAsserts != 0) {
             ++gTestResults.AssertionKnown;
             dump("REFTEST TEST-KNOWN-FAIL | " + gURLs[0].prettyPath +
                  " | assertion count " + numAsserts + " matches " +
                  expectedAssertions + "\n");
         }
