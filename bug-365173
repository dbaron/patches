diff -r 8beff93a29eb layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp	Fri Jan 12 10:38:39 2007 -0800
+++ b/layout/tables/BasicTableLayoutStrategy.cpp	Fri Jan 12 10:38:42 2007 -0800
@@ -292,6 +292,12 @@ BasicTableLayoutStrategy::ComputeColumnI
             colFrame->AddPrefCoord(info.prefCoord, info.hasSpecifiedWidth);
             colFrame->AddPrefPercent(info.prefPercent);
         }
+#ifdef DEBUG_dbaron_off
+        printf("table %p col %d nonspan: min=%d pref=%d spec=%d pct=%f\n",
+               mTableFrame, col, colFrame->GetMinCoord(),
+               colFrame->GetPrefCoord(), colFrame->GetHasSpecifiedCoord(),
+               colFrame->GetPrefPercent());
+#endif
     }
 #ifdef DEBUG_TABLE_STRATEGY
     printf("ComputeColumnIntrinsicWidths single\n");
@@ -425,12 +431,12 @@ BasicTableLayoutStrategy::ComputeColumnI
             // influence the result of GetPrefCoord, save the value as it
             // was during the loop over spanning cells before messing with
             // anything.
-            nscoord prefCoord = colFrame->GetPrefCoord();
-            colFrame->AddMinCoord(colFrame->GetMinCoord() +
-                                  colFrame->GetSpanMinCoord());
-            colFrame->AddPrefCoord(prefCoord +
-                                   PR_MAX(colFrame->GetSpanMinCoord(),
-                                          colFrame->GetSpanPrefCoord()),
+            nscoord newPref =
+                colFrame->GetPrefCoord() + colFrame->GetSpanPrefCoord();
+            nscoord newMin =
+                colFrame->GetMinCoord() + colFrame->GetSpanMinCoord();
+            colFrame->AddMinCoord(newMin);
+            colFrame->AddPrefCoord(PR_MAX(newPref, newMin),
                                    colFrame->GetHasSpecifiedCoord());
             NS_ASSERTION(colFrame->GetMinCoord() <= colFrame->GetPrefCoord(),
                          "min larger than pref");
@@ -441,6 +447,13 @@ BasicTableLayoutStrategy::ComputeColumnI
             colFrame->ResetSpanMinCoord();
             colFrame->ResetSpanPrefCoord();
             colFrame->ResetSpanPrefPercent();
+
+#ifdef DEBUG_dbaron_off
+            printf("table %p col %d span: min=%d pref=%d spec=%d pct=%f\n",
+                   mTableFrame, col, colFrame->GetMinCoord(),
+                   colFrame->GetPrefCoord(), colFrame->GetHasSpecifiedCoord(),
+                   colFrame->GetPrefPercent());
+#endif
         }
     }
 #ifdef DEBUG_TABLE_STRATEGY
