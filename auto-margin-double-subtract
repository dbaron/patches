From: L. David Baron <dbaron@dbaron.org>

Fix double-subtraction of opposite margin when one of margin-top/bottom is auto, for absolutely positioned elements.  (Bug 604212)

diff --git a/layout/generic/nsHTMLReflowState.cpp b/layout/generic/nsHTMLReflowState.cpp
--- a/layout/generic/nsHTMLReflowState.cpp
+++ b/layout/generic/nsHTMLReflowState.cpp
@@ -1399,21 +1399,21 @@ nsHTMLReflowState::InitAbsoluteConstrain
     } else if (marginTopIsAuto) {
       if (marginBottomIsAuto) {
         // Both 'margin-top' and 'margin-bottom' are 'auto', so they get
         // equal values
         mComputedMargin.top = availMarginSpace / 2;
         mComputedMargin.bottom = availMarginSpace - mComputedMargin.top;
       } else {
         // Just 'margin-top' is 'auto'
-        mComputedMargin.top = availMarginSpace - mComputedMargin.bottom;
+        mComputedMargin.top = availMarginSpace;
       }
     } else {
       // Just 'margin-bottom' is 'auto'
-      mComputedMargin.bottom = availMarginSpace - mComputedMargin.top;
+      mComputedMargin.bottom = availMarginSpace;
     }
   }
 }
 
 nscoord 
 GetVerticalMarginBorderPadding(const nsHTMLReflowState* aReflowState)
 {
   nscoord result = 0;
