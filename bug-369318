Stop rounding widths to pixel boundaries to fix reftest failures on Mac, which does subpixel positioning and sizing of text.  b=369318  r=bernd  sr=roc

diff -r 14658b19f2a0 layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp	Wed Feb 07 15:41:43 2007 -0800
+++ b/layout/tables/BasicTableLayoutStrategy.cpp	Wed Feb 07 15:42:42 2007 -0800
@@ -222,11 +222,10 @@ BasicTableLayoutStrategy::ComputeColumnI
 BasicTableLayoutStrategy::ComputeColumnIntrinsicWidths(nsIRenderingContext* aRenderingContext)
 {
     nsTableFrame *tableFrame = mTableFrame;
-    nsPresContext *presContext = tableFrame->GetPresContext();
     nsTableCellMap *cellMap = tableFrame->GetCellMap();
 
     nscoord spacing = tableFrame->GetCellSpacingX();
-    SpanningCellSorter spanningCells(presContext->PresShell());
+    SpanningCellSorter spanningCells(tableFrame->GetPresContext()->PresShell());
 
     // Loop over the columns to consider the columns and cells *without*
     // a colspan.
@@ -246,8 +245,6 @@ BasicTableLayoutStrategy::ComputeColumnI
 
         // Consider the widths on the column.
         CellWidthInfo colInfo = GetColWidthInfo(aRenderingContext, colFrame);
-        colInfo.minCoord = nsTableFrame::RoundToPixel(colInfo.minCoord);
-        colInfo.prefCoord = nsTableFrame::RoundToPixel(colInfo.prefCoord);
         colFrame->AddMinCoord(colInfo.minCoord);
         colFrame->AddPrefCoord(colInfo.prefCoord, colInfo.hasSpecifiedWidth);
         colFrame->AddPrefPercent(colInfo.prefPercent);
@@ -260,8 +257,6 @@ BasicTableLayoutStrategy::ComputeColumnI
                          nsGkAtoms::tableColGroupFrame,
                      "expected a column-group");
         colInfo = GetColWidthInfo(aRenderingContext, colFrame->GetParent());
-        colInfo.minCoord = nsTableFrame::RoundToPixel(colInfo.minCoord);
-        colInfo.prefCoord = nsTableFrame::RoundToPixel(colInfo.prefCoord);
         colFrame->AddMinCoord(colInfo.minCoord);
         colFrame->AddPrefCoord(colInfo.prefCoord, colInfo.hasSpecifiedWidth);
         colFrame->AddPrefPercent(colInfo.prefPercent);
@@ -278,9 +273,6 @@ BasicTableLayoutStrategy::ComputeColumnI
             }
 
             CellWidthInfo info = GetCellWidthInfo(aRenderingContext, cellFrame);
-
-            info.minCoord = nsTableFrame::RoundToPixel(info.minCoord);
-            info.prefCoord = nsTableFrame::RoundToPixel(info.prefCoord);
 
             colFrame->AddMinCoord(info.minCoord);
             colFrame->AddPrefCoord(info.prefCoord, info.hasSpecifiedWidth);
@@ -591,10 +583,6 @@ BasicTableLayoutStrategy::ComputeIntrins
         pref_pct_expand += add;
     }
 
-    min = nsTableFrame::RoundToPixel(min);
-    pref = nsTableFrame::RoundToPixel(pref);
-    pref_pct_expand = nsTableFrame::RoundToPixel(pref_pct_expand);
-
     mMinWidth = min;
     mPrefWidth = pref;
     mPrefWidthPctExpand = pref_pct_expand;
