Stop rounding widths to pixel boundaries to fix reftest failures on Mac, which does subpixel positioning and sizing of text.  b=369318

diff -r 5bef8bd56498 layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp	Mon Feb 05 18:15:08 2007 -0800
+++ b/layout/tables/BasicTableLayoutStrategy.cpp	Mon Feb 05 18:15:11 2007 -0800
@@ -222,12 +222,10 @@ BasicTableLayoutStrategy::ComputeColumnI
 BasicTableLayoutStrategy::ComputeColumnIntrinsicWidths(nsIRenderingContext* aRenderingContext)
 {
     nsTableFrame *tableFrame = mTableFrame;
-    nsPresContext *presContext = tableFrame->GetPresContext();
-    float p2t = presContext->ScaledPixelsToTwips();
     nsTableCellMap *cellMap = tableFrame->GetCellMap();
 
     nscoord spacing = tableFrame->GetCellSpacingX();
-    SpanningCellSorter spanningCells(presContext->PresShell());
+    SpanningCellSorter spanningCells(tableFrame->GetPresContext()->PresShell());
 
     // Loop over the columns to consider the columns and cells *without*
     // a colspan.
@@ -247,8 +245,6 @@ BasicTableLayoutStrategy::ComputeColumnI
 
         // Consider the widths on the column.
         CellWidthInfo colInfo = GetColWidthInfo(aRenderingContext, colFrame);
-        colInfo.minCoord = nsTableFrame::RoundToPixel(colInfo.minCoord, p2t);
-        colInfo.prefCoord = nsTableFrame::RoundToPixel(colInfo.prefCoord, p2t);
         colFrame->AddMinCoord(colInfo.minCoord);
         colFrame->AddPrefCoord(colInfo.prefCoord, colInfo.hasSpecifiedWidth);
         colFrame->AddPrefPercent(colInfo.prefPercent);
@@ -261,8 +257,6 @@ BasicTableLayoutStrategy::ComputeColumnI
                          nsGkAtoms::tableColGroupFrame,
                      "expected a column-group");
         colInfo = GetColWidthInfo(aRenderingContext, colFrame->GetParent());
-        colInfo.minCoord = nsTableFrame::RoundToPixel(colInfo.minCoord, p2t);
-        colInfo.prefCoord = nsTableFrame::RoundToPixel(colInfo.prefCoord, p2t);
         colFrame->AddMinCoord(colInfo.minCoord);
         colFrame->AddPrefCoord(colInfo.prefCoord, colInfo.hasSpecifiedWidth);
         colFrame->AddPrefPercent(colInfo.prefPercent);
@@ -279,9 +273,6 @@ BasicTableLayoutStrategy::ComputeColumnI
             }
 
             CellWidthInfo info = GetCellWidthInfo(aRenderingContext, cellFrame);
-
-            info.minCoord = nsTableFrame::RoundToPixel(info.minCoord, p2t);
-            info.prefCoord = nsTableFrame::RoundToPixel(info.prefCoord, p2t);
 
             colFrame->AddMinCoord(info.minCoord);
             colFrame->AddPrefCoord(info.prefCoord, info.hasSpecifiedWidth);
@@ -630,11 +621,6 @@ BasicTableLayoutStrategy::ComputeIntrins
         pref_pct_expand += add;
     }
 
-    float p2t = mTableFrame->GetPresContext()->ScaledPixelsToTwips();
-    min = nsTableFrame::RoundToPixel(min, p2t);
-    pref = nsTableFrame::RoundToPixel(pref, p2t);
-    pref_pct_expand = nsTableFrame::RoundToPixel(pref_pct_expand, p2t);
-
     mMinWidth = min;
     mPrefWidth = pref;
     mPrefWidthPctExpand = pref_pct_expand;
