From: L. David Baron <dbaron@dbaron.org>

Bug 831354, test fix 2:  Make font inflation tests for selects less sensitive to font metrics by using matching font sizes on the block containing the select.

Note that select-combobox-3 doesn't need this fix since it uses
vertical-align: top.

diff --git a/layout/reftests/font-inflation/select-combobox-1-ref.html b/layout/reftests/font-inflation/select-combobox-1-ref.html
--- a/layout/reftests/font-inflation/select-combobox-1-ref.html
+++ b/layout/reftests/font-inflation/select-combobox-1-ref.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 34px }
+body, select { font-size: 34px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select><option>One</option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-combobox-1.html b/layout/reftests/font-inflation/select-combobox-1.html
--- a/layout/reftests/font-inflation/select-combobox-1.html
+++ b/layout/reftests/font-inflation/select-combobox-1.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
 body { line-height: 1.0; width: 450px }
-select { font-size: 12px }
+body, select { font-size: 12px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select><option>One</option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-combobox-2-ref.html b/layout/reftests/font-inflation/select-combobox-2-ref.html
--- a/layout/reftests/font-inflation/select-combobox-2-ref.html
+++ b/layout/reftests/font-inflation/select-combobox-2-ref.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 34px }
+body, select { font-size: 34px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select>
   <optgroup label="Counties">
     <option>Arlington
diff --git a/layout/reftests/font-inflation/select-combobox-2.html b/layout/reftests/font-inflation/select-combobox-2.html
--- a/layout/reftests/font-inflation/select-combobox-2.html
+++ b/layout/reftests/font-inflation/select-combobox-2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 12px }
+body, select { font-size: 12px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select>
   <optgroup label="Counties">
     <option>Arlington
diff --git a/layout/reftests/font-inflation/select-combobox-3-ref.html b/layout/reftests/font-inflation/select-combobox-3-ref.html
--- a/layout/reftests/font-inflation/select-combobox-3-ref.html
+++ b/layout/reftests/font-inflation/select-combobox-3-ref.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
-  body { line-height: 1.0; width: 450px }
+  body { line-height: 1.0; width: 450px; font-size: 34px; }
   select { vertical-align: top; font-size: 12px; width: 100px; }
 </style>
 <!--
 Because the combobox has constrained width, font inflation
 should be disabled.
 -->
 <select><option>One</Option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-combobox-3.html b/layout/reftests/font-inflation/select-combobox-3.html
--- a/layout/reftests/font-inflation/select-combobox-3.html
+++ b/layout/reftests/font-inflation/select-combobox-3.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
-  body { line-height: 1.0; width: 450px }
+  body { line-height: 1.0; width: 450px; font-size: 34px; }
   select { vertical-align: top; font-size: 12px; width: 100px; }
 </style>
 <!--
 Because the combobox has constrained width, font inflation
 should be disabled.
 -->
 <select><option>One</Option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-listbox-1-ref.html b/layout/reftests/font-inflation/select-listbox-1-ref.html
--- a/layout/reftests/font-inflation/select-listbox-1-ref.html
+++ b/layout/reftests/font-inflation/select-listbox-1-ref.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 34px }
+body, select { font-size: 34px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select size="3"><option>One</option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-listbox-1.html b/layout/reftests/font-inflation/select-listbox-1.html
--- a/layout/reftests/font-inflation/select-listbox-1.html
+++ b/layout/reftests/font-inflation/select-listbox-1.html
@@ -1,10 +1,10 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 12px }
+body, select { font-size: 12px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select size="3"><option>One</option><option>Two</option></select>
diff --git a/layout/reftests/font-inflation/select-listbox-2-ref.html b/layout/reftests/font-inflation/select-listbox-2-ref.html
--- a/layout/reftests/font-inflation/select-listbox-2-ref.html
+++ b/layout/reftests/font-inflation/select-listbox-2-ref.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 34px }
+body, select { font-size: 34px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select size="3">
   <optgroup label="Counties">
     <option>Arlington
diff --git a/layout/reftests/font-inflation/select-listbox-2.html b/layout/reftests/font-inflation/select-listbox-2.html
--- a/layout/reftests/font-inflation/select-listbox-2.html
+++ b/layout/reftests/font-inflation/select-listbox-2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <style>
 body { width: 450px }
-select { font-size: 12px }
+body, select { font-size: 12px }
 </style>
 <!--
 In a 450px container, the minimum font size at 15em per line is 30px.
 This means we map 0px-45px into 30px-45px, so 12px gets mapped to 34px.
 -->
 <select size="3">
   <optgroup label="Counties">
     <option>Arlington
