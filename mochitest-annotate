From: L. David Baron <dbaron@dbaron.org>

Bug 404077:  Adjust annotations of expected assertions.

diff --git a/accessible/tests/mochitest/events/test_focus_general.xul b/accessible/tests/mochitest/events/test_focus_general.xul
--- a/accessible/tests/mochitest/events/test_focus_general.xul
+++ b/accessible/tests/mochitest/events/test_focus_general.xul
@@ -16,16 +16,19 @@
   <script type="application/javascript"
           src="../role.js" />
   <script type="application/javascript"
           src="../states.js" />
   <script type="application/javascript"
           src="../events.js" />
 
   <script type="application/javascript">
+
+    SimpleTest.expectAssertions(0, 1);
+
     function getColorBtn(aBtnObj)
     {
       var colorpicker = aBtnObj.colorpicker;
       var container = colorpicker.firstChild;
       var btn = container.getChildAt(aBtnObj.btnIndex);
       return btn;
     }
 
diff --git a/accessible/tests/mochitest/tree/test_dockids.html b/accessible/tests/mochitest/tree/test_dockids.html
--- a/accessible/tests/mochitest/tree/test_dockids.html
+++ b/accessible/tests/mochitest/tree/test_dockids.html
@@ -11,19 +11,17 @@
   <script type="application/javascript"
           src="../common.js"></script>
   <script type="application/javascript"
           src="../role.js"></script>
   <script type="application/javascript"
           src="../states.js"></script>
 
   <script type="application/javascript">
-  if (navigator.platform.startsWith("Win")) {
-    SimpleTest.expectAssertions(0, 1);
-  }
+  SimpleTest.expectAssertions(0, 1);
 
   function doTest()
   {
     var tree =
      { DOCUMENT: [
        { PARAGRAPH: [ // head
          { PARAGRAPH: [ // link
            { STATICTEXT: [] }, // generated content
diff --git a/layout/base/tests/chrome/test_transformed_scrolling_repaints_3.html b/layout/base/tests/chrome/test_transformed_scrolling_repaints_3.html
--- a/layout/base/tests/chrome/test_transformed_scrolling_repaints_3.html
+++ b/layout/base/tests/chrome/test_transformed_scrolling_repaints_3.html
@@ -5,16 +5,22 @@
   <script type="application/javascript" src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="chrome://mochikit/content/chrome-harness.js"></script>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css"/>
 </head>
 <!-- Need a timeout here to allow paint unsuppression before we start the test -->
 <body>
 <pre id="test">
 <script type="application/javascript">
+if (navigator.platform.startsWith("Win")) {
+  SimpleTest.expectAssertions(0, 1);
+} else if (navigator.platform.startsWith("Linux")) {
+  SimpleTest.expectAssertions(0, 3);
+}
+
 SimpleTest.waitForExplicitFinish();
 
 var root = getRootDirectory(window.location.href);
 window.open(root + "transformed_scrolling_repaints_3_window.html", "transformed_scrolling_repaints_3",
             "chrome,width=300,height=400");
 </script>
 </pre>
 </body>
diff --git a/toolkit/content/tests/chrome/test_bug554279.xul b/toolkit/content/tests/chrome/test_bug554279.xul
--- a/toolkit/content/tests/chrome/test_bug554279.xul
+++ b/toolkit/content/tests/chrome/test_bug554279.xul
@@ -14,16 +14,20 @@
   </toolbox>
 
   <!-- test resuls are displayed in the html:body -->
   <body xmlns="http://www.w3.org/1999/xhtml"
         style="height: 300px; overflow: auto;"/>
   
   <!-- test code goes here -->
   <script type="text/javascript"><![CDATA[
+    if (navigator.platform.startsWith("Mac")) {
+      SimpleTest.expectAssertions(0, 5);
+    }
+
     var toolbar = $("tb1");
 
     ok(toolbar, "got the toolbar, triggering the xbl constructor");
 
     var palette = $("palette");
     ok(palette, "palette is still in the document");
 
     var button = document.createElement("p1");
diff --git a/toolkit/content/tests/chrome/test_bug624329.xul b/toolkit/content/tests/chrome/test_bug624329.xul
--- a/toolkit/content/tests/chrome/test_bug624329.xul
+++ b/toolkit/content/tests/chrome/test_bug624329.xul
@@ -16,19 +16,17 @@ https://bugzilla.mozilla.org/show_bug.cg
      target="_blank">Mozilla Bug 624329</a>
   </body>
 
   <!-- test code goes here -->
   <script type="application/javascript">
   <![CDATA[
   /** Test for Bug 624329 **/
 
-if (navigator.platform.startsWith("Mac")) {
-  SimpleTest.expectAssertions(0, 3);
-}
+SimpleTest.expectAssertions(0, 5);
 
 SimpleTest.waitForExplicitFinish();
 
 var win;
 var timeoutID;
 var menu;
 
 function openTestWindow() {
diff --git a/toolkit/content/tests/chrome/test_colorpicker_popup.xul b/toolkit/content/tests/chrome/test_colorpicker_popup.xul
--- a/toolkit/content/tests/chrome/test_colorpicker_popup.xul
+++ b/toolkit/content/tests/chrome/test_colorpicker_popup.xul
@@ -17,17 +17,17 @@
 
 <script class="testbody" type="application/javascript">
 <![CDATA[
 
 var gTestPhase = -1;
 var gCp = null;
 
 if (navigator.platform.startsWith("Mac")) {
-  SimpleTest.expectAssertions(0, 4);
+  SimpleTest.expectAssertions(0, 7);
 } else if (navigator.platform.startsWith("Linux")) {
   SimpleTest.expectAssertions(0, 5);
 }
 
 SimpleTest.waitForExplicitFinish();
 
 function preventDefault(event) {
   event.preventDefault();
diff --git a/toolkit/content/tests/chrome/test_notificationbox.xul b/toolkit/content/tests/chrome/test_notificationbox.xul
--- a/toolkit/content/tests/chrome/test_notificationbox.xul
+++ b/toolkit/content/tests/chrome/test_notificationbox.xul
@@ -13,21 +13,17 @@
     <menuitem label="One"/>
   </menupopup>
 
   <!-- test results are displayed in the html:body -->
   <body xmlns="http://www.w3.org/1999/xhtml" style="height: 300px; overflow: auto;"/>
 
   <!-- test code goes here -->
   <script type="application/javascript"><![CDATA[
-if (navigator.platform.startsWith("Linux")) {
-  SimpleTest.expectAssertions(0, 3);
-} else {
-  SimpleTest.expectAssertions(0, 2);
-}
+SimpleTest.expectAssertions(0, 5);
 
 SimpleTest.waitForExplicitFinish();
 
 var testtag_notificationbox_buttons = [
   {
     label: "Button 1",
     accesskey: "u",
     callback: testtag_notificationbox_buttonpressed,
