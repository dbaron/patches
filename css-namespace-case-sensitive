Make CSS namespace identifiers case sensitive to match change in spec.  b=416106

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -1629,7 +1629,7 @@ PRBool CSSParserImpl::ParseNameSpaceRule
 
   if (eCSSToken_Ident == mToken.mType) {
     prefix = mToken.mIdent;
-    ToLowerCase(prefix); // always case insensitive, since stays within CSS
+    // user-specified identifiers are case-sensitive (bug 416106)
     if (! GetToken(aErrorCode, PR_TRUE)) {
       REPORT_UNEXPECTED_EOF(PEAtNSURIEOF);
       return PR_FALSE;
@@ -2180,7 +2180,7 @@ CSSParserImpl::ParseTypeOrUniversalSelec
       aDataMask |= SEL_MASK_NSPACE;
       PRInt32 nameSpaceID = kNameSpaceID_Unknown;
       if (mNameSpaceMap) {
-        ToLowerCase(buffer); // always case insensitive, since stays within CSS
+        // user-specified identifiers are case-sensitive (bug 416106)
         nsCOMPtr<nsIAtom> prefix = do_GetAtom(buffer);
         nameSpaceID = mNameSpaceMap->FindNameSpaceID(prefix);
       } // else, no declared namespaces
@@ -2345,7 +2345,7 @@ CSSParserImpl::ParseAttributeSelector(PR
     if (ExpectSymbol(aErrorCode, '|', PR_FALSE)) {  // was a namespace
       nameSpaceID = kNameSpaceID_Unknown;
       if (mNameSpaceMap) {
-        ToLowerCase(attr); // always case insensitive, since stays within CSS
+        // user-specified identifiers are case-sensitive (bug 416106)
         nsCOMPtr<nsIAtom> prefix = do_GetAtom(attr);
         nameSpaceID = mNameSpaceMap->FindNameSpaceID(prefix);
       } // else, no declared namespaces
@@ -4016,7 +4016,7 @@ PRBool CSSParserImpl::ParseAttr(nsresult
         if (ExpectSymbol(aErrorCode, '|', PR_FALSE)) {  // namespace
           PRInt32 nameSpaceID = kNameSpaceID_Unknown;
           if (mNameSpaceMap) {
-            ToLowerCase(holdIdent); // always case insensitive, since stays within CSS
+            // user-specified identifiers are case-sensitive (bug 416106)
             nsCOMPtr<nsIAtom> prefix = do_GetAtom(holdIdent);
             nameSpaceID = mNameSpaceMap->FindNameSpaceID(prefix);
           } // else, no declared namespaces
