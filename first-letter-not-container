From: L. David Baron <dbaron@dbaron.org>

Make floating :first-letter frames not be containers for font size inflation, to avoid triggering assertions.  (Bug 706609, patch 3.5)

diff --git a/layout/generic/nsFrame.cpp b/layout/generic/nsFrame.cpp
--- a/layout/generic/nsFrame.cpp
+++ b/layout/generic/nsFrame.cpp
@@ -456,16 +456,17 @@ IsFontSizeInflationContainer(nsIFrame* a
    * There are contexts where it would be nice if some blocks didn't
    * count as a container, so that, for example, an indented quotation
    * didn't end up with a smaller font size.  However, it's hard to
    * distinguish these situations where we really do want the indented
    * thing to count as a container, so we don't try, and blocks are
    * always containers.
    */
   bool isInline = (aStyleDisplay->mDisplay == NS_STYLE_DISPLAY_INLINE ||
+                   aFrame->GetType() == nsGkAtoms::letterFrame ||
                    (aFrame->GetContent() &&
                     aFrame->GetContent()->IsInNativeAnonymousSubtree())) &&
                   !(aFrame->IsBoxFrame() && aFrame->GetParent() &&
                     aFrame->GetParent()->IsBoxFrame());
   NS_ASSERTION(!aFrame->IsFrameOfType(nsIFrame::eLineParticipant) ||
                isInline ||
                // br frames report being line participants even when 
                // their position or display is set
