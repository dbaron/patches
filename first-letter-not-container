From: L. David Baron <dbaron@dbaron.org>

Make floating :first-letter frames not be containers for font size inflation, to avoid triggering assertions.  (Bug 706609, patch 3.5)

diff --git a/layout/generic/nsFrame.cpp b/layout/generic/nsFrame.cpp
--- a/layout/generic/nsFrame.cpp
+++ b/layout/generic/nsFrame.cpp
@@ -457,16 +457,17 @@ IsFontSizeInflationContainer(nsIFrame* a
    * didn't end up with a smaller font size.  However, it's hard to
    * distinguish these situations where we really do want the indented
    * thing to count as a container, so we don't try, and blocks are
    * always containers.
    */
   nsIContent *content = aFrame->GetContent();
   bool isInline = (aFrame->GetStyleDisplay()->mDisplay ==
                      NS_STYLE_DISPLAY_INLINE ||
+                   aFrame->GetType() == nsGkAtoms::letterFrame ||
                    // Given multiple frames for the same node, only the
                    // outer one should be considered a container.
                    // (Important, e.g., for nsSelectsAreaFrame.)
                    (aFrame->GetParent() &&
                     aFrame->GetParent()->GetContent() == content) ||
                    (content && content->IsHTML(nsGkAtoms::option)) ||
                    (content && content->IsInNativeAnonymousSubtree())) &&
                   !(aFrame->IsBoxFrame() && aFrame->GetParent() &&
