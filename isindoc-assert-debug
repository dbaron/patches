From: L. David Baron <dbaron@dbaron.org>

Add debugging code for random assertion bug 563980.

diff --git a/content/base/src/nsGenericElement.cpp b/content/base/src/nsGenericElement.cpp
--- a/content/base/src/nsGenericElement.cpp
+++ b/content/base/src/nsGenericElement.cpp
@@ -2088,16 +2088,22 @@ nsGenericElement::nsGenericElement(nsINo
   SetFlags(NODE_IS_ELEMENT |
            (nsIProgrammingLanguage::JAVASCRIPT << NODE_SCRIPT_TYPE_OFFSET));
 }
 
 nsGenericElement::~nsGenericElement()
 {
   NS_PRECONDITION(!IsInDoc(),
                   "Please remove this from the document properly");
+#ifdef DEBUG
+  if (IsInDoc()) {
+    printf("The element still in the document is:\n");
+    List(stdout, 2, nsCString());
+  }
+#endif
 }
 
 NS_IMETHODIMP
 nsGenericElement::GetNodeName(nsAString& aNodeName)
 {
   mNodeInfo->GetQualifiedName(aNodeName);
   return NS_OK;
 }
