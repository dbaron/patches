From: L. David Baron <dbaron@dbaron.org>

Fix issues with backgrounds on border-collapse table cells.  (FIXME: border-radius part should be GetUsedBorderRadius)

diff --git a/layout/tables/nsTableCellFrame.cpp b/layout/tables/nsTableCellFrame.cpp
--- a/layout/tables/nsTableCellFrame.cpp
+++ b/layout/tables/nsTableCellFrame.cpp
@@ -1170,16 +1170,19 @@ nsBCTableCellFrame::PaintBackground(nsRe
   // We're making an ephemeral stack copy here, so just copy this debug-only
   // member to prevent assertions.
 #ifdef DEBUG
   myBorder.mImageTracked = GetStyleBorder()->mImageTracked;
 #endif
 
   NS_FOR_CSS_SIDES(side) {
     myBorder.SetBorderWidth(side, borderWidth.Side(side));
+    // FIXME: We need to adjust border-radius (for the rounding of the
+    // background) to 0 and adjust the colors (maybe all to transparent)
+    // to avoid optimizing background-clip to the padding edge.
   }
 
   nsRect rect(aPt, GetSize());
   // bypassing nsCSSRendering::PaintBackground is safe because this kind
   // of frame cannot be used for the root element
   nsCSSRendering::PaintBackgroundWithSC(PresContext(), aRenderingContext, this,
                                         aDirtyRect, rect,
                                         GetStyleContext(), myBorder,
