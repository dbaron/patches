From: L. David Baron <dbaron@dbaron.org>

Introduce nsStyleCoord::HasCoordOrNonPercentCalc to check for either a coord value or a calc() value not containing a percent.  (Bug 585715)

diff --git a/layout/style/nsStyleCoord.h b/layout/style/nsStyleCoord.h
--- a/layout/style/nsStyleCoord.h
+++ b/layout/style/nsStyleCoord.h
@@ -138,16 +138,21 @@ public:
     return IsCalcUnit();
   }
 
   PRBool HasPercent() const {
     return mUnit == eStyleUnit_Percent ||
            (IsCalcUnit() && CalcHasPercent());
   }
 
+  PRBool IsCoordOrNonPercentCalc() const {
+    return mUnit == eStyleUnit_Coord ||
+           (IsCalcUnit() && !CalcHasPercent());
+  }
+
   nscoord     GetCoordValue() const;
   PRInt32     GetIntValue() const;
   float       GetPercentValue() const;
   float       GetFactorValue() const;
   float       GetAngleValue() const;
   double      GetAngleValueInRadians() const;
   Array*      GetArrayValue() const;
   void        GetUnionValue(nsStyleUnion& aValue) const;
