Stop using MarkXMark2Y in reftest references, since its underline offsets don't correctly match combinations, and go back to using combinations.  (Bug 468217)  r=jdaggett

diff --git a/layout/reftests/font-face/order-2-ref.html b/layout/reftests/font-face/order-2-ref.html
--- a/layout/reftests/font-face/order-2-ref.html
+++ b/layout/reftests/font-face/order-2-ref.html
@@ -2,22 +2,27 @@
 	"http://www.w3.org/TR/html4/strict.dtd">
 <html lang="en-US">
 <head>
 	<title></title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 	<style type="text/css">
 
 	@font-face {
-		font-family: "MarkXMark2Y";
-		src: url(../fonts/markXmark2Y.ttf);
+		font-family: "MarkD";
+		src: url(../fonts/markD.ttf);
 	}
 
-	body { font-family: "MarkXMark2Y"; }
+	@font-face {
+		font-family: "Mark2A";
+		src: url(../fonts/mark2A.ttf);
+	}
+
+	body { font-family: "MarkD", "Mark2A"; }
 
 	</style>
 </head>
 <body>
 
-<p>XYC</p>
+<p>DAC</p>
 
 </body>
 </html>
diff --git a/layout/reftests/font-face/order-3-ref.html b/layout/reftests/font-face/order-3-ref.html
--- a/layout/reftests/font-face/order-3-ref.html
+++ b/layout/reftests/font-face/order-3-ref.html
@@ -2,22 +2,27 @@
 	"http://www.w3.org/TR/html4/strict.dtd">
 <html lang="en-US">
 <head>
 	<title></title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 	<style type="text/css">
 
 	@font-face {
-		font-family: "MarkXMark2Y";
-		src: url(../fonts/markXmark2Y.ttf);
+		font-family: "MarkD";
+		src: url(../fonts/markD.ttf);
 	}
 
-	body { font-family: "MarkXMark2Y"; }
+	@font-face {
+		font-family: "Mark2A";
+		src: url(../fonts/mark2A.ttf);
+	}
+
+	body { font-family: "MarkD", "Mark2A"; }
 
 	</style>
 </head>
 <body>
 
-<p>XYC</p>
+<p>DAC</p>
 
 </body>
 </html>
diff --git a/layout/reftests/font-face/reftest.list b/layout/reftests/font-face/reftest.list
--- a/layout/reftests/font-face/reftest.list
+++ b/layout/reftests/font-face/reftest.list
@@ -49,17 +49,17 @@ skip HTTP(..) == enable-sheet-6.html mul
 skip HTTP(..) == enable-sheet-7.html multiple-in-family-1-ref.html
 HTTP(..) == disable-sheet-1.html disable-sheet-1-ref.html
 # We're missing disable-sheet-{2,3,6,7} (analogs to
 # enable-sheet{2,3,6,7}) because I don't know how to detect test
 # completion for those cases.
 HTTP(..) == disable-sheet-4.html disable-sheet-4-ref.html
 HTTP(..) == disable-sheet-5.html disable-sheet-4-ref.html
 HTTP(..) == sheet-set-base-1.html sheet-set-base-1-ref.html
-random HTTP(..) == sheet-set-switch-1.html sheet-set-switch-1-ref.html # failure is bug 468217
+HTTP(..) == sheet-set-switch-1.html sheet-set-switch-1-ref.html
 HTTP(..) == insert-rule-1a.html insert-rule-1-ref.html
 HTTP(..) == insert-rule-1b.html insert-rule-1-ref.html
 HTTP(..) == delete-rule-1.html delete-rule-1-ref.html
 HTTP(..) == media-query-add-1.html media-query-add-1-ref.html
 HTTP(..) == media-query-remove-1.html media-query-remove-1-ref.html
 HTTP(..) != media-query-add-1-ref.html media-query-remove-1-ref.html
 
 HTTP(..) == ahem-metrics-1.html ahem-metrics-1-ref.html
diff --git a/layout/reftests/font-face/sheet-set-switch-1-ref.html b/layout/reftests/font-face/sheet-set-switch-1-ref.html
--- a/layout/reftests/font-face/sheet-set-switch-1-ref.html
+++ b/layout/reftests/font-face/sheet-set-switch-1-ref.html
@@ -2,22 +2,27 @@
 	"http://www.w3.org/TR/html4/strict.dtd">
 <html lang="en-US">
 <head>
 	<title></title>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
 	<style type="text/css">
 
 	@font-face {
-		font-family: "MarkXMark2Y";
-		src: url(../fonts/markXmark2Y.ttf);
+		font-family: "Mark2D";
+		src: url(../fonts/mark2D.ttf);
 	}
 
-	body { font-family: "MarkXMark2Y"; }
+	@font-face {
+		font-family: "MarkB";
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "Mark2D", "MarkB"; }
 
 	</style>
 </head>
 <body>
 
-<p>AYX</p>
+<p>ADB</p>
 
 </body>
 </html>
diff --git a/layout/reftests/fonts/mark-generate.py b/layout/reftests/fonts/mark-generate.py
--- a/layout/reftests/fonts/mark-generate.py
+++ b/layout/reftests/fonts/mark-generate.py
@@ -63,26 +63,8 @@ for codepoint in range(ord("A"), ord("D"
 
         g = f.createChar(codepoint, charname)
         g.importOutlines("mark" + mark + "-glyph.svg")
         g.width = width
 
         f.generate("mark" + mark + charname + ".ttf")
         f.generate("mark" + mark + charname + ".otf")
 
-# And, for references, generate markXmark2Y
-f = fontforge.font()
-n = "MarkXMark2Y"
-f.fontname = n
-f.familyname = n
-f.fullname = n
-f.copyright = "Copyright (c) 2008 Mozilla Corporation"
-
-g = f.createChar(ord("X"), "X")
-g.importOutlines("mark-glyph.svg")
-g.width = 1500
-
-g = f.createChar(ord("Y"), "Y")
-g.importOutlines("mark2-glyph.svg")
-g.width = 1800
-
-f.generate("markXmark2Y.ttf")
-
diff --git a/layout/reftests/fonts/markXmark2Y.ttf b/layout/reftests/fonts/markXmark2Y.ttf
deleted file mode 100644
Binary file layout/reftests/fonts/markXmark2Y.ttf has changed
