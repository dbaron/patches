From: L. David Baron <dbaron@dbaron.org>

Don't accept the third argument to transform-origin when 3-D transforms aren't enabled.  (Bug 786706)  r=mattwoodrow

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -8617,18 +8617,19 @@ bool CSSParserImpl::ParseTransformOrigin
                       "inherit/initial only half?");
     AppendValue(prop, position.mXValue);
   } else {
     nsCSSValue value;
     if (aPerspective) {
       value.SetPairValue(position.mXValue, position.mYValue);
     } else {
       nsCSSValue depth;
-      if (!ParseVariant(depth, VARIANT_LENGTH | VARIANT_CALC, nullptr) ||
-          !nsLayoutUtils::Are3DTransformsEnabled()) {
+      if (!nsLayoutUtils::Are3DTransformsEnabled() ||
+          // only try parsing if 3-D transforms are enabled
+          !ParseVariant(depth, VARIANT_LENGTH | VARIANT_CALC, nullptr)) {
         depth.SetFloatValue(0.0f, eCSSUnit_Pixel);
       }
       value.SetTripletValue(position.mXValue, position.mYValue, depth);
     }
 
     AppendValue(prop, value);
   }
   return true;
