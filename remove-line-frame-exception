From: L. David Baron <dbaron@dbaron.org>

Bug 1217833 - Remove exception for line frames from nsBidiPresUtils::ReorderFrames since line frames now lay out more like regular inlines.

diff --git a/layout/base/nsBidiPresUtils.cpp b/layout/base/nsBidiPresUtils.cpp
--- a/layout/base/nsBidiPresUtils.cpp
+++ b/layout/base/nsBidiPresUtils.cpp
@@ -1252,27 +1252,16 @@ nsBidiPresUtils::ResolveParagraphWithinB
 
 /* static */ nscoord
 nsBidiPresUtils::ReorderFrames(nsIFrame* aFirstFrameOnLine,
                                int32_t aNumFramesOnLine,
                                WritingMode aLineWM,
                                const nsSize& aContainerSize,
                                nscoord aStart)
 {
-  // If this line consists of a line frame, reorder the line frame's children.
-  if (aFirstFrameOnLine->GetType() == nsGkAtoms::lineFrame) {
-    aFirstFrameOnLine = aFirstFrameOnLine->GetFirstPrincipalChild();
-    if (!aFirstFrameOnLine) {
-      return 0;
-    }
-    // All children of the line frame are on the first line. Setting aNumFramesOnLine
-    // to -1 makes InitLogicalArrayFromLine look at all of them.
-    aNumFramesOnLine = -1;
-  }
-
   BidiLineData bld(aFirstFrameOnLine, aNumFramesOnLine);
   return RepositionInlineFrames(&bld, aFirstFrameOnLine, aLineWM,
                                 aContainerSize, aStart);
 }
 
 nsIFrame*
 nsBidiPresUtils::GetFirstLeaf(nsIFrame* aFrame)
 {
