From: L. David Baron <dbaron@dbaron.org>

Make test_property_database.html give all the errors rather than throwing an exception for the first missing longhand property.  (Bug 435442)

diff --git a/layout/style/test/test_property_database.html b/layout/style/test/test_property_database.html
--- a/layout/style/test/test_property_database.html
+++ b/layout/style/test/test_property_database.html
@@ -29,37 +29,50 @@
  *
  * This prevents CSS properties from being added to the code without
  * also being put under the minimal test coverage provided by the tests
  * that use property_database.js.
  */
 
 for (var idx in gLonghandProperties) {
   var prop = gLonghandProperties[idx];
-  ok(prop.name in gCSSProperties,
+  var present = prop.name in gCSSProperties;
+  ok(present,
      "'" + prop.name + "' listed in gCSSProperties");
-  is(gCSSProperties[prop.name].type, CSS_TYPE_LONGHAND,
-     "'" + prop.name + "' listed as CSS_TYPE_LONGHAND");
-  is(gCSSProperties[prop.name].domProp, prop.prop,
-     "'" + prop.name + "' listed with correct DOM property name");
+  if (present) {
+    is(gCSSProperties[prop.name].type, CSS_TYPE_LONGHAND,
+       "'" + prop.name + "' listed as CSS_TYPE_LONGHAND");
+    is(gCSSProperties[prop.name].domProp, prop.prop,
+       "'" + prop.name + "' listed with correct DOM property name");
+  }
 }
 for (var idx in gShorthandProperties) {
   var prop = gShorthandProperties[idx];
-  ok(prop.name in gCSSProperties &&
-     (gCSSProperties[prop.name].type == CSS_TYPE_TRUE_SHORTHAND ||
-      gCSSProperties[prop.name].type == CSS_TYPE_SHORTHAND_AND_LONGHAND) &&
-     gCSSProperties[prop.name].domProp == prop.prop,
-     "'" + prop.name + "' listed in gCSSProperties as CSS_TYPE_TRUE_SHORTHAND or CSS_TYPE_SHORTHAND_AND_LONGHAND with correct DOM property name");
+  var present = prop.name in gCSSProperties;
+  ok(present,
+     "'" + prop.name + "' listed in gCSSProperties");
+  if (present) {
+    ok(gCSSProperties[prop.name].type == CSS_TYPE_TRUE_SHORTHAND ||
+       gCSSProperties[prop.name].type == CSS_TYPE_SHORTHAND_AND_LONGHAND,
+       "'" + prop.name + "' listed as CSS_TYPE_TRUE_SHORTHAND or CSS_TYPE_SHORTHAND_AND_LONGHAND");
+    ok(gCSSProperties[prop.name].domProp == prop.prop,
+       "'" + prop.name + "' listed with correct DOM property name");
+  }
 }
 for (var idx in gShorthandPropertiesLikeLonghand) {
   var prop = gShorthandPropertiesLikeLonghand[idx];
-  ok(prop.name in gCSSProperties &&
-     gCSSProperties[prop.name].type == CSS_TYPE_SHORTHAND_AND_LONGHAND &&
-     gCSSProperties[prop.name].domProp == prop.prop,
-     "'" + prop.name + "' listed in gCSSProperties as CSS_TYPE_SHORTHAND_AND_LONGHAND with correct DOM property name");
+  var present = prop.name in gCSSProperties;
+  ok(present,
+     "'" + prop.name + "' listed in gCSSProperties");
+  if (present) {
+    ok(gCSSProperties[prop.name].type == CSS_TYPE_SHORTHAND_AND_LONGHAND,
+       "'" + prop.name + "' listed as CSS_TYPE_SHORTHAND_AND_LONGHAND");
+    ok(gCSSProperties[prop.name].domProp == prop.prop,
+       "'" + prop.name + "' listed with correct DOM property name");
+  }
 }
 
 /*
  * Test that all shorthand properties have a subproperty list and all
  * longhand properties do not.
  */
 for (var prop in gCSSProperties) {
   var info = gCSSProperties[prop];
