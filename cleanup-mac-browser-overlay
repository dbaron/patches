Add shutdown code for the macBrowserOverlay so that we remove gSanitizeListener as a pref observer.  b=342600  r=mano

diff --git a/browser/base/content/browser.js b/browser/base/content/browser.js
--- a/browser/base/content/browser.js
+++ b/browser/base/content/browser.js
@@ -1226,8 +1226,9 @@ function BrowserShutdown()
 }
 
 #ifdef XP_MACOSX
-// nonBrowserWindowStartup() and nonBrowserWindowDelayedStartup() are used for
-// non-browser windows in macBrowserOverlay
+// nonBrowserWindowStartup(), nonBrowserWindowDelayedStartup(), and
+// nonBrowserWindowShutdown() are used for non-browser windows in
+// macBrowserOverlay
 function nonBrowserWindowStartup()
 {
   // Disable inappropriate commands / submenus
@@ -1275,6 +1276,12 @@ function nonBrowserWindowDelayedStartup(
 
   // Set up Sanitize Item
   gSanitizeListener = new SanitizeListener();
+}
+
+function nonBrowserWindowShutdown()
+{
+  if (gSanitizeListener)
+    gSanitizeListener.shutdown();
 }
 #endif
 
diff --git a/browser/base/content/macBrowserOverlay.xul b/browser/base/content/macBrowserOverlay.xul
--- a/browser/base/content/macBrowserOverlay.xul
+++ b/browser/base/content/macBrowserOverlay.xul
@@ -62,6 +62,7 @@
 
 <script type="application/x-javascript">
   addEventListener("load", nonBrowserWindowStartup, false);
+  addEventListener("unload", nonBrowserWindowShutdown, false);
 </script>
 
 # All sets except for popupsets (commands, keys, stringbundles and broadcasters) *must* go into the 
