From: L. David Baron <dbaron@dbaron.org>

Remove bogus assertion about continuations of floats. (Bug 595740)

When we do multiple reflow passes inside a container with page or column
breaks, we might hit this assertion for legitimate reasons.  In
particular, if a reflow places the first-in-flow of a float in a later
continuation of its containing block than it was in before, then during
reflow we push the continuations of the float back through the
continuations of the containing block, and in intermediate states of
this process (such as when this assertion fires), we have two
continuations of the same float within the same parent.

diff --git a/layout/generic/nsBlockFrame.cpp b/layout/generic/nsBlockFrame.cpp
--- a/layout/generic/nsBlockFrame.cpp
+++ b/layout/generic/nsBlockFrame.cpp
@@ -4620,25 +4620,16 @@ nsBlockFrame::DrainPushedFloats(nsBlockR
     nsFrameList *list = prevBlock->RemovePushedFloats();
     if (list) {
       if (list->NotEmpty()) {
         mFloats.InsertFrames(this, nsnull, *list);
       }
       delete list;
     }
   }
-
-#ifdef DEBUG
-  for (nsIFrame* f = mFloats.FirstChild(); f ; f = f->GetNextSibling()) {
-    for (nsIFrame* c = f->GetFirstInFlow(); c ; c = c->GetNextInFlow()) {
-      NS_ASSERTION(c == f || c->GetParent() != this || !mFloats.ContainsFrame(c),
-                   "Two floats with same parent in same floats list, expect weird errors.");
-    }
-  }
-#endif
 }
 
 nsLineList*
 nsBlockFrame::GetOverflowLines() const
 {
   if (!(GetStateBits() & NS_BLOCK_HAS_OVERFLOW_LINES)) {
     return nsnull;
   }
