From: L. David Baron <dbaron@dbaron.org>

Bug 1114329 patch 1 - Don't mix up left and right floats when writing mode changes.

diff --git a/layout/generic/nsFloatManager.cpp b/layout/generic/nsFloatManager.cpp
--- a/layout/generic/nsFloatManager.cpp
+++ b/layout/generic/nsFloatManager.cpp
@@ -258,19 +258,18 @@ nsFloatManager::AddFloat(nsIFrame* aFloa
     info.mRightBEnd = tail.mRightBEnd;
   } else {
     info.mLeftBEnd = nscoord_MIN;
     info.mRightBEnd = nscoord_MIN;
   }
   uint8_t floatStyle = aFloatFrame->StyleDisplay()->mFloats;
   NS_ASSERTION(floatStyle == NS_STYLE_FLOAT_LEFT ||
                floatStyle == NS_STYLE_FLOAT_RIGHT, "unexpected float");
-  nscoord& sideBEnd =
-    ((floatStyle == NS_STYLE_FLOAT_LEFT) == aWM.IsBidiLTR()) ? info.mLeftBEnd
-                                                             : info.mRightBEnd;
+  nscoord& sideBEnd = (floatStyle == NS_STYLE_FLOAT_LEFT) ? info.mLeftBEnd
+                                                          : info.mRightBEnd;
   nscoord thisBEnd = info.mRect.BEnd(aWM);
   if (thisBEnd > sideBEnd)
     sideBEnd = thisBEnd;
 
   if (!mFloats.AppendElement(info))
     return NS_ERROR_OUT_OF_MEMORY;
 
   return NS_OK;
