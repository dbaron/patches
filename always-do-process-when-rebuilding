From: L. David Baron <dbaron@dbaron.org>

Bug 1115812 patch 9 - Always call DoProcessRestyles if mInRebuildAllStyleData.

This is needed for the following patch.

diff --git a/layout/base/RestyleManager.h b/layout/base/RestyleManager.h
--- a/layout/base/RestyleManager.h
+++ b/layout/base/RestyleManager.h
@@ -457,17 +457,18 @@ private:
   // Returns true if this function managed to successfully move a frame, and
   // false if it could not process the position change, and a reflow should
   // be performed instead.
   bool RecomputePosition(nsIFrame* aFrame);
 
   void ProcessRestyles(RestyleTracker& aRestyleTracker) {
     // Fast-path the common case (esp. for the animation restyle
     // tracker) of not having anything to do.
-    if (aRestyleTracker.Count()) {
+    if (aRestyleTracker.Count() ||
+        mInRebuildAllStyleData) {
       aRestyleTracker.DoProcessRestyles();
     }
   }
 
 private:
   nsPresContext* mPresContext; // weak, disconnected in Disconnect
 
   bool mDoRebuildAllStyleData : 1;
