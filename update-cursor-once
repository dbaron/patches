From: L. David Baron <dbaron@dbaron.org>

Bug 828312 patch 5:  Don't handle UpdateCursor more than once per round of style change processing, since it's global.  r=bzbarsky

(This is part of the patch stack making change hints apply across all
continuations and block-in-inline siblings.  In this case, however, the
change hint only needs to apply once, globally.)

diff --git a/layout/base/RestyleManager.cpp b/layout/base/RestyleManager.cpp
--- a/layout/base/RestyleManager.cpp
+++ b/layout/base/RestyleManager.cpp
@@ -598,16 +598,18 @@ RestyleManager::ProcessRestyledFrames(ns
     if (changeData->mFrame) {
       propTable->Set(changeData->mFrame, ChangeListProperty(),
                      NS_INT32_TO_PTR(1));
     }
   }
 
   index = count;
 
+  bool didUpdateCursor = false;
+
   while (0 <= --index) {
     nsIFrame* frame;
     nsIContent* content;
     bool didReflowThisFrame = false;
     nsChangeHint hint;
     aChangeList.ChangeAt(index, frame, content, hint);
 
     NS_ASSERTION(!(hint & nsChangeHint_AllReflowHints) ||
@@ -725,18 +727,19 @@ RestyleManager::ProcessRestyledFrames(ns
           while (frame) {
             mOverflowChangedTracker.AddFrame(frame);
 
             frame =
               nsLayoutUtils::GetNextContinuationOrSpecialSibling(frame);
           }
         }
       }
-      if (hint & nsChangeHint_UpdateCursor) {
+      if ((hint & nsChangeHint_UpdateCursor) && !didUpdateCursor) {
         mPresContext->PresShell()->SynthesizeMouseMove(false);
+        didUpdateCursor = true;
       }
     }
   }
 
   FrameConstructor()->EndUpdate();
 
   // cleanup references and verify the style tree.  Note that the latter needs
   // to happen once we've processed the whole list, since until then the tree
