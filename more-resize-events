From: Jonathan Watt <jwatt@jwatt.org>

Fire resize events every 200ms during resizing, not just 200ms after resizing stops.  (Bug 114649)  r+sr=roc

diff --git a/layout/base/nsPresShell.cpp b/layout/base/nsPresShell.cpp
--- a/layout/base/nsPresShell.cpp
+++ b/layout/base/nsPresShell.cpp
@@ -2576,17 +2576,19 @@ PresShell::ResizeReflow(nscoord aWidth, 
   return NS_OK; //XXX this needs to be real. MMP
 }
 
 #define RESIZE_EVENT_DELAY 200
 
 void
 PresShell::CreateResizeEventTimer ()
 {
-  KillResizeEventTimer();
+  // if we already have a timer set, ignore this call
+  if (mResizeEventTimer)
+    return;
 
   if (mIsDocumentGone)
     return;
 
   mResizeEventTimer = do_CreateInstance("@mozilla.org/timer;1");
   if (mResizeEventTimer) {
     mResizeEventTimer->InitWithFuncCallback(sResizeEventCallback, this, RESIZE_EVENT_DELAY, 
                                             nsITimer::TYPE_ONE_SHOT);
@@ -2611,16 +2613,19 @@ PresShell::sResizeEventCallback(nsITimer
   }
 }
 
 void
 PresShell::FireResizeEvent()
 {
   if (mIsDocumentGone)
     return;
+
+  // allow a new timer to be set
+  mResizeEventTimer = nsnull;
 
   //Send resize event from here.
   nsEvent event(PR_TRUE, NS_RESIZE_EVENT);
   nsEventStatus status = nsEventStatus_eIgnore;
 
   nsPIDOMWindow *window = mDocument->GetWindow();
   if (window) {
     nsEventDispatcher::Dispatch(window, mPresContext, &event, nsnull, &status);
