From: L. David Baron <dbaron@dbaron.org>

Fix GL version checks to handle versions other than x.y.  (FIXME: x.y is mandatory, but they can be arbitrary length)

diff --git a/gfx/thebes/GLContextProviderGLX.cpp b/gfx/thebes/GLContextProviderGLX.cpp
--- a/gfx/thebes/GLContextProviderGLX.cpp
+++ b/gfx/thebes/GLContextProviderGLX.cpp
@@ -113,23 +113,25 @@ GLXLibrary::EnsureInitialized()
     const char *serverVersionStr = xQueryServerString(DefaultXDisplay(),
                                                       DefaultScreen(DefaultXDisplay()),
                                                       GLX_VERSION);
     const char *clientVersionStr = xGetClientString(DefaultXDisplay(),
                                                     GLX_VERSION);
 
 
     int serverVersion = 0, clientVersion = 0;
+    // FIXME: What about "2" or "1.10"?
     if (serverVersionStr &&
         strlen(serverVersionStr) >= 3 &&
         serverVersionStr[1] == '.')
     {
         serverVersion = (serverVersionStr[0] - '0') << 8 | (serverVersionStr[2] - '0');
     }
 
+    // FIXME: What about "2" or "1.10"?
     if (clientVersionStr &&
         strlen(clientVersionStr) >= 3 &&
         clientVersionStr[1] == '.')
     {
         clientVersion = (clientVersionStr[0] - '0') << 8 | (clientVersionStr[2] - '0');
     }
 
     gGLXVersion = PR_MIN(clientVersion, serverVersion);
