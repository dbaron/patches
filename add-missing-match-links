From: L. David Baron <dbaron@dbaron.org>

Add missing match/mismatch links to reftests submitted to CSS WG test suite.  No bug.

diff --git a/layout/reftests/w3c-css/submitted/check-for-references.sh b/layout/reftests/w3c-css/submitted/check-for-references.sh
new file mode 100755
--- /dev/null
+++ b/layout/reftests/w3c-css/submitted/check-for-references.sh
@@ -0,0 +1,27 @@
+#!/bin/bash
+
+cd "$(dirname "$0")"
+find . -name reftest.list | sed 's,/reftest.list$,,' | while read DIRNAME
+do
+    cat "$DIRNAME/reftest.list" | grep -v "^\(include\|default-preferences\)" | sed 's/ #.*//;s/^#.*//;s/.* == /== /;s/.* != /!= /' | grep -v "^ *$" | while read TYPE TEST REF
+    do
+        REFTYPE=""
+        if [ "$TYPE" == "==" ]
+        then
+            REFTYPE="match"
+        elif [ "$TYPE" == "!=" ]
+        then
+            REFTYPE="mismatch"
+        else
+            echo "Unexpected type $TYPE for $DIRNAME/$TEST"
+        fi
+        if grep "rel=\"$REFTYPE\"" "$DIRNAME/$TEST" | head -1 | grep -q "href=\"$REF\""
+        then
+            #echo "Good link for $DIRNAME/$TEST"
+            echo -n
+        else
+            echo "Missing link for $DIRNAME/$TEST"
+            #echo "<link rel=\"$REFTYPE\" href=\"$REF\">" >> "$DIRNAME/$TEST"
+        fi
+    done
+done
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; page-break-before:always; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-10.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-11.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-12.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-13.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-8-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-14.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-14-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; height:1.5in; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-15.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-15-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; height:2.5in; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-2.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-3.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-4.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-5.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-6.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; overflow:hidden; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-7.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; overflow:hidden; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-8.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-8-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; overflow:hidden; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-block-page-break-inside-avoid-9.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; float:left; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-2.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-2-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { float:left; page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-3.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { float:left; page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-4.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-block-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { float:left; page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-5.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
         html,body {
             color:black; background-color:white; font-size:16px; padding:0; margin:0;
         }
 p { height: 0.5in; width: 1in; margin:0; background-color:blue; float:left; }
 .test { float:left; clear:left; page-break-inside:avoid; width:3.3in; }
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-6.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-6-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 html,body {
     color:black; background-color:white; font-size:16px; padding:0; margin:0; height:100%;
 }
 p { height:60%; width:90%; margin:0; background-color:blue; border:1px solid black; }
 .test { page-break-inside:avoid; float:left; }
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-7.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-7-ref.html">
   <meta name="flags" content="paged"><style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 html,body {
     color:black; background-color:white; font-size:16px; padding:0; margin:0; height:100%;
 }
 
 .test { 
   page-break-inside:avoid;
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-8.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-8-ref.html">
   <meta name="flags" content="paged"><style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 html,body {
     color:black; background-color:white; font-size:16px; padding:0; margin:0; height:100%;
 }
 
 .test { 
   page-break-inside:avoid;
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-float-page-break-inside-avoid-9.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-float-page-break-inside-avoid-9-ref.html">
   <meta name="flags" content="paged"><style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 html,body {
     color:black; background-color:white; font-size:16px; padding:0; margin:0; height:100%;
 }
 
 .test { 
   page-break-inside:avoid;
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-inline-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-inline-page-break-inside-avoid-1-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-row-page-break-inside-avoid-2.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-2.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-3.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-4.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-4-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-5.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-6.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 .bb { page-break-before:always; }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-7.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-7-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-rowgroup-page-break-inside-avoid-8.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-rowgroup-page-break-inside-avoid-8-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 .bb { page-break-before:always; }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-2.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-2-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-3.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-3-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 table { display:inline-table; }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-4.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-4-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 table { display:inline-table; }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-5.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-5-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 tr { page-break-before:always; }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-6.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-6-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-7.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-7-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html
--- a/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html
+++ b/layout/reftests/w3c-css/submitted/css21/pagination/moz-css21-table-page-break-inside-avoid-8.html
@@ -1,14 +1,15 @@
 <!DOCTYPE html>
 <html lang="en-US" class="reftest-print">
 <head>
   <title>CSS Test: CSS 2.1 page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-css21-table-page-break-inside-avoid-6-ref.html">
   <meta name="flags" content="paged">
 <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 p { height: 1in; width: 1in; margin:0; background-color:blue; }
 .test { page-break-inside:avoid; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/multicol3/moz-multicol3-column-balancing-break-inside-avoid-1.html b/layout/reftests/w3c-css/submitted/multicol3/moz-multicol3-column-balancing-break-inside-avoid-1.html
--- a/layout/reftests/w3c-css/submitted/multicol3/moz-multicol3-column-balancing-break-inside-avoid-1.html
+++ b/layout/reftests/w3c-css/submitted/multicol3/moz-multicol3-column-balancing-break-inside-avoid-1.html
@@ -1,13 +1,14 @@
 <!DOCTYPE HTML>
 <html><head>
   <title>CSS Test: Balancing Overflow, page-break-inside:avoid</title>
   <link rel="author" title="Mats Palmgren" href="https://bugzilla.mozilla.org/show_bug.cgi?id=685012">
   <link rel="help" href="http://www.w3.org/TR/CSS21/page.html#propdef-page-break-inside">
+  <link rel="match" href="moz-multicol3-column-balancing-break-inside-avoid-1-ref.html">
   <meta name="flags" content="paged">
   <meta charset="utf-8">
   <style type="text/css">
 @page { size:5in 3in; margin:0.5in; }
 
         html,body {
             color:black; background-color:white; font-size:16px; padding:0; margin:0;
         }
diff --git a/layout/reftests/w3c-css/submitted/test-template-001.xht b/layout/reftests/w3c-css/submitted/test-template-001.xht
--- a/layout/reftests/w3c-css/submitted/test-template-001.xht
+++ b/layout/reftests/w3c-css/submitted/test-template-001.xht
@@ -2,17 +2,17 @@
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: {{ brief but unique descriptive title of what's being tested }}</title>
   <link rel="author" title="{{ test author's name }}" href="{{ test author's contact info (mailto or http) }}" />
   <link rel="help" href="http://www.w3.org/TR/{{ URL to specific spec section; for multiple LINKs put primary first }}" />
   <meta name="flags" content="{{ see http://wiki.csswg.org/test/format#requirement-flags }}" />
   <meta name="assert" content="{{ explain precisely what is asserted when the test passes;
                                   optional but helps coordination and review }}" />
-  <link rel="match" href="test-template-001-ref.xht" />
+  <link rel="match" href="references/test-template-001.xht" />
   <style type="text/css"><![CDATA[
    {{ css for the test }}
   ]]></style>
  </head>
  <body>
    <!-- content of test -->
  </body>
 </html>
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-001.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Border-Box with specified width</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-border-box-001-ref.xht" />
   <meta name="assert" content="box-sizing: border-box should make the element's (percentage) width be the distance from the left border edge to the right border edge." />
   <style type="text/css"><![CDATA[
     .container {
       width: 300px;
       border: 2px solid black;
       position: absolute;
       left: 25px;
       top: 25px;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-002.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Border-Box with specified width</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-border-box-002-ref.xht" />
   <meta name="assert" content="box-sizing: border-box should make the element's (percentage) width be the distance from the left border edge to the right border edge." />
   <style type="text/css"><![CDATA[
     .container {
       width: 300px;
       border: 2px solid black;
       position: absolute;
       left: 25px;
       top: 25px;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-003.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Border-Box with specified width/height</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-border-box-003-ref.xht" />
   <meta name="assert" content="box-sizing: border-box should make the element's (percentage) width be the distance from the left border edge to the right border edge and the height be the distance from the top border edge to the bottom border edge." />
   <style type="text/css"><![CDATA[
     .container {
       width: 300px;
       height: 400px;
       border: 2px solid black;
       position: absolute;
       left: 25px;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-border-box-004.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Border-Box with min/max width/height</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-border-box-004-ref.xht" />
   <meta name="assert" content="box-sizing: border-box should make the element's (length) width be the distance from the left border edge to the right border edge and the height be the distance from the top border edge to the bottom border edge." />
   <style type="text/css"><![CDATA[
     .container {
       min-width: 500px;
       max-width: 700px;
       min-height: 70px;
       max-height: 90px;
       border: 2px solid black;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-001.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Content-Box with specified width/height</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-content-box-001-ref.xht" />
   <meta name="assert" content="box-sizing: content-box should make the element's (percentage) width be the distance from the left content edge to the right content edge and the height be the distance from the top content edge to the bottom content edge."/>
   <style type="text/css"><![CDATA[
     .container {
       width: 300px;
       height: 110px;
       border: 2px solid black;
       position: absolute;
       left: 25px;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-002.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Content-Box with specified width/height</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-content-box-002-ref.xht" />
   <meta name="assert" content="box-sizing: content-box should make the element's (calc) width be the distance from the left content edge to the right content edge and the height be the distance from the top content edge to the bottom content edge."/>
   <style type="text/css"><![CDATA[
     .container {
       width: 300px;
       height: 100px;
       border: 2px solid black;
       position: absolute;
       left: 25px;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-content-box-003.xht
@@ -1,14 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
   <title>CSS Test: Box Sizing - Content-Box with min/max width/height</title>
   <link rel="author" title="Scott Johnson" href="mailto:sjohnson@mozilla.com" />
   <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+  <link rel="match" href="box-sizing-content-box-003-ref.xht" />
   <meta name="assert" content="box-sizing: content-box should make the element's (percentage) width be the distance from the left content edge to the right content edge and the height be the distance from the top content edge to the bottom content edge."/>
   <style type="text/css"><![CDATA[
     .container {
       min-width: 500px;
       max-width: 700px;
       height: 90px;
       border: 2px solid black;
       position: absolute;
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-001.xht
@@ -1,15 +1,16 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
   <head>
     <title>CSS Test: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
     <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
     <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
     <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+    <link rel="match" href="box-sizing-replaced-001-ref.xht" />
     <meta content="image" name="flags"></meta>
     <meta name="assert" content="All images should be sized at 75px x 75px, with 5px of padding around each." />
     <!--
       This test is derived from replaced-min-max-001, part of the W3C CSS 2.1
       test suite.
     -->
     <style type="text/css">
       p {
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-002.xht
@@ -1,15 +1,16 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
   <head>
     <title>CSS Test: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
     <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
     <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
     <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+    <link rel="match" href="box-sizing-replaced-002-ref.xht" />
     <meta content="image" name="flags"></meta>
     <meta name="assert" content="All images should be sized at 75px x 75px, with 5px of padding and 5px of blue border around each." />
     <!--
       This test is derived from replaced-min-max-001, part of the W3C CSS 2.1
       test suite.
     -->
     <style type="text/css">
       p {
diff --git a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-003.xht b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-003.xht
--- a/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-003.xht
+++ b/layout/reftests/w3c-css/submitted/ui3/box-sizing-replaced-003.xht
@@ -1,15 +1,16 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml">
   <head>
     <title>CSS Test: Min/Max Height and Width Constraints on Replaced Elements with Box-Sizing</title>
     <link href="http://fantasai.inkedblade.net/contact" title="Elika J. Etemad" rel="author"></link>
     <link href="mailto:sjohnson@mozilla.com" title="Scott Johnson" rel="author"></link>
     <link rel="help" href="http://www.w3.org/TR/css3-ui/#box-sizing" />
+    <link rel="match" href="box-sizing-replaced-003-ref.xht" />
     <meta content="image" name="flags"></meta>
     <meta name="assert" content="All images should be sized at 75px x 75px." />
     <!--
       This test is derived from replaced-min-max-001, part of the W3C CSS 2.1
       test suite.
     -->
     <style type="text/css">
       p {
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-background-image-gradient-1.html b/layout/reftests/w3c-css/submitted/values3/calc-background-image-gradient-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-background-image-gradient-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-background-image-gradient-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for calc() on background-image gradients</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-background-image-gradient-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 p {
     height: 50px; width: 200px;
     border: thin solid;
 }
 
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-background-linear-gradient-1.html b/layout/reftests/w3c-css/submitted/values3/calc-background-linear-gradient-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-background-linear-gradient-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-background-linear-gradient-1.html
@@ -1,13 +1,14 @@
 <!DOCTYPE html>
 <head>
   <title>CSS Test: Support calc() on gradient stop positions</title>
   <link rel="author" title="Yu-Sian (Thomasy) Liu" href="https://bugzilla.mozilla.org/show_bug.cgi?id=594935">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-background-linear-gradient-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 div {
  width:100px;
  height:100px;
  background:red;
  margin:5px 0 0 5px;
  float:left;
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-background-position-1.html b/layout/reftests/w3c-css/submitted/values3/calc-background-position-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-background-position-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-background-position-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for calc() on background-position</title>
   <link rel="author" title="L. David Baron" href="https://bugzilla.mozilla.org/show_bug.cgi?id=594934">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-background-position-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 p {
     height: 50px; width: 200px;
     border: thin solid;
     background-image: url(../backgrounds/blue-32x32.png);
     background-repeat: no-repeat;
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-background-size-1.html b/layout/reftests/w3c-css/submitted/values3/calc-background-size-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-background-size-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-background-size-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for calc() on background-size</title>
   <link rel="author" title="L. David Baron" href="https://bugzilla.mozilla.org/show_bug.cgi?id=594934">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-background-size-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 p {
     height: 50px; width: 200px;
     border: thin solid;
     background-image: url(../backgrounds/blue-32x32.png);
     background-repeat: no-repeat;
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-border-radius-1.html b/layout/reftests/w3c-css/submitted/values3/calc-border-radius-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-border-radius-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-border-radius-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: test for border-radius: calc()</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-border-radius-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 p {
   /* We use powers of two here to avoid floating-point issues.
      See bug 590181. */
 
   height: 256px;
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-height-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-height-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-height-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-height-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for height:calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-height-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 1px; }
 body > div > div { background: blue }
 
 /* for auto-height tests */
 body > div > div > div > div { height: 10px }
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-height-table-1.html b/layout/reftests/w3c-css/submitted/values3/calc-height-table-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-height-table-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-height-table-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test that height:calc() with no percentages has an effect on inner table elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-height-table-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 tbody, tr, td {
   height: calc(500px);
   min-height: calc(700px);
   max-height: calc(2px);
 }
 </style>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-margin-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-margin-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-margin-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-margin-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test of margin-*: calc()</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-margin-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 div { border: medium solid green; width: 500px }
 p { background: yellow }
 
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-max-height-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-max-height-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-max-height-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-max-height-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for max-height:calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-max-height-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 1px; }
 body > div > div { background: blue }
 
 /* to give the max-height something to restrict */
 span { display: block; height: 300px }
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: max-width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { width: 500px }
 p { background: green; color: white; margin: 1px 0; font-size: 10px; width: 1000px; }
 
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-intrinsic-1.html b/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-intrinsic-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-intrinsic-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-max-width-block-intrinsic-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: intrinsic width of max-width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-max-width-block-intrinsic-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { font-size: 10px }
 body > div { float: left; clear: left;
              margin: 0 0 1px 0; background: blue; color: white; height: 5px }
 body > div > div { width: 400px }
 body > div > div > div { width: 200px }
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-min-height-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-min-height-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-min-height-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-min-height-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for min-height:calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-height-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 1px; }
 body > div > div { background: blue }
 
 /* for auto-height tests */
 body > div > div > div > div { height: 10px }
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: min-width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { width: 500px }
 p { background: green; color: white; margin: 1px 0; font-size: 10px; width: 0 }
 
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-intrinsic-1.html b/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-intrinsic-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-intrinsic-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-min-width-block-intrinsic-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: intrinsic width of min-width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-min-width-block-intrinsic-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { font-size: 10px }
 body > div { float: left; clear: left;
              margin: 0 0 1px 0; background: blue; color: white; height: 5px }
 body > div > div { width: 1px }
 body > div > div > div { width: 200px }
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-bottom-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-bottom-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-bottom-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-bottom-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for bottom:calc() on absolutely positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-absolute-top-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; margin-top: -90px; height: 100px; margin-bottom: 90px; width: 3px; position: relative }
 div[style] { background: blue; position: absolute; height: 10px; width: 3px }
 div.space { height: 100px }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-left-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-left-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-left-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-left-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for left:calc() on absolutely positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-left-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 100px; width: 200px }
 body > div { height: 3px; position: relative }
 div[style] { background: blue; position: absolute; height: 3px; width: 100px }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-right-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-right-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-right-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-right-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for right:calc() on absolutely positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-left-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0; width: 200px }
 body > div { height: 3px; position: relative }
 div[style] { background: blue; position: absolute; height: 3px; width: 100px }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-top-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-top-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-top-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-absolute-top-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for top:calc() on absolutely positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-absolute-top-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 3px; position: relative }
 div[style] { background: blue; position: absolute; height: 10px; width: 3px }
 div.space { height: 100px }
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-bottom-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-bottom-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-bottom-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-bottom-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for bottom:calc() on relatively positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-top-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 3px; }
 div[style] { background: blue; position: relative; height: 10px; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-left-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-left-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-left-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-left-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for left:calc() on relatively positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-left-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 100px; width: 100px }
 div[style] { background: blue; position: relative; height: 3px; }
 </style>
 </head>
 <body>
 
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-right-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-right-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-right-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-right-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for right:calc() on relatively positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-left-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 100px; width: 100px }
 div[style] { background: blue; position: relative; height: 3px; }
 </style>
 </head>
 <body>
 
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-top-1.html b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-top-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-top-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-offsets-relative-top-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for top:calc() on relatively positioned elements</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-offsets-relative-top-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 body { margin: 0 }
 body > div { float: left; height: 100px; width: 3px; }
 div[style] { background: blue; position: relative; height: 10px; }
 </style>
 </head>
 <body>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-padding-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-padding-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-padding-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-padding-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test of padding-*: calc()</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-padding-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { width: 500px }
 div { border: medium solid green }
 p { background: yellow; margin: 0 }
 
 </style>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-text-indent-1.html b/layout/reftests/w3c-css/submitted/values3/calc-text-indent-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-text-indent-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-text-indent-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: text-indent: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-text-indent-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { width: 500px }
 p { font-size: 10px }
 
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-text-indent-intrinsic-1.html b/layout/reftests/w3c-css/submitted/values3/calc-text-indent-intrinsic-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-text-indent-intrinsic-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-text-indent-intrinsic-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: intrinsic width of text-indent: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-text-indent-intrinsic-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { font-size: 10px }
 div { float: left; clear: left;
        margin: 0 0 1px 0; background: blue; color: white; height: 5px }
 span { display: inline-block; width: 10px }
 
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-transform-origin-1.html b/layout/reftests/w3c-css/submitted/values3/calc-transform-origin-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-transform-origin-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-transform-origin-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for calc() on transform-origin</title>
   <link rel="author" title="L. David Baron" href="https://bugzilla.mozilla.org/show_bug.cgi?id=594934">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-transform-origin-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { margin: 100px }
 
 p {
     height: 50px; width: 200px;
     background: yellow;
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-vertical-align-1.html b/layout/reftests/w3c-css/submitted/values3/calc-vertical-align-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-vertical-align-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-vertical-align-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: Test for vertical-align:calc()</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-vertical-align-1-ref.html">
   <meta name="flags" content="">
 
 <div style="line-height: 100px; margin-top: 100px">
   <span>x</span>
   <span style="vertical-align: calc(50px)">x</span>
   <span style="vertical-align: calc(50%)">x</span>
   <span style="vertical-align: calc(25px + 50%)">x</span>
   <span style="vertical-align: calc(150% / 2 - 30px)">x</span>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-width-block-1.html b/layout/reftests/w3c-css/submitted/values3/calc-width-block-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-width-block-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-width-block-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-block-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { width: 500px }
 p { background: green; color: white; margin: 1px 0; font-size: 10px }
 
 </style>
 </head>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-width-block-intrinsic-1.html b/layout/reftests/w3c-css/submitted/values3/calc-width-block-intrinsic-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-width-block-intrinsic-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-width-block-intrinsic-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: intrinsic width of width: calc() on blocks</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-block-intrinsic-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 
 body { font-size: 10px }
 body > div { float: left; clear: left;
              margin: 0 0 1px 0; background: blue; color: white; height: 5px }
 body > div > div > div { width: 200px }
 
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-width-table-auto-1.html b/layout/reftests/w3c-css/submitted/values3/calc-width-table-auto-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-width-table-auto-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-width-table-auto-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: width: calc() on table-layout: auto tables</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-table-auto-1-ref.html">
   <meta name="flags" content="">
 <table border>
   <tr>
     <td style="width: calc(500px)">x</td>
     <td style="width: 100px">y</td>
 </table>
 <table border>
   <tr>
diff --git a/layout/reftests/w3c-css/submitted/values3/calc-width-table-fixed-1.html b/layout/reftests/w3c-css/submitted/values3/calc-width-table-fixed-1.html
--- a/layout/reftests/w3c-css/submitted/values3/calc-width-table-fixed-1.html
+++ b/layout/reftests/w3c-css/submitted/values3/calc-width-table-fixed-1.html
@@ -1,14 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>CSS Test: width: calc() on table-layout: auto tables</title>
   <link rel="author" title="L. David Baron" href="http://dbaron.org/">
   <link rel="help" href="http://www.w3.org/TR/css3-values/#calc-notation">
+  <link rel="match" href="calc-width-table-fixed-1-ref.html">
   <meta name="flags" content="">
 <style type="text/css">
 table { table-layout: fixed; width: 500px; border-spacing: 0 }
 </style>
 </head>
 <body>
 <table border>
   <tr>
diff --git a/layout/reftests/w3c-css/submitted/variables/variable-external-font-face-01.html b/layout/reftests/w3c-css/submitted/variables/variable-external-font-face-01.html
--- a/layout/reftests/w3c-css/submitted/variables/variable-external-font-face-01.html
+++ b/layout/reftests/w3c-css/submitted/variables/variable-external-font-face-01.html
@@ -1,13 +1,13 @@
 <!--
      Any copyright is dedicated to the Public Domain.
      http://creativecommons.org/publicdomain/zero/1.0/
 -->
 <!DOCTYPE html>
 <title>CSS Test: Test the invalid declaration and use of a variable in an @font-face rule within an external CSS.</title>
 <link rel="author" title="Mihaela Velimiroviciu" href="mailto:mihaela.velimiroviciu@softvisioninc.eu">
 <link rel="help" href="http://www.w3.org/TR/css-variables-1/#defining-variables">
-<link rel="match" href="variable-font-face-01-ref.html">
+<link rel="match" href="variable-external-font-face-01-ref.html">
 <link rel="stylesheet" type="text/css" href="support/external-variable-font-face.css">
 <meta name="flags" content="ahem">
 <p id=a>This text must not be in Ahem.</p>
 <p id=b>But this text must be in Ahem.</p>
diff --git a/layout/reftests/w3c-css/submitted/variables/variable-reference-38.html b/layout/reftests/w3c-css/submitted/variables/variable-reference-38.html
--- a/layout/reftests/w3c-css/submitted/variables/variable-reference-38.html
+++ b/layout/reftests/w3c-css/submitted/variables/variable-reference-38.html
@@ -1,16 +1,16 @@
 <!--
      Any copyright is dedicated to the Public Domain.
      http://creativecommons.org/publicdomain/zero/1.0/
 -->
 <!DOCTYPE html>
 <title>CSS Test: Test using variables in overlapping shorthands.</title>
 <link rel="author" title="Cameron McCormack" href="mailto:cam@mcc.id.au">
 <link rel="help" href="http://www.w3.org/TR/css-variables-1/#variables-in-shorthands">
-<link rel="match" href="variable-declaration-59-ref.html">
+<link rel="match" href="variable-reference-38-ref.html">
 <style>
 p { padding-left: 1em; }
 #a { --style: solid; --left: black dotted; border-style: var(--style); border-left: var(--left); border-top: none; border-right: none; border-bottom: none; }
 #b { --style: solid; --left: black dotted; border-left: var(--left); border-style: var(--style); border-top: none; border-right: none; border-bottom: none; }
 </style>
 <p id=a>The left border must be dotted.</p>
 <p id=b>The left border must be solid.</p>
