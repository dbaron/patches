From: L. David Baron <dbaron@dbaron.org>

Add list function to nsRuleNode for calling in a debugger.

diff --git a/layout/style/nsRuleNode.cpp b/layout/style/nsRuleNode.cpp
--- a/layout/style/nsRuleNode.cpp
+++ b/layout/style/nsRuleNode.cpp
@@ -6381,8 +6381,29 @@ nsRuleNode::HasAuthorSpecifiedRules(nsSt
         if (values[i]->GetUnit() == eCSSUnit_DummyInherit)
           values[i]->Reset();
       styleContext = styleContext->GetParent();
     }
   } while (haveExplicitUAInherit && styleContext);
 
   return PR_FALSE;
 }
+
+#ifdef DEBUG
+
+/* for calling in a debugger */
+
+static void
+ListRulesMatched(FILE *out, nsRuleNode *aRuleNode)
+{
+  fprintf(out, "Rules matched for rule node %p:\n",
+               static_cast<void*>(aRuleNode));
+  nsTArray<nsRuleNode*> array;
+  for (nsRuleNode *n = aRuleNode; n; n = n->GetParent()) {
+    array.AppendElement(n);
+  }
+  // Skip the root rule node, which has no rule.
+  for (PRUint32 i = array.Length() - 1; i > 0; --i) {
+    array[i-1]->GetRule()->List(out, 2);
+  }
+}
+
+#endif
