From: L. David Baron <dbaron@dbaron.org>

Fix accessible tests so they work with relativesrcdir set correctly.

diff --git a/accessible/tests/mochitest/name.css b/accessible/tests/mochitest/name.css
--- a/accessible/tests/mochitest/name.css
+++ b/accessible/tests/mochitest/name.css
@@ -1,11 +1,11 @@
 box.first {
-  -moz-binding: url('chrome://mochikit/content/a11y/accessible/name.xbl#first');
+  -moz-binding: url('chrome://mochikit/content/a11y/accessible/tests/mochitest/name.xbl#first');
 }
 
 .second {
-  -moz-binding: url('chrome://mochikit/content/a11y/accessible/name.xbl#second');
+  -moz-binding: url('chrome://mochikit/content/a11y/accessible/tests/mochitest/name.xbl#second');
 }
 
 .third {
-  -moz-binding: url('chrome://mochikit/content/a11y/accessible/name.xbl#third');
-}
\ No newline at end of file
+  -moz-binding: url('chrome://mochikit/content/a11y/accessible/tests/mochitest/name.xbl#third');
+}
diff --git a/accessible/tests/mochitest/name.js b/accessible/tests/mochitest/name.js
--- a/accessible/tests/mochitest/name.js
+++ b/accessible/tests/mochitest/name.js
@@ -14,17 +14,17 @@ function testName(aAccOrElmOrID, aName, 
   }
   return acc;
 }
 
 ////////////////////////////////////////////////////////////////////////////////
 // Name tests described by "namerules.xml" file.
 
 var gNameRulesFileURL =
-  "chrome://mochikit/content/a11y/accessible/namerules.xml";
+  "chrome://mochikit/content/a11y/accessible/tests/mochitest/namerules.xml";
 
 var gRuleDoc = null;
 
 /**
  * Start name tests. Run through markup elements and test names for test
  * element (see namerules.xml for details).
  */
 function testNames()
diff --git a/accessible/tests/mochitest/test_actions.html b/accessible/tests/mochitest/test_actions.html
--- a/accessible/tests/mochitest/test_actions.html
+++ b/accessible/tests/mochitest/test_actions.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var actionsArray = [
         {
           ID: "li_clickable",
           actionName: "click",
diff --git a/accessible/tests/mochitest/test_actions.xul b/accessible/tests/mochitest/test_actions.xul
--- a/accessible/tests/mochitest/test_actions.xul
+++ b/accessible/tests/mochitest/test_actions.xul
@@ -1,30 +1,30 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin" type="text/css"?>
 <?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css"
                  type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/nsIAccessible_name.css"
+<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/tests/mochitest/nsIAccessible_name.css"
                  type="text/css"?>
 
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         title="nsIAccessible actions testing">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       var actionsArray = [
         {
           ID: "menu",
diff --git a/accessible/tests/mochitest/test_actions_anchors.html b/accessible/tests/mochitest/test_actions_anchors.html
--- a/accessible/tests/mochitest/test_actions_anchors.html
+++ b/accessible/tests/mochitest/test_actions_anchors.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
 
   <script type="application/javascript">
     ////////////////////////////////////////////////////////////////////////////
     // Event checkers
 
     function scrollingChecker(aAcc)
     {
       this.type = EVENT_SCROLLING_START;
diff --git a/accessible/tests/mochitest/test_actions_aria.html b/accessible/tests/mochitest/test_actions_aria.html
--- a/accessible/tests/mochitest/test_actions_aria.html
+++ b/accessible/tests/mochitest/test_actions_aria.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var actionsArray = [
         {
           ID: "clickable",
           actionName: "click",
diff --git a/accessible/tests/mochitest/test_actions_inputs.html b/accessible/tests/mochitest/test_actions_inputs.html
--- a/accessible/tests/mochitest/test_actions_inputs.html
+++ b/accessible/tests/mochitest/test_actions_inputs.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var actionsArray = [
         {
           ID: "button",
           actionName: "press",
diff --git a/accessible/tests/mochitest/test_actions_tree.xul b/accessible/tests/mochitest/test_actions_tree.xul
--- a/accessible/tests/mochitest/test_actions_tree.xul
+++ b/accessible/tests/mochitest/test_actions_tree.xul
@@ -7,26 +7,26 @@
         title="Accessible XUL tree actions tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Accessible tree testers
 
     function focusChecker(aAcc, aStates)
     {
diff --git a/accessible/tests/mochitest/test_actions_treegrid.xul b/accessible/tests/mochitest/test_actions_treegrid.xul
--- a/accessible/tests/mochitest/test_actions_treegrid.xul
+++ b/accessible/tests/mochitest/test_actions_treegrid.xul
@@ -1,34 +1,34 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin" type="text/css"?>
 <?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css"
                  type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/treeview.css"
+<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.css"
                  type="text/css"?>
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         title="Accessible XUL tree actions tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Accessible tree testers
 
     function focusChecker(aAcc, aStates)
     {
diff --git a/accessible/tests/mochitest/test_aria_activedescendant.html b/accessible/tests/mochitest/test_aria_activedescendant.html
--- a/accessible/tests/mochitest/test_aria_activedescendant.html
+++ b/accessible/tests/mochitest/test_aria_activedescendant.html
@@ -8,17 +8,17 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     const ELEMENT_NODE = nsIDOMNode.ELEMENT_NODE;
 
     var gContainerFocused = false;
 
     function doTest()
     {
diff --git a/accessible/tests/mochitest/test_aria_role_article.html b/accessible/tests/mochitest/test_aria_role_article.html
--- a/accessible/tests/mochitest/test_aria_role_article.html
+++ b/accessible/tests/mochitest/test_aria_role_article.html
@@ -8,19 +8,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Test article exposed as document
       testRole("testArticle", ROLE_DOCUMENT);
 
       var articleAcc = getAccessible("testArticle");
diff --git a/accessible/tests/mochitest/test_aria_role_equation.html b/accessible/tests/mochitest/test_aria_role_equation.html
--- a/accessible/tests/mochitest/test_aria_role_equation.html
+++ b/accessible/tests/mochitest/test_aria_role_equation.html
@@ -8,19 +8,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function testThis(aID)
     {
       getRole(aID, ROLE_FLAT_EQUATION);
       var eqAcc = getAccessible(aID);
       if (eqAcc)
         is(eqAcc.name, "x^2 + y^2 + z^2", "Wrong name for " + aID + "!");
diff --git a/accessible/tests/mochitest/test_aria_roles.html b/accessible/tests/mochitest/test_aria_roles.html
--- a/accessible/tests/mochitest/test_aria_roles.html
+++ b/accessible/tests/mochitest/test_aria_roles.html
@@ -9,19 +9,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Note:
       // The phrase "weak foo" here means that there is no good foo-to-platform
       // role mapping. Similarly "strong foo" means there is a good foo-to-
       // platform role mapping.
diff --git a/accessible/tests/mochitest/test_aria_roles.xul b/accessible/tests/mochitest/test_aria_roles.xul
--- a/accessible/tests/mochitest/test_aria_roles.xul
+++ b/accessible/tests/mochitest/test_aria_roles.xul
@@ -7,17 +7,17 @@
         title="Accessibility Name Calculating Test.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       ok(!isAccessible("presentation_label"),
                       "Presentation label shouldn't be accessible.");
       ok(!isAccessible("presentation_descr"),
diff --git a/accessible/tests/mochitest/test_aria_token_attrs.html b/accessible/tests/mochitest/test_aria_token_attrs.html
--- a/accessible/tests/mochitest/test_aria_token_attrs.html
+++ b/accessible/tests/mochitest/test_aria_token_attrs.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-      src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+      src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // test aria-pressed state mapping to roles PUSHBUTTON vs TOGGLEBUTTON
       testRole("button_pressed_true", ROLE_TOGGLE_BUTTON);
       testRole("button_pressed_false", ROLE_TOGGLE_BUTTON);
       testRole("button_pressed_empty", ROLE_PUSHBUTTON);
diff --git a/accessible/tests/mochitest/test_attrs_elm_tree.xul b/accessible/tests/mochitest/test_attrs_elm_tree.xul
--- a/accessible/tests/mochitest/test_attrs_elm_tree.xul
+++ b/accessible/tests/mochitest/test_attrs_elm_tree.xul
@@ -7,22 +7,22 @@
         title="Accessible XUL tree attributes tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTestAttrs()
     {
diff --git a/accessible/tests/mochitest/test_bug420863.html b/accessible/tests/mochitest/test_bug420863.html
--- a/accessible/tests/mochitest/test_bug420863.html
+++ b/accessible/tests/mochitest/test_bug420863.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
 
   <script type="application/javascript">
     var gClickHandler = null;
 
     function doTest()
     {
       // Actions should be exposed on any accessible having related DOM node
       // with registered 'click' event handler.
diff --git a/accessible/tests/mochitest/test_childAtPoint.html b/accessible/tests/mochitest/test_childAtPoint.html
--- a/accessible/tests/mochitest/test_childAtPoint.html
+++ b/accessible/tests/mochitest/test_childAtPoint.html
@@ -5,19 +5,19 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/layout.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/layout.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Not specific case, child and deepchild testing.
       var list = getAccessible("list");
       var listitem = getAccessible("listitem");
       var image = getAccessible("image");
diff --git a/accessible/tests/mochitest/test_childAtPoint.xul b/accessible/tests/mochitest/test_childAtPoint.xul
--- a/accessible/tests/mochitest/test_childAtPoint.xul
+++ b/accessible/tests/mochitest/test_childAtPoint.xul
@@ -7,22 +7,22 @@
         title="nsIAccessible::getChildAtPoint and getDeepestChildAtPoint">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/layout.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/layout.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       // Initialize the tree
       var view = new inTreeView();
       view.mRowCount = 5;
diff --git a/accessible/tests/mochitest/test_cssattrs.html b/accessible/tests/mochitest/test_cssattrs.html
--- a/accessible/tests/mochitest/test_cssattrs.html
+++ b/accessible/tests/mochitest/test_cssattrs.html
@@ -9,19 +9,19 @@ https://bugzilla.mozilla.org/show_bug.cg
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
     function testCSSAttrs(aID)
     {
       var node = document.getElementById(aID);
       var computedStyle = document.defaultView.getComputedStyle(node, "");
 
       var attrs = {
diff --git a/accessible/tests/mochitest/test_descr.html b/accessible/tests/mochitest/test_descr.html
--- a/accessible/tests/mochitest/test_descr.html
+++ b/accessible/tests/mochitest/test_descr.html
@@ -4,17 +4,17 @@
   <title>nsIAccessible::description tests</title>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     function testDescr(aAccOrElmOrID, aDescr)
     {
       var acc = getAccessible(aAccOrElmOrID);
       if (!acc)
         return;
 
diff --git a/accessible/tests/mochitest/test_elm_listbox.xul b/accessible/tests/mochitest/test_elm_listbox.xul
--- a/accessible/tests/mochitest/test_elm_listbox.xul
+++ b/accessible/tests/mochitest/test_elm_listbox.xul
@@ -7,19 +7,19 @@
         title="XUL listbox element test.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       var id = "";
       var listbox = null, acc = null;
 
diff --git a/accessible/tests/mochitest/test_elm_media.html b/accessible/tests/mochitest/test_elm_media.html
--- a/accessible/tests/mochitest/test_elm_media.html
+++ b/accessible/tests/mochitest/test_elm_media.html
@@ -8,25 +8,25 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/actions.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/actions.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
 
     // gA11yEventDumpID = "eventDump";
 
     function focusChecker(aAcc)
     {
       this.type = EVENT_FOCUS;
@@ -147,14 +147,14 @@ https://bugzilla.mozilla.org/show_bug.cg
   <a target="_blank"
      title="Expose HTML5 video and audio elements' embedded controls through accessibility APIs"
      href="https://bugzilla.mozilla.org/show_bug.cgi?id=483573">Mozilla Bug 483573</a>
   <p id="display"></p>
   <div id="content" style="display: none"></div>
   <pre id="test">
   </pre>
 
-  <audio id="audio" src="chrome://mochikit/content/a11y/accessible/bug461281.ogg"
+  <audio id="audio" src="chrome://mochikit/content/a11y/accessible/tests/mochitest/bug461281.ogg"
          controls="true"></audio>
 
   <div id="eventDump"></div>
 </body>
 </html>
diff --git a/accessible/tests/mochitest/test_elm_plugin.html b/accessible/tests/mochitest/test_elm_plugin.html
--- a/accessible/tests/mochitest/test_elm_plugin.html
+++ b/accessible/tests/mochitest/test_elm_plugin.html
@@ -6,21 +6,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
 
     function doTest()
     {
       if (!WIN) {
         ok(true,
            "Nothing to test because accessible plugins are supported on Windows only");
diff --git a/accessible/tests/mochitest/test_events_caretmove.html b/accessible/tests/mochitest/test_events_caretmove.html
--- a/accessible/tests/mochitest/test_events_caretmove.html
+++ b/accessible/tests/mochitest/test_events_caretmove.html
@@ -9,19 +9,19 @@
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
     /**
      * Generic checker.
      */
     function checker(aCaretOffset)
     {
       this.check = function checker_check(aEvent)
diff --git a/accessible/tests/mochitest/test_events_coalescence.html b/accessible/tests/mochitest/test_events_coalescence.html
--- a/accessible/tests/mochitest/test_events_coalescence.html
+++ b/accessible/tests/mochitest/test_events_coalescence.html
@@ -9,19 +9,19 @@
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
 
     ////////////////////////////////////////////////////////////////////////////
     // Invoker base classes
 
     const kRemoveElm = 1;
     const kHideElm = 2;
diff --git a/accessible/tests/mochitest/test_events_doc.html b/accessible/tests/mochitest/test_events_doc.html
--- a/accessible/tests/mochitest/test_events_doc.html
+++ b/accessible/tests/mochitest/test_events_doc.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
     ////////////////////////////////////////////////////////////////////////////
     // Invokers
 
     function changeIframeSrc(aIdentifier, aURL)
     {
       this.DOMNode = getNode(aIdentifier);
diff --git a/accessible/tests/mochitest/test_events_draganddrop.html b/accessible/tests/mochitest/test_events_draganddrop.html
--- a/accessible/tests/mochitest/test_events_draganddrop.html
+++ b/accessible/tests/mochitest/test_events_draganddrop.html
@@ -7,22 +7,22 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
 
     /**
      * Do tests.
      */
     var gQueue = null;
 
diff --git a/accessible/tests/mochitest/test_events_flush.html b/accessible/tests/mochitest/test_events_flush.html
--- a/accessible/tests/mochitest/test_events_flush.html
+++ b/accessible/tests/mochitest/test_events_flush.html
@@ -9,19 +9,19 @@
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
 
     var gFocusHandler = {
       handleEvent: function(aEvent) {
         switch (this.count) {
           case 0:
             is(aEvent.DOMNode, getNode("input1"),
diff --git a/accessible/tests/mochitest/test_events_focus.html b/accessible/tests/mochitest/test_events_focus.html
--- a/accessible/tests/mochitest/test_events_focus.html
+++ b/accessible/tests/mochitest/test_events_focus.html
@@ -9,19 +9,19 @@
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
     /**
      * Checker for invokers.
      */
     function actionChecker(aDescription)
     {
       this.check = function actionChecker_check(aEvent)
diff --git a/accessible/tests/mochitest/test_events_focus.xul b/accessible/tests/mochitest/test_events_focus.xul
--- a/accessible/tests/mochitest/test_events_focus.xul
+++ b/accessible/tests/mochitest/test_events_focus.xul
@@ -7,19 +7,19 @@
         title="Accessible focus event testing">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
     /**
      * Focus invoker.
      */
     function synthFocus(aNodeOrID)
     {
       this.DOMNode = getNode(aNodeOrID);
diff --git a/accessible/tests/mochitest/test_events_focusdoc.html b/accessible/tests/mochitest/test_events_focusdoc.html
--- a/accessible/tests/mochitest/test_events_focusdoc.html
+++ b/accessible/tests/mochitest/test_events_focusdoc.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
     src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
       src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   
   <script type="application/javascript"
-      src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+      src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-    src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+    src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
     <script type="application/javascript"
-      src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+      src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
 
     /**
      * Focus invoker.
      */
     function takeFocus(aAcc)
     {
diff --git a/accessible/tests/mochitest/test_events_mutation.html b/accessible/tests/mochitest/test_events_mutation.html
--- a/accessible/tests/mochitest/test_events_mutation.html
+++ b/accessible/tests/mochitest/test_events_mutation.html
@@ -14,19 +14,19 @@
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
     /**
      * Invokers.
      */
     var kNoEvents = 0;
 
     var kShowEvent = 1;
diff --git a/accessible/tests/mochitest/test_events_scroll.xul b/accessible/tests/mochitest/test_events_scroll.xul
--- a/accessible/tests/mochitest/test_events_scroll.xul
+++ b/accessible/tests/mochitest/test_events_scroll.xul
@@ -9,22 +9,22 @@
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
   <![CDATA[
 
     ////////////////////////////////////////////////////////////////////////////
     // Hack to make xul:tabbrowser work
 
     const Ci = Components.interfaces;
@@ -47,17 +47,17 @@
       }
     };
 
     function doTest()
     {
       registerA11yEventListener(EVENT_SCROLLING_START, gScrollHandler);
 
       var url =
-        "chrome://mochikit/content/a11y/accessible/events_scroll.html#link1";
+        "chrome://mochikit/content/a11y/accessible/tests/mochitest/events_scroll.html#link1";
 
       var tabBrowser = document.getElementById("tabBrowser");
       tabBrowser.loadURI(url);
     }
 
     SimpleTest.waitForExplicitFinish();
     addA11yLoadEvent(doTest);
   ]]>
diff --git a/accessible/tests/mochitest/test_events_tree.xul b/accessible/tests/mochitest/test_events_tree.xul
--- a/accessible/tests/mochitest/test_events_tree.xul
+++ b/accessible/tests/mochitest/test_events_tree.xul
@@ -12,22 +12,22 @@
         title="DOM TreeViewChanged/TreeRowCountChanged and a11y name change events.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
   <![CDATA[
 
     ////////////////////////////////////////////////////////////////////////////
     // Invoker's checkers
 
     /**
diff --git a/accessible/tests/mochitest/test_events_valuechange.html b/accessible/tests/mochitest/test_events_valuechange.html
--- a/accessible/tests/mochitest/test_events_valuechange.html
+++ b/accessible/tests/mochitest/test_events_valuechange.html
@@ -7,22 +7,22 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/value.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/value.js"></script>
 
   <script type="application/javascript">
 
 
     /**
      * Do tests.
      */
     var gQueue = null;
diff --git a/accessible/tests/mochitest/test_groupattrs.html b/accessible/tests/mochitest/test_groupattrs.html
--- a/accessible/tests/mochitest/test_groupattrs.html
+++ b/accessible/tests/mochitest/test_groupattrs.html
@@ -6,19 +6,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // HTML select
       testGroupAttrs("opt1", 1, 2);
       testGroupAttrs("opt2", 2, 2);
diff --git a/accessible/tests/mochitest/test_groupattrs.xul b/accessible/tests/mochitest/test_groupattrs.xul
--- a/accessible/tests/mochitest/test_groupattrs.xul
+++ b/accessible/tests/mochitest/test_groupattrs.xul
@@ -7,19 +7,19 @@
         title="Accessibility Group Attributes ('level', 'setsize', 'posinset') Test.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // xul:listbox (bug 417317)
       testGroupAttrs("item1", "1", "2");
diff --git a/accessible/tests/mochitest/test_invalidate_accessnode.html b/accessible/tests/mochitest/test_invalidate_accessnode.html
--- a/accessible/tests/mochitest/test_invalidate_accessnode.html
+++ b/accessible/tests/mochitest/test_invalidate_accessnode.html
@@ -8,17 +8,17 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var parentElm = getNode("parent");
       if (!parentElm) {
         SimpleTest.finish();
         return;
diff --git a/accessible/tests/mochitest/test_invalidate_elmli.html b/accessible/tests/mochitest/test_invalidate_elmli.html
--- a/accessible/tests/mochitest/test_invalidate_elmli.html
+++ b/accessible/tests/mochitest/test_invalidate_elmli.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
 
     ////////////////////////////////////////////////////////////////////////////
     // Helpers
 
     function testDefunctAccessible(aAcc, aNodeOrId)
     {
diff --git a/accessible/tests/mochitest/test_name.html b/accessible/tests/mochitest/test_name.html
--- a/accessible/tests/mochitest/test_name.html
+++ b/accessible/tests/mochitest/test_name.html
@@ -6,19 +6,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // aria-label
 
       // Simple label provided via ARIA
       testName("btn_simple_aria_label", "I am a button");
diff --git a/accessible/tests/mochitest/test_name.xul b/accessible/tests/mochitest/test_name.xul
--- a/accessible/tests/mochitest/test_name.xul
+++ b/accessible/tests/mochitest/test_name.xul
@@ -1,30 +1,30 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin" type="text/css"?>
 <?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css"
                  type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/name.css"
+<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.css"
                  type="text/css"?>
 
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         title="Accessibility Name Calculating Test.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       // aria-label
 
       // Simple label provided via ARIA
diff --git a/accessible/tests/mochitest/test_name_button.html b/accessible/tests/mochitest/test_name_button.html
--- a/accessible/tests/mochitest/test_name_button.html
+++ b/accessible/tests/mochitest/test_name_button.html
@@ -5,19 +5,19 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // html:button, aria-label
       testName("btn_aria_label", "button label");
 
       // html:button, aria-labelledby
diff --git a/accessible/tests/mochitest/test_name_link.html b/accessible/tests/mochitest/test_name_link.html
--- a/accessible/tests/mochitest/test_name_link.html
+++ b/accessible/tests/mochitest/test_name_link.html
@@ -7,19 +7,19 @@
         type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // aria-label
       testName("aria_label", "anchor label");
 
       // aria-labelledby
diff --git a/accessible/tests/mochitest/test_name_markup.html b/accessible/tests/mochitest/test_name_markup.html
--- a/accessible/tests/mochitest/test_name_markup.html
+++ b/accessible/tests/mochitest/test_name_markup.html
@@ -5,21 +5,21 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/name.js"></script>
 
   <script type="application/javascript">
     // gA11yEventDumpID = "eventdump";
 
     SimpleTest.waitForExplicitFinish();
     addA11yLoadEvent(testNames);
   </script>
 
diff --git a/accessible/tests/mochitest/test_name_nsRootAcc.xul b/accessible/tests/mochitest/test_name_nsRootAcc.xul
--- a/accessible/tests/mochitest/test_name_nsRootAcc.xul
+++ b/accessible/tests/mochitest/test_name_nsRootAcc.xul
@@ -9,28 +9,28 @@
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     // var gA11yEventDumpID = "eventdump"; // debug stuff
 
     SimpleTest.waitForExplicitFinish();
-    var w = window.openDialog("chrome://mochikit/content/a11y/accessible/name_nsRootAcc_wnd.xul",
+    var w = window.openDialog("chrome://mochikit/content/a11y/accessible/tests/mochitest/name_nsRootAcc_wnd.xul",
                               "nsRootAcc_name_test", 
                               "chrome,width=600,height=600");
     if (LINUX) {
       w.focus();
     }
     
   ]]>
   </script>
diff --git a/accessible/tests/mochitest/test_nsIAccessNode_utils.html b/accessible/tests/mochitest/test_nsIAccessNode_utils.html
--- a/accessible/tests/mochitest/test_nsIAccessNode_utils.html
+++ b/accessible/tests/mochitest/test_nsIAccessNode_utils.html
@@ -6,17 +6,17 @@
   <link rel="stylesheet" type="text/css"
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var elmObj = {};
       var acc = getAccessible("span", [nsIAccessNode], elmObj);
       computedStyle = document.defaultView.getComputedStyle(elmObj.value, "");
 
diff --git a/accessible/tests/mochitest/test_nsIAccessibleDocument.html b/accessible/tests/mochitest/test_nsIAccessibleDocument.html
--- a/accessible/tests/mochitest/test_nsIAccessibleDocument.html
+++ b/accessible/tests/mochitest/test_nsIAccessibleDocument.html
@@ -5,21 +5,21 @@ https://bugzilla.mozilla.org/show_bug.cg
 <head>
   <title>nsIAccessibleDocument chrome tests</title>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript" src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript" src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-    src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+    src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-    src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+    src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-    src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+    src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var docAcc = getAccessible(document, [nsIAccessibleDocument]);
       if (docAcc) {
         // nsIAccessible
         is(docAcc.name, "nsIAccessibleDocument chrome tests",
@@ -34,17 +34,17 @@ https://bugzilla.mozilla.org/show_bug.cg
         is(docAcc.numActions, 0, "Wrong number of actions for document!");
 
         // attributes should contain tag:body
         attributes = docAcc.attributes;
         is(attributes.getStringProperty("tag"), "BODY",
            "Wrong attribute on document!");
 
         // nsIAccessibleDocument
-        is(docAcc.URL, "chrome://mochikit/content/a11y/accessible/test_nsIAccessibleDocument.html",
+        is(docAcc.URL, "chrome://mochikit/content/a11y/accessible/tests/mochitest/test_nsIAccessibleDocument.html",
            "Wrong URL for document!");
         is(docAcc.title, "nsIAccessibleDocument chrome tests",        
            "Wrong title for document!");
         is(docAcc.mimeType, "text/html",
            "Wrong mime type for document!");
         // nsDocAccessible::getDocType currently returns NS_ERROR_FAILURE.
         // See bug 442005. After fixing, please remove this comment and
         // uncomment the below two lines to enable the test.
diff --git a/accessible/tests/mochitest/test_nsIAccessibleEditableText.html b/accessible/tests/mochitest/test_nsIAccessibleEditableText.html
--- a/accessible/tests/mochitest/test_nsIAccessibleEditableText.html
+++ b/accessible/tests/mochitest/test_nsIAccessibleEditableText.html
@@ -7,19 +7,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <title>nsIAccessibleEditableText chrome tests</title>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/nsIAccessibleEditableText.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/nsIAccessibleEditableText.js"></script>
 
   <script type="application/javascript">
     var gParagraphAcc;
 
     function testEditable(aID)
     {
       var et = new nsEditableText(aID);
 
diff --git a/accessible/tests/mochitest/test_nsIAccessibleHyperLink.html b/accessible/tests/mochitest/test_nsIAccessibleHyperLink.html
--- a/accessible/tests/mochitest/test_nsIAccessibleHyperLink.html
+++ b/accessible/tests/mochitest/test_nsIAccessibleHyperLink.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function testThis(aID, aAcc, aRole, aAnchors, aName, aValid, aStartIndex,
                       aEndIndex)
     {
       testRole(aAcc, aRole);
       is(aAcc.anchorCount, aAnchors, "Wrong number of anchors for ID "
                                       + aID + "!");
diff --git a/accessible/tests/mochitest/test_nsIAccessibleHyperLink.xul b/accessible/tests/mochitest/test_nsIAccessibleHyperLink.xul
--- a/accessible/tests/mochitest/test_nsIAccessibleHyperLink.xul
+++ b/accessible/tests/mochitest/test_nsIAccessibleHyperLink.xul
@@ -7,21 +7,21 @@
         title="test for nsIAccessibleHyperLink interface on XUL:label elements">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function testThis(aID, aAcc, aRole, aAnchorCount, aAnchorName, aURI,
                       aStartIndex, aEndIndex, aValid, aSelectedBefore,
                       aSelectedAfter)
     {
       testRole(aID, aRole);
diff --git a/accessible/tests/mochitest/test_nsIAccessibleHyperText.html b/accessible/tests/mochitest/test_nsIAccessibleHyperText.html
--- a/accessible/tests/mochitest/test_nsIAccessibleHyperText.html
+++ b/accessible/tests/mochitest/test_nsIAccessibleHyperText.html
@@ -8,17 +8,17 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     var gParagraphAcc;
 
     function testThis(aID, aCharIndex, aExpectedLinkIndex, aName)
     {
       is(gParagraphAcc.getLinkIndex(aCharIndex), aExpectedLinkIndex,
          "Wrong link index for ID " + aID + "!");
diff --git a/accessible/tests/mochitest/test_nsIAccessibleImage.html b/accessible/tests/mochitest/test_nsIAccessibleImage.html
--- a/accessible/tests/mochitest/test_nsIAccessibleImage.html
+++ b/accessible/tests/mochitest/test_nsIAccessibleImage.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
     function testCoordinates(aID, aAcc, aWidth, aHeight)
     {
       var screenX = {}, screenY = {}, windowX = {}, windowY = {}, parentX = {},
           parentY = {};
 
       // get screen coordinates.
diff --git a/accessible/tests/mochitest/test_nsIAccessible_applicationAccessible.html b/accessible/tests/mochitest/test_nsIAccessible_applicationAccessible.html
--- a/accessible/tests/mochitest/test_nsIAccessible_applicationAccessible.html
+++ b/accessible/tests/mochitest/test_nsIAccessible_applicationAccessible.html
@@ -5,17 +5,17 @@
   <link rel="stylesheet" type="text/css" 
          href="chrome://mochikit/content/tests/SimpleTest/test.css" />
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript" 
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js">
    </script>
   <script type="application/javascript" 
-          src="chrome://mochikit/content/a11y/accessible/common.js" ></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" ></script>
 
   <script type="application/javascript">
     function doTest()
     {
         var accessible = getAccessible(document);
         while (accessible && accessible.parent) {
             accessible = accessible.parent;
         }
diff --git a/accessible/tests/mochitest/test_nsIAccessible_comboboxes.xul b/accessible/tests/mochitest/test_nsIAccessible_comboboxes.xul
--- a/accessible/tests/mochitest/test_nsIAccessible_comboboxes.xul
+++ b/accessible/tests/mochitest/test_nsIAccessible_comboboxes.xul
@@ -11,19 +11,19 @@
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/EventUtils.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />        
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />        
 
   <script type="application/javascript">
   <![CDATA[
     function openHideCombobox(aComboboxNodeOrID, aIsOpen)
     {
       this.invoke = function invoke()
       {
         synthesizeMouse(this.DOMNode, 5, 5, {});
diff --git a/accessible/tests/mochitest/test_nsIAccessible_focus.html b/accessible/tests/mochitest/test_nsIAccessible_focus.html
--- a/accessible/tests/mochitest/test_nsIAccessible_focus.html
+++ b/accessible/tests/mochitest/test_nsIAccessible_focus.html
@@ -6,19 +6,19 @@
   <link rel="stylesheet" type="text/css"
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTest()
     {
       // focus ARIA link
diff --git a/accessible/tests/mochitest/test_nsIAccessible_selects.html b/accessible/tests/mochitest/test_nsIAccessible_selects.html
--- a/accessible/tests/mochitest/test_nsIAccessible_selects.html
+++ b/accessible/tests/mochitest/test_nsIAccessible_selects.html
@@ -4,21 +4,21 @@
   <title>nsIAccessible selects tests</title>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/nsIAccessible_selects.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/nsIAccessible_selects.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Label and combo, separate tags
       var names = [
         "Foo:", // combobox
         "Foo:", // combobox list
diff --git a/accessible/tests/mochitest/test_nsOuterDocAccessible.html b/accessible/tests/mochitest/test_nsOuterDocAccessible.html
--- a/accessible/tests/mochitest/test_nsOuterDocAccessible.html
+++ b/accessible/tests/mochitest/test_nsOuterDocAccessible.html
@@ -7,21 +7,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     // needed error return value
     const ns_error_invalid_arg = Components.results.NS_ERROR_INVALID_ARG;
 
     function doTest()
     {
       // Get accessible for body tag.
diff --git a/accessible/tests/mochitest/test_objectattrs.html b/accessible/tests/mochitest/test_objectattrs.html
--- a/accessible/tests/mochitest/test_objectattrs.html
+++ b/accessible/tests/mochitest/test_objectattrs.html
@@ -9,19 +9,19 @@ https://bugzilla.mozilla.org/show_bug.cg
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // aria
       testAttrs("atomic", {"atomic" : "true"}, true);
       testAttrs("autocomplete", {"autocomplete" : "true"}, true);
       testAttrs("checkbox", {"checkable" : "true"}, true); 
diff --git a/accessible/tests/mochitest/test_relations.html b/accessible/tests/mochitest/test_relations.html
--- a/accessible/tests/mochitest/test_relations.html
+++ b/accessible/tests/mochitest/test_relations.html
@@ -5,21 +5,21 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/relations.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/relations.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // html:label@for
       testRelation("label1", RELATION_LABEL_FOR, "checkbox1");
       testRelation("checkbox1", RELATION_LABELLED_BY, "label1");
 
diff --git a/accessible/tests/mochitest/test_relations.xul b/accessible/tests/mochitest/test_relations.xul
--- a/accessible/tests/mochitest/test_relations.xul
+++ b/accessible/tests/mochitest/test_relations.xul
@@ -7,21 +7,21 @@
         title="nsIAccessible::getAccessibleRelated() tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/relations.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/relations.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       // xul:label@control
       testRelation("label1", RELATION_LABEL_FOR, "checkbox1");
       testRelation("checkbox1", RELATION_LABELLED_BY, "label1");
diff --git a/accessible/tests/mochitest/test_relations_tree.xul b/accessible/tests/mochitest/test_relations_tree.xul
--- a/accessible/tests/mochitest/test_relations_tree.xul
+++ b/accessible/tests/mochitest/test_relations_tree.xul
@@ -7,22 +7,22 @@
         title="Accessible XUL tree relations tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/relations.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/relations.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTestRelations()
     {
diff --git a/accessible/tests/mochitest/test_role_nsHyperTextAcc.html b/accessible/tests/mochitest/test_role_nsHyperTextAcc.html
--- a/accessible/tests/mochitest/test_role_nsHyperTextAcc.html
+++ b/accessible/tests/mochitest/test_role_nsHyperTextAcc.html
@@ -8,19 +8,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTests()
     {
       // Test html:form.
       testRole("frm", ROLE_FORM);
 
       // test html:div
diff --git a/accessible/tests/mochitest/test_role_table_cells.html b/accessible/tests/mochitest/test_role_table_cells.html
--- a/accessible/tests/mochitest/test_role_table_cells.html
+++ b/accessible/tests/mochitest/test_role_table_cells.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/nsIAccessible_name.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/nsIAccessible_name.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTests()
     {
       // Test table cell name and role
       testRole("tc", ROLE_CELL);
 
       // Test grid cell.
diff --git a/accessible/tests/mochitest/test_selectable_tree.xul b/accessible/tests/mochitest/test_selectable_tree.xul
--- a/accessible/tests/mochitest/test_selectable_tree.xul
+++ b/accessible/tests/mochitest/test_selectable_tree.xul
@@ -1,34 +1,34 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin" type="text/css"?>
 <?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css"
                  type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/treeview.css"
+<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.css"
                  type="text/css"?>
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         title="XUL tree selectable tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     // gA11yEventDumpID = "debug";
 
diff --git a/accessible/tests/mochitest/test_states.html b/accessible/tests/mochitest/test_states.html
--- a/accessible/tests/mochitest/test_states.html
+++ b/accessible/tests/mochitest/test_states.html
@@ -17,21 +17,21 @@
   </style>
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // aria_autocomplete
       testStates("textbox_autocomplete_inline", 0, EXT_STATE_SUPPORTS_AUTOCOMPLETION);
       testStates("textbox_autocomplete_list", STATE_HASPOPUP, EXT_STATE_SUPPORTS_AUTOCOMPLETION);
       testStates("textbox_autocomplete_both", STATE_HASPOPUP, EXT_STATE_SUPPORTS_AUTOCOMPLETION);
diff --git a/accessible/tests/mochitest/test_states_doc.html b/accessible/tests/mochitest/test_states_doc.html
--- a/accessible/tests/mochitest/test_states_doc.html
+++ b/accessible/tests/mochitest/test_states_doc.html
@@ -10,19 +10,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Bug 509696
       testStates(document, STATE_READONLY); // role=""
       todo(false, "enable commented tests when we support body role changes");
 /*
diff --git a/accessible/tests/mochitest/test_states_docarticle.html b/accessible/tests/mochitest/test_states_docarticle.html
--- a/accessible/tests/mochitest/test_states_docarticle.html
+++ b/accessible/tests/mochitest/test_states_docarticle.html
@@ -6,19 +6,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {      
       var docAcc = getAccessible(document, [nsIAccessibleDocument]);
       if (docAcc) {
         testStates(docAcc, STATE_READONLY);
         testStates("article", STATE_READONLY);
diff --git a/accessible/tests/mochitest/test_states_editablebody.html b/accessible/tests/mochitest/test_states_editablebody.html
--- a/accessible/tests/mochitest/test_states_editablebody.html
+++ b/accessible/tests/mochitest/test_states_editablebody.html
@@ -8,19 +8,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       testStates(document, 0, EXT_STATE_EDITABLE);
       testStates("p", 0, EXT_STATE_EDITABLE);
 
       SimpleTest.finish();
diff --git a/accessible/tests/mochitest/test_states_frames.html b/accessible/tests/mochitest/test_states_frames.html
--- a/accessible/tests/mochitest/test_states_frames.html
+++ b/accessible/tests/mochitest/test_states_frames.html
@@ -7,19 +7,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       frameDoc = document.getElementById("frame_doc").contentDocument;
       frameDocArticle = document.getElementById("frame_doc_article").contentDocument;
       frameDocCheckbox = document.getElementById("frame_doc_checkbox").contentDocument;
       frameDocTextbox = document.getElementById("frame_doc_textbox").contentDocument;
diff --git a/accessible/tests/mochitest/test_states_popup.xul b/accessible/tests/mochitest/test_states_popup.xul
--- a/accessible/tests/mochitest/test_states_popup.xul
+++ b/accessible/tests/mochitest/test_states_popup.xul
@@ -7,19 +7,19 @@
         title="XUL popup attribute test">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       // label with popup
       testStates("labelWithPopup", STATE_HASPOPUP);
 
diff --git a/accessible/tests/mochitest/test_states_tree.xul b/accessible/tests/mochitest/test_states_tree.xul
--- a/accessible/tests/mochitest/test_states_tree.xul
+++ b/accessible/tests/mochitest/test_states_tree.xul
@@ -1,32 +1,32 @@
 <?xml version="1.0"?>
 <?xml-stylesheet href="chrome://global/skin" type="text/css"?>
 <?xml-stylesheet href="chrome://mochikit/content/tests/SimpleTest/test.css"
                  type="text/css"?>
-<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/treeview.css"
+<?xml-stylesheet href="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.css"
                  type="text/css"?>
 
 <window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
         title="Accessible XUL tree states tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     // gA11yEventDumpID = "debug";
 
diff --git a/accessible/tests/mochitest/test_table_1.html b/accessible/tests/mochitest/test_table_1.html
--- a/accessible/tests/mochitest/test_table_1.html
+++ b/accessible/tests/mochitest/test_table_1.html
@@ -4,17 +4,17 @@
   <meta http-equiv="content-type" content="text/html; charset=UTF-8">
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
 
 function doTest()
 {
   var accTable = getAccessible("table", [nsIAccessibleTable]);
 
   var s = window.getSelection();
diff --git a/accessible/tests/mochitest/test_table_4.html b/accessible/tests/mochitest/test_table_4.html
--- a/accessible/tests/mochitest/test_table_4.html
+++ b/accessible/tests/mochitest/test_table_4.html
@@ -4,19 +4,19 @@
   <meta http-equiv="content-type" content="text/html; charset=UTF-8">
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="text/javascript">
 
 function doTest()
 {
   // Test table with display:inline. We shouldn't create table accessible and
   // table cell accessible in this case
   var accNotCreated = (!isAccessible("table1"));
diff --git a/accessible/tests/mochitest/test_table_headers.html b/accessible/tests/mochitest/test_table_headers.html
--- a/accessible/tests/mochitest/test_table_headers.html
+++ b/accessible/tests/mochitest/test_table_headers.html
@@ -7,19 +7,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
 
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // column header from thead and row header from @scope inside of tfoot
 
diff --git a/accessible/tests/mochitest/test_table_headers_ariagrid.html b/accessible/tests/mochitest/test_table_headers_ariagrid.html
--- a/accessible/tests/mochitest/test_table_headers_ariagrid.html
+++ b/accessible/tests/mochitest/test_table_headers_ariagrid.html
@@ -7,19 +7,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
 
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // column and row headers from markup
 
diff --git a/accessible/tests/mochitest/test_table_headers_listbox.xul b/accessible/tests/mochitest/test_table_headers_listbox.xul
--- a/accessible/tests/mochitest/test_table_headers_listbox.xul
+++ b/accessible/tests/mochitest/test_table_headers_listbox.xul
@@ -7,19 +7,19 @@
         title="Table header information cells for XUL listbox">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // XUL listbox
 
diff --git a/accessible/tests/mochitest/test_table_headers_tree.xul b/accessible/tests/mochitest/test_table_headers_tree.xul
--- a/accessible/tests/mochitest/test_table_headers_tree.xul
+++ b/accessible/tests/mochitest/test_table_headers_tree.xul
@@ -7,22 +7,22 @@
         title="Table header information cells for XUL tree">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     var gTree = null;
     var gTreeBox = null;
diff --git a/accessible/tests/mochitest/test_table_indexes.html b/accessible/tests/mochitest/test_table_indexes.html
--- a/accessible/tests/mochitest/test_table_indexes.html
+++ b/accessible/tests/mochitest/test_table_indexes.html
@@ -9,19 +9,19 @@ https://bugzilla.mozilla.org/show_bug.cg
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // table
       var idxes = [
         [0, 1, 2],
diff --git a/accessible/tests/mochitest/test_table_indexes_ariagrid.html b/accessible/tests/mochitest/test_table_indexes_ariagrid.html
--- a/accessible/tests/mochitest/test_table_indexes_ariagrid.html
+++ b/accessible/tests/mochitest/test_table_indexes_ariagrid.html
@@ -6,21 +6,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // ARIA grid
       var idxes = [
         [0, 1, 2],
diff --git a/accessible/tests/mochitest/test_table_indexes_listbox.xul b/accessible/tests/mochitest/test_table_indexes_listbox.xul
--- a/accessible/tests/mochitest/test_table_indexes_listbox.xul
+++ b/accessible/tests/mochitest/test_table_indexes_listbox.xul
@@ -7,19 +7,19 @@
         title="Table indices of accessible table for XUL listbox">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       var idxes = [
         [0, 1, 2],
         [3, 4, 5],
diff --git a/accessible/tests/mochitest/test_table_indexes_tree.xul b/accessible/tests/mochitest/test_table_indexes_tree.xul
--- a/accessible/tests/mochitest/test_table_indexes_tree.xul
+++ b/accessible/tests/mochitest/test_table_indexes_tree.xul
@@ -7,22 +7,22 @@
         title="Accessible Table indexes tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     var gTree = null;
     var gTreeBox = null;
diff --git a/accessible/tests/mochitest/test_table_layoutguess.html b/accessible/tests/mochitest/test_table_layoutguess.html
--- a/accessible/tests/mochitest/test_table_layoutguess.html
+++ b/accessible/tests/mochitest/test_table_layoutguess.html
@@ -6,19 +6,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       // Attribute we're looking for
       var attr = {
         "layout-guess": "true"
       };
diff --git a/accessible/tests/mochitest/test_table_sels.html b/accessible/tests/mochitest/test_table_sels.html
--- a/accessible/tests/mochitest/test_table_sels.html
+++ b/accessible/tests/mochitest/test_table_sels.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="text/javascript">
 
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // table
 
diff --git a/accessible/tests/mochitest/test_table_sels_ariagrid.html b/accessible/tests/mochitest/test_table_sels_ariagrid.html
--- a/accessible/tests/mochitest/test_table_sels_ariagrid.html
+++ b/accessible/tests/mochitest/test_table_sels_ariagrid.html
@@ -9,21 +9,21 @@ https://bugzilla.mozilla.org/show_bug.cg
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // ARIA grid
       var cellsArray =
       [
diff --git a/accessible/tests/mochitest/test_table_sels_listbox.xul b/accessible/tests/mochitest/test_table_sels_listbox.xul
--- a/accessible/tests/mochitest/test_table_sels_listbox.xul
+++ b/accessible/tests/mochitest/test_table_sels_listbox.xul
@@ -7,19 +7,19 @@
         title="nsIAccessibleTable selection methods on xul:listbox test.">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       var id = "listbox3";
       var acc = getAccessible(id, [nsIAccessibleTable]);
 
diff --git a/accessible/tests/mochitest/test_table_sels_tree.xul b/accessible/tests/mochitest/test_table_sels_tree.xul
--- a/accessible/tests/mochitest/test_table_sels_tree.xul
+++ b/accessible/tests/mochitest/test_table_sels_tree.xul
@@ -7,24 +7,24 @@
         title="Accessible Table selection tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     var gTree = null;
     var gTreeBox = null;
diff --git a/accessible/tests/mochitest/test_table_struct.html b/accessible/tests/mochitest/test_table_struct.html
--- a/accessible/tests/mochitest/test_table_struct.html
+++ b/accessible/tests/mochitest/test_table_struct.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // column headers from thead and tfoot
 
       cellsArray = [
diff --git a/accessible/tests/mochitest/test_table_struct_ariagrid.html b/accessible/tests/mochitest/test_table_struct_ariagrid.html
--- a/accessible/tests/mochitest/test_table_struct_ariagrid.html
+++ b/accessible/tests/mochitest/test_table_struct_ariagrid.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // Pure ARIA grid
       var cellsArray = [
         [kColHeaderCell, kColHeaderCell, kColHeaderCell],
diff --git a/accessible/tests/mochitest/test_table_struct_ariatreegrid.html b/accessible/tests/mochitest/test_table_struct_ariatreegrid.html
--- a/accessible/tests/mochitest/test_table_struct_ariatreegrid.html
+++ b/accessible/tests/mochitest/test_table_struct_ariatreegrid.html
@@ -7,21 +7,21 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // HTML based ARIA tree grid
 
       var cellsArray = [
diff --git a/accessible/tests/mochitest/test_table_struct_listbox.xul b/accessible/tests/mochitest/test_table_struct_listbox.xul
--- a/accessible/tests/mochitest/test_table_struct_listbox.xul
+++ b/accessible/tests/mochitest/test_table_struct_listbox.xul
@@ -7,21 +7,21 @@
         title="Table accessible tree and table interface tests for XUL listboxes">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js"></script>
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // Multicolumn listbox.
 
diff --git a/accessible/tests/mochitest/test_table_struct_tree.xul b/accessible/tests/mochitest/test_table_struct_tree.xul
--- a/accessible/tests/mochitest/test_table_struct_tree.xul
+++ b/accessible/tests/mochitest/test_table_struct_tree.xul
@@ -7,24 +7,24 @@
         title="Table accessible tree and table interface tests for XUL trees">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/table.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/table.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     var gTree = null;
     var gTreeBox = null;
diff --git a/accessible/tests/mochitest/test_textattrs.html b/accessible/tests/mochitest/test_textattrs.html
--- a/accessible/tests/mochitest/test_textattrs.html
+++ b/accessible/tests/mochitest/test_textattrs.html
@@ -5,21 +5,21 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/attributes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/attributes.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js"></script>
 
   <script type="application/javascript">
 
     const nsIDOMNSEditableElement =
       Components.interfaces.nsIDOMNSEditableElement;
 
     var gComputedStyle = null;
 
diff --git a/accessible/tests/mochitest/test_textboxes.html b/accessible/tests/mochitest/test_textboxes.html
--- a/accessible/tests/mochitest/test_textboxes.html
+++ b/accessible/tests/mochitest/test_textboxes.html
@@ -8,24 +8,24 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/testTextboxes.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/testTextboxes.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // normal textbox without content and with no proper label
       testThis("unlabelled_Textbox", // ID
                null, // name
diff --git a/accessible/tests/mochitest/test_textboxes.xul b/accessible/tests/mochitest/test_textboxes.xul
--- a/accessible/tests/mochitest/test_textboxes.xul
+++ b/accessible/tests/mochitest/test_textboxes.xul
@@ -7,24 +7,24 @@
         title="nsIAccessible XUL textboxes chrome tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/testTextboxes.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/testTextboxes.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // normal textbox without content and with no proper label
       testThis("unlabelled_Textbox", // ID
diff --git a/accessible/tests/mochitest/test_value.html b/accessible/tests/mochitest/test_value.html
--- a/accessible/tests/mochitest/test_value.html
+++ b/accessible/tests/mochitest/test_value.html
@@ -17,30 +17,30 @@
   </style>
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       function testValue(aID, aValue)
       {
         var acc = getAccessible(aID);
         if (!acc)
           return;
         is(acc.value, aValue, "Wrong value for " + aID + "!");
       }
 
-      var href = "chrome://mochikit/content/a11y/accessible/foo";
+      var href = "chrome://mochikit/content/a11y/accessible/tests/mochitest/foo";
 
       // roles that can't live as nsHTMLLinkAccessibles
       testValue("aria_menuitem_link", "");
       testValue("aria_button_link", "");
       testValue("aria_checkbox_link", "");
       testValue("aria_application_link", "");
 
       // roles that can live as nsHTMLLinkAccessibles
diff --git a/accessible/tests/mochitest/test_value.xul b/accessible/tests/mochitest/test_value.xul
--- a/accessible/tests/mochitest/test_value.xul
+++ b/accessible/tests/mochitest/test_value.xul
@@ -7,19 +7,19 @@
         title="XUL progressmeter tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/value.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/value.js" />
 
   <script type="application/javascript">
   <![CDATA[
     function doTest()
     {
       // progressmeter
       testValue("pm1", "50%", .5, 0, 1, 0);
       testValue("pm2", "50%", 500, 0, 1000, 0);
diff --git a/accessible/tests/mochitest/tree/test_button.xul b/accessible/tests/mochitest/tree/test_button.xul
--- a/accessible/tests/mochitest/tree/test_button.xul
+++ b/accessible/tests/mochitest/tree/test_button.xul
@@ -7,19 +7,19 @@
         title="Accessible XUL button hierarchy tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTest()
     {
diff --git a/accessible/tests/mochitest/tree/test_colorpicker.xul b/accessible/tests/mochitest/tree/test_colorpicker.xul
--- a/accessible/tests/mochitest/tree/test_colorpicker.xul
+++ b/accessible/tests/mochitest/tree/test_colorpicker.xul
@@ -7,19 +7,19 @@
         title="Accessible XUL button hierarchy tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTest()
     {
diff --git a/accessible/tests/mochitest/tree/test_combobox.xul b/accessible/tests/mochitest/tree/test_combobox.xul
--- a/accessible/tests/mochitest/tree/test_combobox.xul
+++ b/accessible/tests/mochitest/tree/test_combobox.xul
@@ -7,19 +7,19 @@
         title="Accessible XUL menulist and textbox @autocomplete hierarchy tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTest()
     {
diff --git a/accessible/tests/mochitest/tree/test_filectrl.html b/accessible/tests/mochitest/tree/test_filectrl.html
--- a/accessible/tests/mochitest/tree/test_filectrl.html
+++ b/accessible/tests/mochitest/tree/test_filectrl.html
@@ -8,19 +8,19 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var accTree = {
         role: ROLE_TEXT_CONTAINER,
         children: [
           {
diff --git a/accessible/tests/mochitest/tree/test_media.html b/accessible/tests/mochitest/tree/test_media.html
--- a/accessible/tests/mochitest/tree/test_media.html
+++ b/accessible/tests/mochitest/tree/test_media.html
@@ -8,21 +8,21 @@ https://bugzilla.mozilla.org/show_bug.cg
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/states.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/states.js"></script>
 
   <script type="application/javascript">
 
     function doTest()
     {
       //////////////////////////////////////////////////////////////////////////
       // test the accessible tree
 
@@ -60,14 +60,14 @@ https://bugzilla.mozilla.org/show_bug.cg
   <a target="_blank"
      title="Expose HTML5 video and audio elements' embedded controls through accessibility APIs"
      href="https://bugzilla.mozilla.org/show_bug.cgi?id=483573">Mozilla Bug 483573</a>
   <p id="display"></p>
   <div id="content" style="display: none"></div>
   <pre id="test">
   </pre>
 
-  <audio id="audio" src="chrome://mochikit/content/a11y/accessible/bug461281.ogg"
+  <audio id="audio" src="chrome://mochikit/content/a11y/accessible/tests/mochitest/bug461281.ogg"
          controls="true"></audio>
 
   <div id="eventDump"></div>
 </body>
 </html>
diff --git a/accessible/tests/mochitest/tree/test_menu.xul b/accessible/tests/mochitest/tree/test_menu.xul
--- a/accessible/tests/mochitest/tree/test_menu.xul
+++ b/accessible/tests/mochitest/tree/test_menu.xul
@@ -7,19 +7,19 @@
         title="Accessible XUL menu hierarchy tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Test
 
     function doTest()
     {
diff --git a/accessible/tests/mochitest/tree/test_select.html b/accessible/tests/mochitest/tree/test_select.html
--- a/accessible/tests/mochitest/tree/test_select.html
+++ b/accessible/tests/mochitest/tree/test_select.html
@@ -6,19 +6,19 @@
         href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var accTree = {
         role: ROLE_LISTBOX,
         children: [
           {
diff --git a/accessible/tests/mochitest/tree/test_tree.xul b/accessible/tests/mochitest/tree/test_tree.xul
--- a/accessible/tests/mochitest/tree/test_tree.xul
+++ b/accessible/tests/mochitest/tree/test_tree.xul
@@ -7,24 +7,24 @@
         title="Accessible XUL tree hierarchy tests">
 
   <script type="application/javascript" 
           src="chrome://mochikit/content/MochiKit/packed.js" />
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/treeview.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/treeview.js" />
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js" />
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/events.js" />
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/events.js" />
 
   <script type="application/javascript">
   <![CDATA[
     ////////////////////////////////////////////////////////////////////////////
     // Accessible tree testers
 
     function getTreeItemAccTree(aTableRole, acolumnCount)
     {
diff --git a/accessible/tests/mochitest/tree/test_txtctrl.html b/accessible/tests/mochitest/tree/test_txtctrl.html
--- a/accessible/tests/mochitest/tree/test_txtctrl.html
+++ b/accessible/tests/mochitest/tree/test_txtctrl.html
@@ -6,19 +6,19 @@
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css" />
 
   <script type="application/javascript"
           src="chrome://mochikit/content/MochiKit/packed.js"></script>
   <script type="application/javascript"
           src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
 
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/common.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/common.js"></script>
   <script type="application/javascript"
-          src="chrome://mochikit/content/a11y/accessible/role.js"></script>
+          src="chrome://mochikit/content/a11y/accessible/tests/mochitest/role.js"></script>
 
   <script type="application/javascript">
     function doTest()
     {
       var accTree = {
         role: ROLE_SECTION,
         children: [
           { // text child
