Fix some leaks of GTK widgets

diff --git a/widget/src/gtk2/nsLookAndFeel.cpp b/widget/src/gtk2/nsLookAndFeel.cpp
--- a/widget/src/gtk2/nsLookAndFeel.cpp
+++ b/widget/src/gtk2/nsLookAndFeel.cpp
@@ -666,10 +666,12 @@ nsLookAndFeel::InitLookAndFeel()
 
     // invisible character styles
     GtkWidget *entry = gtk_entry_new();
+    gtk_widget_ref(entry);
+    gtk_object_sink(GTK_OBJECT(entry));
     guint value;
     g_object_get (entry, "invisible-char", &value, NULL);
     sInvisibleCharacter = PRUnichar(value);
-    gtk_widget_destroy(entry);
+    gtk_widget_unref(entry);
 }
 
 // virtual
diff --git a/widget/src/gtk2/nsLookAndFeel.h b/widget/src/gtk2/nsLookAndFeel.h
--- a/widget/src/gtk2/nsLookAndFeel.h
+++ b/widget/src/gtk2/nsLookAndFeel.h
@@ -74,7 +74,10 @@ protected:
 
     static void InitLookAndFeel();
     void InitWidget() {
-        GtkWidget *widget = gtk_invisible_new();
+        // we used to use gtk_invisible_new here, but GtkInvisibles come
+        // without a floating refcount and crash if they are unref'd
+        // enough to actually be destroyed.
+        GtkWidget *widget = gtk_hbox_new(TRUE, 0);
         gtk_object_ref(GTK_OBJECT(widget));
         gtk_object_sink(GTK_OBJECT(widget));
         gtk_widget_ensure_style(widget);
