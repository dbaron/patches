Add slightly more informative logging patch for bug 469514, DEBUG_cltbld-only.

diff --git a/xpcom/io/nsStreamUtils.cpp b/xpcom/io/nsStreamUtils.cpp
--- a/xpcom/io/nsStreamUtils.cpp
+++ b/xpcom/io/nsStreamUtils.cpp
@@ -120,16 +120,22 @@ private:
     nsCOMPtr<nsIEventTarget>         mTarget;
 };
 
 NS_IMPL_THREADSAFE_ISUPPORTS2(nsInputStreamReadyEvent, nsIRunnable,
                               nsIInputStreamCallback)
 
 //-----------------------------------------------------------------------------
 
+#if defined(DEBUG_cltbld) && defined(NS_TRACE_MALLOC)
+extern "C" {
+  extern const char* nsGetTypeName(const void* ptr);
+};
+#endif
+
 class nsOutputStreamReadyEvent : public nsIRunnable
                                , public nsIOutputStreamCallback
 {
 public:
     NS_DECL_ISUPPORTS
 
     nsOutputStreamReadyEvent(nsIOutputStreamCallback *callback,
                              nsIEventTarget *target)
@@ -172,16 +178,20 @@ public:
     NS_IMETHOD OnOutputStreamReady(nsIAsyncOutputStream *stream)
     {
         mStream = stream;
 
         nsresult rv =
             mTarget->Dispatch(this, NS_DISPATCH_NORMAL);
         if (NS_FAILED(rv)) {
             NS_WARNING("PostEvent failed");
+#if defined(DEBUG_cltbld) && defined(NS_TRACE_MALLOC)
+            printf("### mTarget (%p, a %s) may not be accepting events!\n",
+                   mTarget.get(), nsGetTypeName(mTarget.get()));
+#endif
             return NS_ERROR_FAILURE;
         }
 
         return NS_OK;
     }
 
     NS_IMETHOD Run()
     {
