From: L. David Baron <dbaron@dbaron.org>

Make NS_FRAME_IS_PUSHED_FLOAT exact.

diff --git a/layout/generic/nsBlockFrame.cpp b/layout/generic/nsBlockFrame.cpp
--- a/layout/generic/nsBlockFrame.cpp
+++ b/layout/generic/nsBlockFrame.cpp
@@ -6971,16 +6971,18 @@ nsBlockFrame::CollectFloats(nsIFrame* aF
           nsLayoutUtils::GetFloatFromPlaceholder(aFrame) : nullptr;
       if (outOfFlowFrame && outOfFlowFrame->GetParent() == this) {
         bool removed = false;
         if (outOfFlowFrame->GetStateBits() & NS_FRAME_IS_PUSHED_FLOAT) {
           nsFrameList* list = GetPushedFloats();
           removed = list && list->RemoveFrameIfPresent(outOfFlowFrame);
         }
         if (!removed) {
+          // FIXME: We should make NS_FRAME_IS_PUSHED_FLOAT more exact
+          // so that we don't need this.  (See comments in bug 586806.)
           if (aFromOverflow) {
             nsAutoOOFFrameList oofs(this);
             oofs.mList.RemoveFrame(outOfFlowFrame);
           } else {
             mFloats.RemoveFrame(outOfFlowFrame);
           }
         }
         aList.AppendFrame(nullptr, outOfFlowFrame);
