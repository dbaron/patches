From: L. David Baron <dbaron@dbaron.org>

Make NS_FRAME_IS_PUSHED_FLOAT exact.

diff --git a/layout/generic/nsBlockFrame.cpp b/layout/generic/nsBlockFrame.cpp
--- a/layout/generic/nsBlockFrame.cpp
+++ b/layout/generic/nsBlockFrame.cpp
@@ -6950,16 +6950,18 @@ void nsBlockFrame::CollectFloats(nsIFram
       nsIFrame *outOfFlowFrame =
         aFrame->GetType() == nsGkAtoms::placeholderFrame ?
           nsLayoutUtils::GetFloatFromPlaceholder(aFrame) : nullptr;
       if (outOfFlowFrame) {
         if (outOfFlowFrame->GetStateBits() & NS_FRAME_IS_PUSHED_FLOAT) {
           if (outOfFlowFrame->GetParent() == this) {
             nsFrameList* list = GetPushedFloats();
             if (!list || !list->RemoveFrameIfPresent(outOfFlowFrame)) {
+              // FIXME: We should make NS_FRAME_IS_PUSHED_FLOAT more exact
+              // so that we don't need this.  (See comments in bug 586806.)
               if (aFromOverflow) {
                 nsAutoOOFFrameList oofs(this);
                 oofs.mList.RemoveFrame(outOfFlowFrame);
               } else {
                 mFloats.RemoveFrame(outOfFlowFrame);
               }
             }
             aList.AppendFrame(nullptr, outOfFlowFrame);
