From: L. David Baron <dbaron@dbaron.org>

Add test for case that I'm worried about breaking in bug 665597.

diff --git a/layout/reftests/bugs/665597-1-ref.html b/layout/reftests/bugs/665597-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/bugs/665597-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE HTML>
+<title>Test that overflowing margins and padding on scrollable element add</title>
+<style>
+#scroll {
+  overflow: scroll; background: yellow;
+  height: 111px; width: 116px;
+}
+
+#content {
+  height: 223px;
+  margin-right: 5px;
+  margin-left: 11px;
+  background: aqua;
+}
+#gap {
+  height: 42px;
+}
+
+</style>
+<div id="scroll"><div id="content"></div><div id="gap"></div></div>
+<script>
+document.getElementById("scroll").scrollTop = "1000";
+</script>
diff --git a/layout/reftests/bugs/665597-1.html b/layout/reftests/bugs/665597-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/bugs/665597-1.html
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<title>Test that overflowing margins and padding on scrollable element add</title>
+<style>
+#scroll {
+  overflow: scroll; background: yellow;
+  height: 100px; width: 100px;
+  padding: 4px 5px 7px 11px;
+}
+
+#content {
+  margin-top: 19px;
+  margin-bottom: 35px;
+  height: 200px;
+  background: aqua;
+}
+
+</style>
+<div id="scroll"><div id="content"></div></div>
+<script>
+document.getElementById("scroll").scrollTop = "1000";
+</script>
diff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list
--- a/layout/reftests/bugs/reftest.list
+++ b/layout/reftests/bugs/reftest.list
@@ -1649,13 +1649,14 @@ fails-if(layersGPUAccelerated&&cocoaWidg
 == 653930-1.html 653930-1-ref.html
 HTTP(..) == 654057-1.html 654057-1-ref.html
 fails-if(layersGPUAccelerated&&cocoaWidget) == 654950-1.html 654950-1-ref.html # Quartz alpha blending doesn't match GL alpha blending
 == 652775-1.html 652775-1-ref.html
 == 655549-1.html 655549-1-ref.html
 == 658952.html 658952-ref.html
 == 664127-1.xul 664127-1-ref.xul
 == 660682-1.html 660682-1-ref.html
+== 665597-1.html 665597-1-ref.html
 != 669015-1.xul 669015-1-notref.xul
 == 668319-1.xul about:blank
 == 670442-1.html 670442-1-ref.html
 == 670467-1.html 670467-1-ref.html
 == 670467-2.html 670467-2-ref.html
