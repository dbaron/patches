From: L. David Baron <dbaron@dbaron.org>

Bug 1090555 - Fix visited link test in test_animations_omta.html to wait for visited link coloring properly.

diff --git a/layout/style/test/mochitest.ini b/layout/style/test/mochitest.ini
--- a/layout/style/test/mochitest.ini
+++ b/layout/style/test/mochitest.ini
@@ -32,17 +32,16 @@ support-files =
   xbl_bindings.xml
 generated-files = css_properties.js
 
 [test_acid3_test46.html]
 [test_all_shorthand.html]
 [test_animations.html]
 skip-if = toolkit == 'android'
 [test_animations_omta.html]
-skip-if = buildapp == 'mulet'
 [test_animations_omta_start.html]
 skip-if = (buildapp == 'b2g' && toolkit != 'gonk') # bug 1041017
 [test_animations_pausing.html]
 [test_any_dynamic.html]
 [test_at_rule_parse_serialize.html]
 [test_bug73586.html]
 [test_bug74880.html]
 [test_bug98997.html]
diff --git a/layout/style/test/test_animations_omta.html b/layout/style/test/test_animations_omta.html
--- a/layout/style/test/test_animations_omta.html
+++ b/layout/style/test/test_animations_omta.html
@@ -2023,17 +2023,20 @@ addAsyncAnimTest(function *() {
   visitedLink.classList.add("target");
   visitedLink.style.display = "block";
   visitedLink.style.height = "10px";
   visitedLink.style.animation = "anim2 linear 1s";
 
   gDisplay.appendChild(div1);
   gDisplay.appendChild(visitedLink);
 
-  // Wait for animations to start and for visited link coloring.
+  // Wait for visited link coloring.
+  // FIXME!
+
+  // Wait for animations to start.
   yield waitForPaintsFlushed();
 
   var bgColor = SpecialPowers.DOMWindowUtils
     .getVisitedDependentComputedStyle(visitedLink, "", "background-color");
   var isb2g = SpecialPowers.Services.appinfo.name == "B2G";
   // No global history in B2G.
   (isb2g ? todo_is : is)(bgColor, "rgb(0, 0, 255)",
                          "initial visited link background color");
