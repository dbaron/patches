From: L. David Baron <dbaron@dbaron.org>

Bug 1184452 - Correctly reject @font-face descriptors that have garbage after them.

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -3729,18 +3729,26 @@ CSSParserImpl::ParseFontDescriptor(nsCSS
     }
   }
 
   if (!ParseFontDescriptorValue(descID, value)) {
     REPORT_UNEXPECTED_P(PEValueParsingError, descName);
     return false;
   }
 
-  if (!ExpectEndProperty())
-    return false;
+  // Expect termination by either ;, }, or EOF.
+  if (GetToken(true)) {
+    if (!mToken.IsSymbol(';') &&
+        !mToken.IsSymbol('}')) {
+      UngetToken();
+      REPORT_UNEXPECTED_TOKEN(PEExpectEndValue);
+      return false;
+    }
+    UngetToken();
+  }
 
   aRule->SetDesc(descID, value);
   return true;
 }
 
 // @font-feature-values <font-family># {
 //   @<feature-type> {
 //     <feature-ident> : <feature-index>+;
