Unset and reset the JS context global objects when doing ExplainLiveExpectedGarbage, just like when doing normal cycle collection.   b=410116  r+sr=peterv  Not part of default build (DEBUG_CC-only).

diff --git a/js/src/xpconnect/src/nsXPConnect.cpp b/js/src/xpconnect/src/nsXPConnect.cpp
--- a/js/src/xpconnect/src/nsXPConnect.cpp
+++ b/js/src/xpconnect/src/nsXPConnect.cpp
@@ -608,6 +608,8 @@ nsXPConnect::BeginCycleCollection(nsCycl
             return NS_ERROR_OUT_OF_MEMORY;
         }
 
+        nsXPConnect::GetRuntime()->UnsetContextGlobals();
+
         PRBool alreadyCollecting = mCycleCollecting;
         mCycleCollecting = PR_TRUE;
         NoteJSRootTracer trc(&mJSRoots, cb);
@@ -652,6 +654,8 @@ nsXPConnect::FinishCycleCollection()
     {
         mCycleCollectionContext = nsnull;
         mExplainCycleCollectionContext = nsnull;
+
+        nsXPConnect::GetRuntime()->RestoreContextGlobals();
     }
 #endif
 
