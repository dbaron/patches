From: L. David Baron <dbaron@dbaron.org>

Debug key event problems.

diff --git a/widget/gtk/nsGtkIMModule.cpp b/widget/gtk/nsGtkIMModule.cpp
--- a/widget/gtk/nsGtkIMModule.cpp
+++ b/widget/gtk/nsGtkIMModule.cpp
@@ -342,16 +342,17 @@ nsGtkIMModule::OnKeyEvent(nsWindow* aCal
         return false;
     }
 
     mKeyDownEventWasSent = aKeyDownEventWasSent;
     mFilterKeyEvent = true;
     mProcessingKeyEvent = aEvent;
     gboolean isFiltered =
         gtk_im_context_filter_keypress(activeContext, aEvent);
+    printf("Key event \"%s\" isFiltered=%d\n", aEvent->string, int(isFiltered));
     mProcessingKeyEvent = nullptr;
 
     // We filter the key event if the event was not committed (because
     // it's probably part of a composition) or if the key event was
     // committed _and_ changed.  This way we still let key press
     // events go through as simple key press events instead of
     // composed characters.
     bool filterThisEvent = isFiltered && mFilterKeyEvent;
