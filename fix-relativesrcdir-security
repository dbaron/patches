From: L. David Baron <dbaron@dbaron.org>

Fix security tests so they work with relativesrcdir set correctly.

diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/bug383369step2.html b/security/manager/ssl/tests/mochitest/mixedcontent/bug383369step2.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/bug383369step2.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/bug383369step2.html
@@ -9,17 +9,17 @@
 
   <script class="testbody" type="text/javascript">
 
   window.onload = function runTest()
   {
     window.setTimeout(function () 
     {
       window.location = 
-        "https://example.com/tests/security/ssl/mixedcontent/bug383369step3.html?runtest";
+        "https://example.com/tests/security/manager/ssl/tests/mixedcontent/bug383369step3.html?runtest";
     }, 0);
   }
 
   function afterNavigationTest()
   {
   }
 
   </script>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/iframe2.html b/security/manager/ssl/tests/mochitest/mixedcontent/iframe2.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/iframe2.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/iframe2.html
@@ -3,11 +3,11 @@
 <head>
 </head>
 
 <body>
   This is frame 2: 
   <script>
     document.write(location.href);
   </script>
-  <iframe src="http://example.com/tests/security/ssl/mixedcontent/iframe.html"></iframe>
+  <iframe src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html"></iframe>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/iframeMetaRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/iframeMetaRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/iframeMetaRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/iframeMetaRedirect.html
@@ -1,8 +1,8 @@
 <!DOCTYPE HTML>
 <META http-equiv="Refresh"
-      Content="0; URL=http://example.com/tests/security/ssl/mixedcontent/iframe.html">
+      Content="0; URL=http://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html">
 <html>
   <body>
     Redirecting by meta tag...
   </body>
-</html>
\ No newline at end of file
+</html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/iframesecredirect.sjs b/security/manager/ssl/tests/mochitest/mixedcontent/iframesecredirect.sjs
--- a/security/manager/ssl/tests/mochitest/mixedcontent/iframesecredirect.sjs
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/iframesecredirect.sjs
@@ -1,5 +1,5 @@
 function handleRequest(request, response)
 {
   response.setStatusLine(request.httpVersion, 307, "Moved temporarly");
-  response.setHeader("Location", "https://example.com/tests/security/ssl/mixedcontent/iframe.html");
+  response.setHeader("Location", "https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html");
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/iframeunsecredirect.sjs b/security/manager/ssl/tests/mochitest/mixedcontent/iframeunsecredirect.sjs
--- a/security/manager/ssl/tests/mochitest/mixedcontent/iframeunsecredirect.sjs
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/iframeunsecredirect.sjs
@@ -1,5 +1,5 @@
 function handleRequest(request, response)
 {
   response.setStatusLine(request.httpVersion, 307, "Moved temporarly");
-  response.setHeader("Location", "http://example.com/tests/security/ssl/mixedcontent/iframe.html");
+  response.setHeader("Location", "http://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html");
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/imgsecredirect.sjs b/security/manager/ssl/tests/mochitest/mixedcontent/imgsecredirect.sjs
--- a/security/manager/ssl/tests/mochitest/mixedcontent/imgsecredirect.sjs
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/imgsecredirect.sjs
@@ -1,5 +1,5 @@
 function handleRequest(request, response)
 {
   response.setStatusLine(request.httpVersion, 307, "Moved temporarly");
-  response.setHeader("Location", "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg");
+  response.setHeader("Location", "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg");
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/imgunsecredirect.sjs b/security/manager/ssl/tests/mochitest/mixedcontent/imgunsecredirect.sjs
--- a/security/manager/ssl/tests/mochitest/mixedcontent/imgunsecredirect.sjs
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/imgunsecredirect.sjs
@@ -1,5 +1,5 @@
 function handleRequest(request, response)
 {
   response.setStatusLine(request.httpVersion, 307, "Moved temporarly");
-  response.setHeader("Location", "http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg");
+  response.setHeader("Location", "http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg");
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/mixedContentTest.js b/security/manager/ssl/tests/mochitest/mixedcontent/mixedContentTest.js
--- a/security/manager/ssl/tests/mochitest/mixedcontent/mixedContentTest.js
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/mixedContentTest.js
@@ -112,18 +112,18 @@ function postMsg(message)
 
 function finish()
 {
   if (history.length == 1 && !bypassNavigationTest)
   {
     window.setTimeout(function()
     {
       window.location.assign(navigateToInsecure ?
-        "http://example.com/tests/security/ssl/mixedcontent/backward.html" :
-        "https://example.com/tests/security/ssl/mixedcontent/backward.html");
+        "http://example.com/tests/security/manager/ssl/tests/mixedcontent/backward.html" :
+        "https://example.com/tests/security/manager/ssl/tests/mixedcontent/backward.html");
     }, 0);
   }
   else
   {
     postMsg("done");
     window.close();
   }
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/redirecttoemptyimage.sjs b/security/manager/ssl/tests/mochitest/mixedcontent/redirecttoemptyimage.sjs
--- a/security/manager/ssl/tests/mochitest/mixedcontent/redirecttoemptyimage.sjs
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/redirecttoemptyimage.sjs
@@ -1,5 +1,5 @@
 function handleRequest(request, response)
 {
   response.setStatusLine(request.httpVersion, 307, "Moved temporarly");
-  response.setHeader("Location", "http://example.com/tests/security/ssl/mixedcontent/emptyimage.sjs");
+  response.setHeader("Location", "http://example.com/tests/security/manager/ssl/tests/mixedcontent/emptyimage.sjs");
 }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug329869.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug329869.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug329869.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug329869.html
@@ -10,17 +10,17 @@
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("secure");
     window.setTimeout(function() 
     {
       var newElement = document.createElement("script");
-      newElement.src= "http://example.org/tests/security/ssl/mixedcontent/bug329869.js";
+      newElement.src= "http://example.org/tests/security/manager/ssl/tests/mixedcontent/bug329869.js";
       document.body.appendChild(newElement);
     }, 500);
   }
 
   function afterNavigationTest()
   {
     isSecurityState("broken", "security still broken after navigation");
     finish();
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug455367.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug455367.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug455367.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug455367.html
@@ -20,11 +20,11 @@
     isSecurityState("secure", "secure after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="https://example.com/tests/security/ssl/mixedcontent/redirecttoemptyimage.sjs" />
+  <img src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/redirecttoemptyimage.sjs" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug472986.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug472986.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug472986.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug472986.html
@@ -28,15 +28,15 @@
     isSecurityState("secure", "secure after navigation");
     finish();
   }
   
   </script>
 </head>
 
 <body>
-  <img id="img1" src="https://example.com/tests/security/ssl/mixedcontent/hugebmp.sjs" />
+  <img id="img1" src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/hugebmp.sjs" />
   <script type="text/javascript">
     var img1 = document.getElementById("img1");
-    img1.src = "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg";
+    img1.src = "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg";
   </script>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug521461.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug521461.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_bug521461.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_bug521461.html
@@ -8,17 +8,17 @@
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <script class="testbody" type="text/javascript">
     
   loadAsInsecure = true;
 
   function runTest()
   {
-    window.location = "https://example.com/tests/security/ssl/mixedcontent/nocontent.sjs";
+    window.location = "https://example.com/tests/security/manager/ssl/tests/mixedcontent/nocontent.sjs";
     window.setTimeout(function() {
       isSecurityState("insecure", "location.href doesn't effect the security state");
       is(document.body.innerHTML, "This is an unsecure page!", "Document has not changed content");
       finish();
     }, 1000);
   }
 
   function afterNavigationTest()
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssBefore1.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssBefore1.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssBefore1.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssBefore1.html
@@ -4,17 +4,17 @@
   <title>CSS :before styling 1</title>
   <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="mixedContentTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
     p:before
     {
-      content: url(http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg);
+      content: url(http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg);
     }
   </style>
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("broken", "insecure content added by :before styling breaks security");
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent1.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent1.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent1.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent1.html
@@ -5,17 +5,17 @@
   <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="mixedContentTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <style type="text/css">
     p
     {
-      content: url(http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg);
+      content: url(http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg);
     }
   </style>
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("broken", "insecure content added by :before styling breaks security");
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent2.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent2.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent2.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_cssContent2.html
@@ -8,17 +8,17 @@
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("secure");
     document.getElementById("para").style.content =
-      "url('http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg')";
+      "url('http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg')";
 
     window.setTimeout(function() {
       isSecurityState("broken", "insecure content added by styling breaks security");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite1.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite1.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite1.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite1.html
@@ -22,12 +22,12 @@
   }
 
   </script>
 </head>
 
 <body>
   <script class="testbody" type="text/javascript">
   document.write(
-    "<img src='http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg' />");
+    "<img src='http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg' />");
   </script>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite2.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite2.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite2.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_documentWrite2.html
@@ -22,12 +22,12 @@
   }
 
   </script>
 </head>
 
 <body>
   <script class="testbody" type="text/javascript">
   document.write(
-    "<iframe src='http://example.com/tests/security/ssl/mixedcontent/iframe.html'></iframe>");
+    "<iframe src='http://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html'></iframe>");
   </script>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecurePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecurePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecurePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecurePicture.html
@@ -10,33 +10,33 @@
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("secure");
     window.setTimeout(function() {
       // Don't do this synchronously from onload handler
       document.getElementById("image1").src =
-        "http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg";
+        "http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg";
     }, 0);
 
     window.setTimeout(function() {
       isSecurityState("broken", "src='http://...' changed to broken");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
   {
     is(document.getElementById("image1").src,
-      "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg",
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg",
       "img.src secure again");
     isSecurityState("secure", "security full after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img id="image1" src="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img id="image1" src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecureXHR.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecureXHR.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecureXHR.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynDelayedUnsecureXHR.html
@@ -12,17 +12,17 @@
   function runTest()
   {
     isSecurityState("secure");
     window.setTimeout(function()
     {
       try
       {
         var req = new XMLHttpRequest();
-        req.open("GET", "http://example.com/tests/security/ssl/mixedcontent/alloworigin.sjs", false);
+        req.open("GET", "http://example.com/tests/security/manager/ssl/tests/mixedcontent/alloworigin.sjs", false);
         req.send(null);
 
         // Change should be immediate, the request was sent synchronously
         todoSecurityState("broken", "security broken after insecure XHR");
       }
       catch (ex)
       {
         ok(false, ex);
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureBackground.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureBackground.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureBackground.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureBackground.html
@@ -10,31 +10,31 @@
   <script class="testbody" type="text/javascript">
 
   // This test, as is, equals to https://kuix.de/misc/test17/358438.php
 
   function runTest()
   {
     isSecurityState("secure");
     document.body.background =
-      "http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg";
+      "http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg";
 
     window.setTimeout(function() {
       isSecurityState("broken", "document.body.background='http://...' changed to broken");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
   {
     is(document.body.background,
-      "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg",
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg",
       "document backround secure again");
     isSecurityState("secure", "secure after re-navigation");
     finish();
   }
 
   </script>
 </head>
 
-<body background="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg">
+<body background="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg">
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureIframeRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureIframeRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureIframeRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureIframeRedirect.html
@@ -15,24 +15,24 @@
     var self = window;
     var iframe = document.getElementById("iframe1");
     iframe.onload = function() {
       self.isSecurityState("broken", "src='redirect to unsecure' changed to broken");
       self.finish();
     }
     
     iframe.src =
-      "https://example.com/tests/security/ssl/mixedcontent/iframeunsecredirect.sjs";
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframeunsecredirect.sjs";
   }
 
   function afterNavigationTest()
   {
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <iframe id="iframe1" src="https://example.com/tests/security/ssl/mixedcontent/iframe.html"></iframe>
+  <iframe id="iframe1" src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html"></iframe>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicture.html
@@ -10,32 +10,32 @@
   <script class="testbody" type="text/javascript">
 
   // This test, as is, equals to https://kuix.de/misc/test17/358438.php
 
   function runTest()
   {
     isSecurityState("secure");
     document.getElementById("image1").src =
-      "http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg";
+      "http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg";
 
     window.setTimeout(function() {
       isSecurityState("broken", "src='http://...' changed to broken");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
   {
     is(document.getElementById("image1").src,
-      "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg",
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg",
       "img.src secure again");
     isSecurityState("secure", "security full after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img id="image1" src="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img id="image1" src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicturePreload.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicturePreload.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicturePreload.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecurePicturePreload.html
@@ -5,17 +5,17 @@
   <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="mixedContentTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <script class="testbody" type="text/javascript">
 
   (new Image()).src =
-    "http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg";
+    "http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg";
 
   function runTest()
   {
     isSecurityState("broken", "(new Image()).src='http://...' changed to broken");
     finish();
   }
 
   function afterNavigationTest()
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_dynUnsecureRedirect.html
@@ -8,32 +8,32 @@
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("secure");
     document.getElementById("image1").src =
-      "https://example.com/tests/security/ssl/mixedcontent/imgunsecredirect.sjs";
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/imgunsecredirect.sjs";
 
     window.setTimeout(function() {
       isSecurityState("broken", "src='redirect to unsecure' changed to broken");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
   {
     is(document.getElementById("image1").src,
-      "https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg",
+      "https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg",
       "img.src secure again");
     isSecurityState("secure", "security full after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img id="image1" src="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img id="image1" src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlDelayedUnsecurePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlDelayedUnsecurePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlDelayedUnsecurePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlDelayedUnsecurePicture.html
@@ -11,17 +11,17 @@
 
   function runTest()
   {
     isSecurityState("secure");
     
     window.setTimeout(function() 
     {
       document.getElementById("buddy").innerHTML =
-        "<img id='image1' src='http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg' />";
+        "<img id='image1' src='http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg' />";
     }, 1);
 
     window.setTimeout(function() 
     {
       isSecurityState("broken", "innerHTML loading insecure changed to broken");
       finish();
     }, 500);
   }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlUnsecurePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlUnsecurePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlUnsecurePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_innerHtmlUnsecurePicture.html
@@ -9,17 +9,17 @@
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("secure");
     
     document.getElementById("buddy").innerHTML =
-      "<img id='image1' src='http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg' />";
+      "<img id='image1' src='http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg' />";
 
     window.setTimeout(function() {
       isSecurityState("broken", "innerHTML loading insecure changed to broken");
       finish();
     }, 500);
   }
 
   function afterNavigationTest()
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_secureAll.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_secureAll.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_secureAll.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_secureAll.html
@@ -3,17 +3,17 @@
 <head>
   <title>All secure anti-regression check</title>
   <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="mixedContentTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <link rel="stylesheet" type="text/css" 
-    href="https://example.com/tests/security/ssl/mixedcontent/somestyle.css" />
+    href="https://example.com/tests/security/manager/ssl/tests/mixedcontent/somestyle.css" />
 
   <script class="testbody" type="text/javascript">
 
   // Navigation test goes over an insecure page, test state leak
   navigateToInsecure = true;
 
   function runTest()
   {
@@ -26,13 +26,13 @@
     isSecurityState("secure", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
-  <img src="https://example.com/tests/security/ssl/mixedcontent/imgsecredirect.sjs" />
-  <iframe src="https://example.com/tests/security/ssl/mixedcontent/iframesecredirect.sjs" />
+  <img src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
+  <img src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/imgsecredirect.sjs" />
+  <iframe src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframesecredirect.sjs" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_securePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_securePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_securePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_securePicture.html
@@ -22,11 +22,11 @@
     isSecurityState("insecure", "left insecure after renavigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="https://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureBackground.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureBackground.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureBackground.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureBackground.html
@@ -21,11 +21,11 @@
   {
     isSecurityState("broken", "security after navigation");
     finish();
   }
 
   </script>
 </head>
 
-<body background="http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg">
+<body background="http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg">
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureCSS.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureCSS.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureCSS.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureCSS.html
@@ -3,17 +3,17 @@
 <head>
   <title>Unsecure css load</title>
   <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="mixedContentTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   
   <link rel="stylesheet" type="text/css" 
-    href="http://example.com/tests/security/ssl/mixedcontent/somestyle.css" />
+    href="http://example.com/tests/security/manager/ssl/tests/mixedcontent/somestyle.css" />
 
   <script class="testbody" type="text/javascript">
 
   function runTest()
   {
     isSecurityState("broken", "insecure <img> load breaks security");
     finish();
   }
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <iframe src="http://example.com/tests/security/ssl/mixedcontent/iframe.html"></iframe>
+  <iframe src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe.html"></iframe>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe2.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe2.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe2.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframe2.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <iframe src="https://example.com/tests/security/ssl/mixedcontent/iframe2.html"></iframe>
+  <iframe src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframe2.html"></iframe>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeMetaRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeMetaRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeMetaRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeMetaRedirect.html
@@ -26,12 +26,12 @@
       finish();
     }, 500);
   }
 
   </script>
 </head>
 
 <body>
-  <iframe src="https://example.com/tests/security/ssl/mixedcontent/iframeMetaRedirect.html"></iframe>
+  <iframe src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframeMetaRedirect.html"></iframe>
 </body>
 </html>
- 
\ No newline at end of file
+ 
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureIframeRedirect.html
@@ -20,12 +20,12 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <iframe src="https://example.com/tests/security/ssl/mixedcontent/iframeunsecredirect.sjs"></iframe>
+  <iframe src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/iframeunsecredirect.sjs"></iframe>
 </body>
 </html>
- 
\ No newline at end of file
+ 
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePicture.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePicture.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePicture.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePicture.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePictureInIframe.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePictureInIframe.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePictureInIframe.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecurePictureInIframe.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <iframe src="http://example.com/tests/security/ssl/mixedcontent/unsecureIframe.html"></iframe>
+  <iframe src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/unsecureIframe.html"></iframe>
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureRedirect.html b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureRedirect.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureRedirect.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/test_unsecureRedirect.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="https://example.com/tests/security/ssl/mixedcontent/imgunsecredirect.sjs" />
+  <img src="https://example.com/tests/security/manager/ssl/tests/mixedcontent/imgunsecredirect.sjs" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/unsecureIframe.html b/security/manager/ssl/tests/mochitest/mixedcontent/unsecureIframe.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/unsecureIframe.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/unsecureIframe.html
@@ -1,9 +1,9 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 </head>
 
 <body>
-  <img src="http://example.com/tests/security/ssl/mixedcontent/moonsurface.jpg" />
+  <img src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/moonsurface.jpg" />
 </body>
 </html>
diff --git a/security/manager/ssl/tests/mochitest/mixedcontent/unsecurePictureDup.html b/security/manager/ssl/tests/mochitest/mixedcontent/unsecurePictureDup.html
--- a/security/manager/ssl/tests/mochitest/mixedcontent/unsecurePictureDup.html
+++ b/security/manager/ssl/tests/mochitest/mixedcontent/unsecurePictureDup.html
@@ -20,11 +20,11 @@
     isSecurityState("broken", "security still broken after navigation");
     finish();
   }
 
   </script>
 </head>
 
 <body>
-  <img src="http://example.com/tests/security/ssl/mixedcontent/hugebmp.sjs" />
+  <img src="http://example.com/tests/security/manager/ssl/tests/mixedcontent/hugebmp.sjs" />
 </body>
 </html>
