From: L. David Baron <dbaron@dbaron.org>

Make nsIFrame::GetOrdinal accept all values that the CSS parser accepts (which currently adds no values).  (Bug 644514)

diff --git a/layout/xul/base/src/nsBox.cpp b/layout/xul/base/src/nsBox.cpp
--- a/layout/xul/base/src/nsBox.cpp
+++ b/layout/xul/base/src/nsBox.cpp
@@ -510,35 +510,28 @@ nsBox::GetFlex(nsBoxLayoutState& aState)
   nsIBox::AddCSSFlex(aState, this, flex);
 
   return flex;
 }
 
 PRUint32
 nsIFrame::GetOrdinal(nsBoxLayoutState& aState)
 {
-  PRUint32 ordinal = DEFAULT_ORDINAL_GROUP;
+  PRUint32 ordinal = GetStyleXUL()->mBoxOrdinal;
 
+  // When present, attribute value overrides CSS.
   nsIContent* content = GetContent();
   if (content) {
     PRInt32 error;
     nsAutoString value;
 
     content->GetAttr(kNameSpaceID_None, nsGkAtoms::ordinal, value);
     if (!value.IsEmpty()) {
       ordinal = value.ToInteger(&error);
     }
-    else {
-      // No attribute value.  Check CSS.
-      const nsStyleXUL* boxInfo = GetStyleXUL();
-      if (boxInfo->mBoxOrdinal > 1) {
-        // The ordinal group was defined in CSS.
-        ordinal = (nscoord)boxInfo->mBoxOrdinal;
-      }
-    }
   }
 
   return ordinal;
 }
 
 nscoord
 nsBox::GetBoxAscent(nsBoxLayoutState& aState)
 {
