From: L. David Baron <dbaron@dbaron.org>

Output errors when invalid things happen inside an @-rule.

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -1947,16 +1947,17 @@ CSSParserImpl::ParseGroupRule(nsICSSGrou
       break;
     }
     if (mToken.IsSymbol('}')) { // done!
       UngetToken();
       break;
     }
     if (eCSSToken_AtKeyword == mToken.mType) {
       SkipAtRule(); // group rules cannot contain @rules
+      // XXX OUTPUT AN ERROR
       continue;
     }
     UngetToken();
     ParseRuleSet(AppendRuleToSheet, this, PR_TRUE);
   }
   PopGroup();
 
   if (!ExpectSymbol('}', PR_TRUE)) {
