Ensure lines wrapping around floats check more than just the top pixel of the line.  b=25888

diff -r 55479730bc38 layout/reftests/bugs/25888-1l-notref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1l-notref.html	Tue Feb 13 17:40:50 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: left; }
+div { float: left; clear: left; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 50px;"></div>
+<div style="width: 50px; height: 100px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-1l-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1l-ref.html	Tue Feb 13 17:40:54 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: left; }
+div { float: left; clear: left; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 50px;"></div>
+<div style="width: 100px; height: 100px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-1l.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1l.html	Tue Feb 13 17:40:09 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: left; }
+div { float: left; clear: left; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 75px;"></div>
+<div style="width: 100px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-1r-notref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1r-notref.html	Tue Feb 13 17:41:00 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: right; }
+div { float: right; clear: right; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 50px;"></div>
+<div style="width: 50px; height: 100px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-1r-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1r-ref.html	Tue Feb 13 17:41:04 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: right; }
+div { float: right; clear: right; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 50px;"></div>
+<div style="width: 100px; height: 100px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-1r.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-1r.html	Tue Feb 13 17:39:51 2007 -0800
@@ -0,0 +1,21 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; text-align: right; }
+div { float: right; clear: right; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="width: 50px; height: 75px;"></div>
+<div style="width: 100px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-2l-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-2l-ref.html	Tue Feb 13 17:51:00 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: left; width: 150px; height: 25px;"></div>
+<span></span>
+<div style="height: 100px"></div>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-2l.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-2l.html	Tue Feb 13 17:51:05 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: left; width: 150px; height: 75px;"></div>
+<div style="float: right; width: 300px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-2r-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-2r-ref.html	Tue Feb 13 17:51:13 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: right; width: 150px; height: 25px;"></div>
+<span></span>
+<div style="height: 100px"></div>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-2r.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-2r.html	Tue Feb 13 17:51:17 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: right; width: 150px; height: 75px;"></div>
+<div style="float: left; width: 300px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-3l-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-3l-ref.html	Tue Feb 13 17:52:48 2007 -0800
@@ -0,0 +1,19 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: left; width: 250px; height: 25px;"></div>
+<span></span>
+<span style="margin-top: 25px; margin-right: 250px"></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-3l.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-3l.html	Tue Feb 13 17:51:31 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: left; width: 250px; height: 75px;"></div>
+<div style="float: right; width: 250px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-3r-ref.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-3r-ref.html	Tue Feb 13 17:53:21 2007 -0800
@@ -0,0 +1,19 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: right; width: 250px; height: 25px;"></div>
+<span></span>
+<span style="margin-top: 25px; margin-left: 250px"></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/bugs/25888-3r.html
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/layout/reftests/bugs/25888-3r.html	Tue Feb 13 17:53:29 2007 -0800
@@ -0,0 +1,20 @@
+<!DOCTYPE HTML>
+<html>
+<head>
+<title>Testcase, bug 25888</title>
+<style type="text/css">
+
+body { width: 400px; border: medium solid; }
+span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+
+</style>
+</head>
+<body>
+
+<div style="float: right; width: 250px; height: 75px;"></div>
+<div style="float: left; width: 250px; height: 75px;"></div>
+<span></span>
+<span></span>
+
+</body>
+</html>
diff -r 55479730bc38 layout/reftests/reftest.list
--- a/layout/reftests/reftest.list	Mon Feb 12 16:51:35 2007 -0800
+++ b/layout/reftests/reftest.list	Tue Feb 13 17:54:32 2007 -0800
@@ -37,6 +37,14 @@
 == bugs/18217-zorder-3.html bugs/18217-zorder-ref-inline.html
 == bugs/18217-zorder-4.html bugs/18217-zorder-ref-inline-table.html
 == bugs/18217-zorder-5.html bugs/18217-zorder-ref-inline-table.html
+== bugs/25888-1l.html bugs/25888-1l-ref.html
+!= bugs/25888-1l.html bugs/25888-1l-notref.html
+== bugs/25888-1r.html bugs/25888-1r-ref.html
+!= bugs/25888-1r.html bugs/25888-1r-notref.html
+== bugs/25888-2l.html bugs/25888-2l-ref.html
+== bugs/25888-2r.html bugs/25888-2r-ref.html
+== bugs/25888-3l.html bugs/25888-3l-ref.html
+== bugs/25888-3r.html bugs/25888-3r-ref.html
 random-if(MOZ_WIDGET_TOOLKIT=="windows") == bugs/28811-1a.html bugs/28811-1-ref.html # bug 369040
 random-if(MOZ_WIDGET_TOOLKIT=="windows") == bugs/28811-1b.html bugs/28811-1-ref.html # bug 369040
 random-if(MOZ_WIDGET_TOOLKIT=="windows") == bugs/28811-2a.html bugs/28811-2-ref.html # bug 369040
