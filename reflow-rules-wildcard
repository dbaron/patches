From: L. David Baron <dbaron@dbaron.org>

Bug 1365443 - Unbreak wildcard rules in GECKO_DISPLAY_REFLOW_RULES_FILE.

This restores the code to what it was doing prior to bug 1360241 (where
the else to add to mWildRules was an else of a test of fType), but then
removes the unnecesary null-check on the result of GetFrameTypeInfo.

MozReview-Commit-ID: EOPumJoKrIs

diff --git a/layout/generic/nsFrame.cpp b/layout/generic/nsFrame.cpp
--- a/layout/generic/nsFrame.cpp
+++ b/layout/generic/nsFrame.cpp
@@ -11066,18 +11066,18 @@ void DR_State::ParseRulesFile()
 {
   char* path = PR_GetEnv("GECKO_DISPLAY_REFLOW_RULES_FILE");
   if (path) {
     FILE* inFile = fopen(path, "r");
     if (inFile) {
       for (DR_Rule* rule = ParseRule(inFile); rule; rule = ParseRule(inFile)) {
         if (rule->mTarget) {
           LayoutFrameType fType = rule->mTarget->mFrameType;
-          DR_FrameTypeInfo* info = GetFrameTypeInfo(fType);
-          if (info) {
+          if (fType != LayoutFrameType::None) {
+            DR_FrameTypeInfo* info = GetFrameTypeInfo(fType);
             AddRule(info->mRules, *rule);
           }
           else {
             AddRule(mWildRules, *rule);
           }
           mActive = true;
         }
       }
