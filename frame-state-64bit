From: L. David Baron <dbaron@dbaron.org>

Use 64 bits for frame state.  (Bug 570837)  r=roc

diff --git a/layout/base/nsIPresShell.h b/layout/base/nsIPresShell.h
--- a/layout/base/nsIPresShell.h
+++ b/layout/base/nsIPresShell.h
@@ -92,17 +92,17 @@ class nsWeakFrame;
 class nsIScrollableFrame;
 class gfxASurface;
 class gfxContext;
 class nsIDOMEvent;
 class nsDisplayList;
 class nsDisplayListBuilder;
 
 typedef short SelectionType;
-typedef PRUint32 nsFrameState;
+typedef PRUint64 nsFrameState;
 
 namespace mozilla {
 namespace dom {
 class Element;
 } // namespace dom
 } // namespace mozilla
 
 // Flags to pass to SetCapturingContent
diff --git a/layout/generic/nsIFrame.h b/layout/generic/nsIFrame.h
--- a/layout/generic/nsIFrame.h
+++ b/layout/generic/nsIFrame.h
@@ -137,17 +137,17 @@ typedef PRUint32 nsSplittableType;
 #define NS_INTRINSIC_WIDTH_UNKNOWN nscoord_MIN
 
 //----------------------------------------------------------------------
 
 /**
  * Frame state bits. Any bits not listed here are reserved for future
  * extensions, but must be stored by the frames.
  */
-typedef PRUint32 nsFrameState;
+typedef PRUint64 nsFrameState;
 
 #define NS_FRAME_STATE_BIT(n_) (nsFrameState(1) << (n_))
 
 enum {
   NS_FRAME_IN_REFLOW =                          NS_FRAME_STATE_BIT(0),
 
   // This is only set during painting
   NS_FRAME_FORCE_DISPLAY_LIST_DESCEND_INTO =    NS_FRAME_STATE_BIT(0),
@@ -257,17 +257,18 @@ enum {
 
   // If this bit is set, then reflow may be dispatched from the current
   // frame instead of the root frame.
   NS_FRAME_REFLOW_ROOT =                        NS_FRAME_STATE_BIT(19),
 
   // Bits 20-31 of the frame state are reserved for implementations.
   NS_FRAME_IMPL_RESERVED =                      nsFrameState(0xFFF00000),
 
-  // The lower 20 bits of the frame state are reserved by this API.
+  // The lower 20 bits and upper 32 bits of the frame state are reserved
+  // by this API.
   NS_FRAME_RESERVED =                           ~NS_FRAME_IMPL_RESERVED,
 
   // Box layout bits
   NS_STATE_IS_HORIZONTAL =                      NS_FRAME_STATE_BIT(22),
   NS_STATE_IS_DIRECTION_NORMAL =                NS_FRAME_STATE_BIT(31)
 };
 
 // Helper macros
