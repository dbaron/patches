From: L. David Baron <dbaron@dbaron.org>

Add a test (also for the CSS 2.1 test suite) for what counts as punctuation to be included in the :first-letter.

diff --git a/layout/reftests/first-letter/CSS21-t051202-first-letter-punct-extend.html b/layout/reftests/first-letter/CSS21-t051202-first-letter-punct-extend.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/first-letter/CSS21-t051202-first-letter-punct-extend.html
@@ -0,0 +1,32 @@
+<style type="text/css">
+
+/* each test is a 2*2 pixel square */
+.test { display: inline-block; width: 2px; height: 2px; vertical-align: top;
+        overflow: hidden; }
+
+/* forces the right edge of the inside to be the visible horizontal position,
+   and aligns the text to that edge */
+.test > div { width: 1000px; text-align: right; margin-top: -100em; margin-left: -998px; }
+
+/* forces 0.2em above the baseline to be the visible vertical position */
+.test > div > span.spacer { display: inline-block; vertical-align: baseline;
+                            height: 100.2em; width: 0; }
+
+/* for tests where the first-letter should include the second character,
+   make the div red and the first letter green */
+.extend { background: red; color: red; }
+.extend > div:first-letter { background: green; color: green; }
+
+/* otherwise, do the reverse */
+.dontextend { background: green; color: green; }
+.dontextend > div:first-letter { background: red; color: red; }
+
+</style>
+
+
+<div class="test extend">
+  <div>&#x0022;C<span class="spacer"></span></div>
+</div
+><div class="test dontextend">
+  <div>&#x0030;C<span class="spacer"></span></div>
+</div>
