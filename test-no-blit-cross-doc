From: L. David Baron <dbaron@dbaron.org>

Add test for bug 403443.

diff --git a/layout/base/tests/scrolling_helper.html b/layout/base/tests/scrolling_helper.html
--- a/layout/base/tests/scrolling_helper.html
+++ b/layout/base/tests/scrolling_helper.html
@@ -123,16 +123,38 @@ iframe {
 
 <div id="testTableNoBackground" class="testcase">
   <table style="position:fixed; width:200px; height:200px;">
     <tr><td></td></tr>
   </table>
   <div style="height:300px; background:-moz-linear-gradient(top, red, black);"></div>
 </div>
 
+<iframe class="testcase" id="testNoBlitInSVG" height="200" width="200"
+  src="data:text/html,<div style='margin-bottom: 500px'>This is a bunch of text inside of the IFRAME that is hopefully long enough to make it be scrollable, but, just in case, we'll have a big margin at the bottom too.</div>"></iframe>
+<script>
+// We're not in XHTML, so we have to make our SVG elements with script.
+var SVG_NS = "http://www.w3.org/2000/svg";
+var svg = document.createElementNS(SVG_NS, "svg");
+svg.setAttribute("style", "width: 300px; height: 300px");
+var fo = document.createElementNS(SVG_NS, "foreignObject");
+fo.setAttribute("x", "0");
+fo.setAttribute("y", "0");
+fo.setAttribute("width", "100%");
+fo.setAttribute("height", "100%");
+fo.setAttribute("transform", "translate(100,100) rotate(30deg)");
+var iframe = document.getElementById("testNoBlitInSVG");
+iframe.parent.replaceChild(svg, iframe);
+fo.appendChild(iframe);
+svg.appendChild(fo);
+</script>
+
+<iframe class="testcase" id="testNoBlitInTransform" height="200" width="200" style="-moz-transform: rotate(30deg)"
+  src="data:text/html,<div style='margin-bottom: 500px'>This is a bunch of text inside of the IFRAME that is hopefully long enough to make it be scrollable, but, just in case, we'll have a big margin at the bottom too.</div>"></iframe>
+
 <script>
 var testcases = document.querySelectorAll("div.testcase");
 var tests = [];
 var iframes = document.querySelectorAll("iframe.testcase");
 
 var currentTest = -1;
 
 function ok(a, msg) {
