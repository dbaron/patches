Rename new width keywords to match CSS WG decision.  b=402706.

diff --git a/layout/base/nsLayoutUtils.cpp b/layout/base/nsLayoutUtils.cpp
--- a/layout/base/nsLayoutUtils.cpp
+++ b/layout/base/nsLayoutUtils.cpp
@@ -1335,9 +1335,9 @@ GetPercentHeight(const nsStyleCoord& aSt
   return PR_TRUE;
 }
 
-// Handles only -moz-intrinsic and -moz-min-intrinsic, and
-// -moz-shrink-wrap for min-width and max-width, since the others
-// (-moz-shrink-wrap for width, and -moz-fill) have no effect on
+// Handles only -moz-max-content and -moz-min-content, and
+// -moz-fit-content for min-width and max-width, since the others
+// (-moz-fit-content for width, and -moz-available) have no effect on
 // intrinsic widths.
 enum eWidthProperty { PROP_WIDTH, PROP_MAX_WIDTH, PROP_MIN_WIDTH };
 static PRBool
@@ -1352,28 +1352,28 @@ GetIntrinsicCoord(const nsStyleCoord& aS
   if (aStyle.GetUnit() != eStyleUnit_Enumerated)
     return PR_FALSE;
   PRInt32 val = aStyle.GetIntValue();
-  NS_ASSERTION(val == NS_STYLE_WIDTH_INTRINSIC ||
-               val == NS_STYLE_WIDTH_MIN_INTRINSIC ||
-               val == NS_STYLE_WIDTH_SHRINK_WRAP ||
-               val == NS_STYLE_WIDTH_FILL,
+  NS_ASSERTION(val == NS_STYLE_WIDTH_MAX_CONTENT ||
+               val == NS_STYLE_WIDTH_MIN_CONTENT ||
+               val == NS_STYLE_WIDTH_FIT_CONTENT ||
+               val == NS_STYLE_WIDTH_AVAILABLE,
                "unexpected enumerated value for width property");
-  if (val == NS_STYLE_WIDTH_FILL)
+  if (val == NS_STYLE_WIDTH_AVAILABLE)
     return PR_FALSE;
-  if (val == NS_STYLE_WIDTH_SHRINK_WRAP) {
+  if (val == NS_STYLE_WIDTH_FIT_CONTENT) {
     if (aProperty == PROP_WIDTH)
       return PR_FALSE; // handle like 'width: auto'
     if (aProperty == PROP_MAX_WIDTH)
-      // constrain large 'width' values down to -moz-intrinsic
-      val = NS_STYLE_WIDTH_INTRINSIC;
+      // constrain large 'width' values down to -moz-max-content
+      val = NS_STYLE_WIDTH_MAX_CONTENT;
     else
-      // constrain small 'width' or 'max-width' values up to -moz-min-intrinsic
-      val = NS_STYLE_WIDTH_MIN_INTRINSIC;
+      // constrain small 'width' or 'max-width' values up to -moz-min-content
+      val = NS_STYLE_WIDTH_MIN_CONTENT;
   }
 
-  NS_ASSERTION(val == NS_STYLE_WIDTH_INTRINSIC ||
-               val == NS_STYLE_WIDTH_MIN_INTRINSIC,
+  NS_ASSERTION(val == NS_STYLE_WIDTH_MAX_CONTENT ||
+               val == NS_STYLE_WIDTH_MIN_CONTENT,
                "should have reduced everything remaining to one of these");
-  if (val == NS_STYLE_WIDTH_INTRINSIC)
+  if (val == NS_STYLE_WIDTH_MAX_CONTENT)
     aResult = aFrame->GetPrefWidth(aRenderingContext);
   else
     aResult = aFrame->GetMinWidth(aRenderingContext);
@@ -1426,11 +1426,11 @@ nsLayoutUtils::IntrinsicForContainer(nsI
   // than the specified 'max-width', which works out to the same thing),
   // don't even bother getting the frame's intrinsic width.
   if (styleWidth.GetUnit() == eStyleUnit_Enumerated &&
-      (styleWidth.GetIntValue() == NS_STYLE_WIDTH_INTRINSIC ||
-       styleWidth.GetIntValue() == NS_STYLE_WIDTH_MIN_INTRINSIC)) {
-    // -moz-shrink-wrap and -moz-fill enumerated widths compute intrinsic
+      (styleWidth.GetIntValue() == NS_STYLE_WIDTH_MAX_CONTENT ||
+       styleWidth.GetIntValue() == NS_STYLE_WIDTH_MIN_CONTENT)) {
+    // -moz-fit-content and -moz-available enumerated widths compute intrinsic
     // widths just like auto.
-    // For -moz-intrinsic and -moz-min-intrinsic, we handle them like
+    // For -moz-max-content and -moz-min-content, we handle them like
     // specified widths, but ignore -moz-box-sizing.
     boxSizing = NS_STYLE_BOX_SIZING_CONTENT;
   } else if (styleWidth.GetUnit() != eStyleUnit_Coord &&
@@ -1653,15 +1653,15 @@ nsLayoutUtils::ComputeWidthValue(
   } else if (eStyleUnit_Enumerated == aCoord.GetUnit()) {
     PRInt32 val = aCoord.GetIntValue();
     switch (val) {
-      case NS_STYLE_WIDTH_INTRINSIC:
+      case NS_STYLE_WIDTH_MAX_CONTENT:
         result = aFrame->GetPrefWidth(aRenderingContext);
         NS_ASSERTION(result >= 0, "width less than zero");
         break;
-      case NS_STYLE_WIDTH_MIN_INTRINSIC:
+      case NS_STYLE_WIDTH_MIN_CONTENT:
         result = aFrame->GetMinWidth(aRenderingContext);
         NS_ASSERTION(result >= 0, "width less than zero");
         break;
-      case NS_STYLE_WIDTH_SHRINK_WRAP:
+      case NS_STYLE_WIDTH_FIT_CONTENT:
         {
           nscoord pref = aFrame->GetPrefWidth(aRenderingContext),
                    min = aFrame->GetMinWidth(aRenderingContext),
@@ -1671,7 +1671,7 @@ nsLayoutUtils::ComputeWidthValue(
           NS_ASSERTION(result >= 0, "width less than zero");
         }
         break;
-      case NS_STYLE_WIDTH_FILL:
+      case NS_STYLE_WIDTH_AVAILABLE:
         result = aContainingBlockWidth -
                  (aBoxSizingToMarginEdge + aContentEdgeToBoxSizing);
     }
diff --git a/layout/base/nsStyleConsts.h b/layout/base/nsStyleConsts.h
--- a/layout/base/nsStyleConsts.h
+++ b/layout/base/nsStyleConsts.h
@@ -429,10 +429,10 @@
 #define NS_STYLE_FONT_FIELD											16
 
 // See nsStylePosition::mWidth, mMinWidth, mMaxWidth
-#define NS_STYLE_WIDTH_INTRINSIC                0
-#define NS_STYLE_WIDTH_MIN_INTRINSIC            1
-#define NS_STYLE_WIDTH_SHRINK_WRAP              2
-#define NS_STYLE_WIDTH_FILL                     3
+#define NS_STYLE_WIDTH_MAX_CONTENT                0
+#define NS_STYLE_WIDTH_MIN_CONTENT            1
+#define NS_STYLE_WIDTH_FIT_CONTENT              2
+#define NS_STYLE_WIDTH_AVAILABLE                     3
 
 // See nsStylePosition.mPosition
 #define NS_STYLE_POSITION_STATIC                0
diff --git a/layout/generic/nsAbsoluteContainingBlock.cpp b/layout/generic/nsAbsoluteContainingBlock.cpp
--- a/layout/generic/nsAbsoluteContainingBlock.cpp
+++ b/layout/generic/nsAbsoluteContainingBlock.cpp
@@ -231,8 +231,8 @@ static inline PRBool IsFixedWidth(const 
   return aCoord.GetUnit() == eStyleUnit_Coord ||
          aCoord.GetUnit() == eStyleUnit_Chars ||
          (aCoord.GetUnit() == eStyleUnit_Enumerated &&
-          (aCoord.GetIntValue() == NS_STYLE_WIDTH_INTRINSIC ||
-           aCoord.GetIntValue() == NS_STYLE_WIDTH_MIN_INTRINSIC));
+          (aCoord.GetIntValue() == NS_STYLE_WIDTH_MAX_CONTENT ||
+           aCoord.GetIntValue() == NS_STYLE_WIDTH_MIN_CONTENT));
 }
 
 static inline PRBool IsFixedMaxWidth(const nsStyleCoord& aCoord)
@@ -276,7 +276,7 @@ nsAbsoluteContainingBlock::FrameDependsO
     // width, min-width, and max-width are all lengths, 'none', or enumerated,
     // then our frame width does not depend on the parent width.
     // Note that borders never depend on the parent width
-    // XXX All of the enumerated values except -moz-fill are ok too.
+    // XXX All of the enumerated values except -moz-available are ok too.
     if (!IsFixedWidth(pos->mWidth) ||
         !IsFixedWidth(pos->mMinWidth) ||
         !IsFixedMaxWidth(pos->mMaxWidth) ||
diff --git a/layout/generic/nsLineLayout.cpp b/layout/generic/nsLineLayout.cpp
--- a/layout/generic/nsLineLayout.cpp
+++ b/layout/generic/nsLineLayout.cpp
@@ -702,8 +702,8 @@ WidthDependsOnContainer(const nsStyleCoo
 {
   return aCoord.GetUnit() == eStyleUnit_Percent ||
          (aCoord.GetUnit() == eStyleUnit_Enumerated &&
-          (aCoord.GetIntValue() == NS_STYLE_WIDTH_FILL ||
-           aCoord.GetIntValue() == NS_STYLE_WIDTH_SHRINK_WRAP));
+          (aCoord.GetIntValue() == NS_STYLE_WIDTH_AVAILABLE ||
+           aCoord.GetIntValue() == NS_STYLE_WIDTH_FIT_CONTENT));
 
 }
 
diff --git a/layout/reftests/bidi/bidi-006-j.html b/layout/reftests/bidi/bidi-006-j.html
--- a/layout/reftests/bidi/bidi-006-j.html
+++ b/layout/reftests/bidi/bidi-006-j.html
@@ -38,7 +38,7 @@ p#test {
 p#test {
   border-left: 3em solid red;
   border-right: 3em solid red;
-  width: -moz-intrinsic;
+  width: -moz-max-content;
   width: intrinsic;
 }
   </style>
diff --git a/layout/reftests/bidi/bidi-006.html b/layout/reftests/bidi/bidi-006.html
--- a/layout/reftests/bidi/bidi-006.html
+++ b/layout/reftests/bidi/bidi-006.html
@@ -37,7 +37,7 @@ p#test {
 p#test {
   border-left: 3em solid red;
   border-right: 3em solid red;
-  width: -moz-intrinsic;
+  width: -moz-max-content;
   width: intrinsic;
 }
   </style>
diff --git a/layout/reftests/box-properties/box-sizing-1.html b/layout/reftests/box-properties/box-sizing-1.html
--- a/layout/reftests/box-properties/box-sizing-1.html
+++ b/layout/reftests/box-properties/box-sizing-1.html
@@ -38,10 +38,10 @@
 
 <!-- -moz-box-sizing: content-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -50,10 +50,10 @@
 <td id="bspadding"><div>
 <!-- -moz-box-sizing: padding-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -62,10 +62,10 @@
 <td id="bsborder"><div>
 <!-- -moz-box-sizing: border-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
diff --git a/layout/reftests/box-properties/box-sizing-2.html b/layout/reftests/box-properties/box-sizing-2.html
--- a/layout/reftests/box-properties/box-sizing-2.html
+++ b/layout/reftests/box-properties/box-sizing-2.html
@@ -35,10 +35,10 @@
 
 <!-- -moz-box-sizing: content-box -->
 <table><tr><td><div style="width: auto">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-min-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-shrink-wrap">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-fill">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-max-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-min-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-fit-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-available">A B</div></td></tr></table>
 <table><tr><td><div style="width: 150px">A B</div></td></tr></table>
 
 </td>
@@ -46,10 +46,10 @@
 <td id="bspadding">
 <!-- -moz-box-sizing: padding-box -->
 <table><tr><td><div style="width: auto">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-min-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-shrink-wrap">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-fill">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-max-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-min-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-fit-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-available">A B</div></td></tr></table>
 <table><tr><td><div style="width: 150px">A B</div></td></tr></table>
 
 </td>
@@ -57,10 +57,10 @@
 <td id="bsborder">
 <!-- -moz-box-sizing: border-box -->
 <table><tr><td><div style="width: auto">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-min-intrinsic">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-shrink-wrap">A B</div></td></tr></table>
-<table><tr><td><div style="width: -moz-fill">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-max-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-min-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-fit-content">A B</div></td></tr></table>
+<table><tr><td><div style="width: -moz-available">A B</div></td></tr></table>
 <table><tr><td><div style="width: 150px">A B</div></td></tr></table>
 
 </td>
diff --git a/layout/reftests/box-properties/box-sizing-3.html b/layout/reftests/box-properties/box-sizing-3.html
--- a/layout/reftests/box-properties/box-sizing-3.html
+++ b/layout/reftests/box-properties/box-sizing-3.html
@@ -38,10 +38,10 @@
 
 <!-- -moz-box-sizing: content-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -50,10 +50,10 @@
 <td id="bspadding"><div>
 <!-- -moz-box-sizing: padding-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -62,10 +62,10 @@
 <td id="bsborder"><div>
 <!-- -moz-box-sizing: border-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
diff --git a/layout/reftests/box-properties/box-sizing-4.html b/layout/reftests/box-properties/box-sizing-4.html
--- a/layout/reftests/box-properties/box-sizing-4.html
+++ b/layout/reftests/box-properties/box-sizing-4.html
@@ -50,10 +50,10 @@
 
 <!-- -moz-box-sizing: content-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -62,10 +62,10 @@
 <td id="bspadding"><div>
 <!-- -moz-box-sizing: padding-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
@@ -74,10 +74,10 @@
 <td id="bsborder"><div>
 <!-- -moz-box-sizing: border-box -->
 <div style="width: auto">A B</div>
-<div style="width: -moz-intrinsic">A B</div>
-<div style="width: -moz-min-intrinsic">A B</div>
-<div style="width: -moz-shrink-wrap">A B</div>
-<div style="width: -moz-fill">A B</div>
+<div style="width: -moz-max-content">A B</div>
+<div style="width: -moz-min-content">A B</div>
+<div style="width: -moz-fit-content">A B</div>
+<div style="width: -moz-available">A B</div>
 <div style="width: 50px">A B</div>
 <div style="width: 60%">A B</div>
 
diff --git a/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic-ref.html b/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic-ref.html
--- a/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic-ref.html
+++ b/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>intrinsic min-widths and max-widths for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>intrinsic min-widths and max-widths for -moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
 </head>
diff --git a/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic.html b/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic.html
--- a/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic.html
+++ b/layout/reftests/box-properties/minmax-width-special-values-block-intrinsic.html
@@ -1,74 +1,74 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>intrinsic min-widths and max-widths for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>intrinsic min-widths and max-widths for -moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
 </head>
 <body>
 
 <table border><tr><td>
-  <div style="width: 1px; min-width: -moz-intrinsic">AA B</div>
+  <div style="width: 1px; min-width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 1px; min-width: -moz-intrinsic">AA B</div>
+  <div style="width: 1px; min-width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 1px; min-width: -moz-min-intrinsic">AA B</div>
+  <div style="width: 1px; min-width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 1px; min-width: -moz-min-intrinsic">AA B</div>
+  <div style="width: 1px; min-width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 1px; min-width: -moz-shrink-wrap">AA B</div>
+  <div style="width: 1px; min-width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 1px; min-width: -moz-shrink-wrap">AA B</div>
+  <div style="width: 1px; min-width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 1px; min-width: -moz-fill">AA B</div>
+  <div style="width: 1px; min-width: -moz-available">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 1px; min-width: -moz-fill">AA B</div>
+  <div style="width: 1px; min-width: -moz-available">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 500px; max-width: -moz-intrinsic">AA B</div>
+  <div style="width: 500px; max-width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 500px; max-width: -moz-intrinsic">AA B</div>
+  <div style="width: 500px; max-width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 500px; max-width: -moz-min-intrinsic">AA B</div>
+  <div style="width: 500px; max-width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 500px; max-width: -moz-min-intrinsic">AA B</div>
+  <div style="width: 500px; max-width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 500px; max-width: -moz-shrink-wrap">AA B</div>
+  <div style="width: 500px; max-width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 500px; max-width: -moz-shrink-wrap">AA B</div>
+  <div style="width: 500px; max-width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: 500px; max-width: -moz-fill">AA B</div>
+  <div style="width: 500px; max-width: -moz-available">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: 500px; max-width: -moz-fill">AA B</div>
+  <div style="width: 500px; max-width: -moz-available">AA B</div>
 </td></tr></table>
 
 </body>
diff --git a/layout/reftests/box-properties/width-special-values-block-intrinsic-ref.html b/layout/reftests/box-properties/width-special-values-block-intrinsic-ref.html
--- a/layout/reftests/box-properties/width-special-values-block-intrinsic-ref.html
+++ b/layout/reftests/box-properties/width-special-values-block-intrinsic-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>intrinsic widths for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>intrinsic widths for -moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
 </head>
diff --git a/layout/reftests/box-properties/width-special-values-block-intrinsic.html b/layout/reftests/box-properties/width-special-values-block-intrinsic.html
--- a/layout/reftests/box-properties/width-special-values-block-intrinsic.html
+++ b/layout/reftests/box-properties/width-special-values-block-intrinsic.html
@@ -1,42 +1,42 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>intrinsic widths for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>intrinsic widths for -moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
 </head>
 <body>
 
 <table border><tr><td>
-  <div style="width: -moz-intrinsic">AA B</div>
+  <div style="width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-intrinsic">AA B</div>
+  <div style="width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-min-intrinsic">AA B</div>
+  <div style="width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-min-intrinsic">AA B</div>
+  <div style="width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-shrink-wrap">AA B</div>
+  <div style="width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-shrink-wrap">AA B</div>
+  <div style="width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-fill">AA B</div>
+  <div style="width: -moz-available">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-fill">AA B</div>
+  <div style="width: -moz-available">AA B</div>
 </td></tr></table>
 
 </body>
diff --git a/layout/reftests/box-properties/width-special-values-block-ref.html b/layout/reftests/box-properties/width-special-values-block-ref.html
--- a/layout/reftests/box-properties/width-special-values-block-ref.html
+++ b/layout/reftests/box-properties/width-special-values-block-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
diff --git a/layout/reftests/box-properties/width-special-values-block.html b/layout/reftests/box-properties/width-special-values-block.html
--- a/layout/reftests/box-properties/width-special-values-block.html
+++ b/layout/reftests/box-properties/width-special-values-block.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -20,10 +20,10 @@
       margin-bottom: 1px;
     }
 
-    div.v1 { width: -moz-intrinsic; }
-    div.v2 { width: -moz-min-intrinsic; }
-    div.v3 { width: -moz-shrink-wrap; }
-    div.v4 { width: -moz-fill; }
+    div.v1 { width: -moz-max-content; }
+    div.v2 { width: -moz-min-content; }
+    div.v3 { width: -moz-fit-content; }
+    div.v4 { width: -moz-available; }
 
     div.s1 { -moz-box-sizing: content; }
     div.s2 { -moz-box-sizing: padding; }
diff --git a/layout/reftests/box-properties/width-special-values-cell-auto-ref.html b/layout/reftests/box-properties/width-special-values-cell-auto-ref.html
--- a/layout/reftests/box-properties/width-special-values-cell-auto-ref.html
+++ b/layout/reftests/box-properties/width-special-values-cell-auto-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on table cells with table-layout: auto</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on table cells with table-layout: auto</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
diff --git a/layout/reftests/box-properties/width-special-values-cell-auto.html b/layout/reftests/box-properties/width-special-values-cell-auto.html
--- a/layout/reftests/box-properties/width-special-values-cell-auto.html
+++ b/layout/reftests/box-properties/width-special-values-cell-auto.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on table cells with table-layout: auto</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on table cells with table-layout: auto</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -24,58 +24,58 @@
 <table border><tr>
 <td>
 <!-- width -->
-<table border><tr><td style="width: -moz-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: -moz-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: -moz-min-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: -moz-min-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: -moz-shrink-wrap">A B</td></tr></table>
-<table border width="1"><tr><td style="width: -moz-shrink-wrap">A B</td></tr></table>
-<table border><tr><td style="width: -moz-fill">A B</td></tr></table>
-<table border width="1"><tr><td style="width: -moz-fill">A B</td></tr></table>
+<table border><tr><td style="width: -moz-max-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: -moz-max-content">A B</td></tr></table>
+<table border><tr><td style="width: -moz-min-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: -moz-min-content">A B</td></tr></table>
+<table border><tr><td style="width: -moz-fit-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: -moz-fit-content">A B</td></tr></table>
+<table border><tr><td style="width: -moz-available">A B</td></tr></table>
+<table border width="1"><tr><td style="width: -moz-available">A B</td></tr></table>
 
 </td>
 <td>
 <!-- min-width -->
 
-<table border><tr><td style="min-width: -moz-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="min-width: -moz-intrinsic">A B</td></tr></table>
-<table border><tr><td style="min-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="min-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border><tr><td style="min-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border width="1"><tr><td style="min-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border><tr><td style="min-width: -moz-fill">A B</td></tr></table>
-<table border width="1"><tr><td style="min-width: -moz-fill">A B</td></tr></table>
+<table border><tr><td style="min-width: -moz-max-content">A B</td></tr></table>
+<table border width="1"><tr><td style="min-width: -moz-max-content">A B</td></tr></table>
+<table border><tr><td style="min-width: -moz-min-content">A B</td></tr></table>
+<table border width="1"><tr><td style="min-width: -moz-min-content">A B</td></tr></table>
+<table border><tr><td style="min-width: -moz-fit-content">A B</td></tr></table>
+<table border width="1"><tr><td style="min-width: -moz-fit-content">A B</td></tr></table>
+<table border><tr><td style="min-width: -moz-available">A B</td></tr></table>
+<table border width="1"><tr><td style="min-width: -moz-available">A B</td></tr></table>
 
-<table border><tr><td style="width: 1px; min-width: -moz-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 1px; min-width: -moz-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 1px; min-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 1px; min-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-fill">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 1px; min-width: -moz-fill">A B</td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-max-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 1px; min-width: -moz-max-content">A B</td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-min-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 1px; min-width: -moz-min-content">A B</td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-fit-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 1px; min-width: -moz-fit-content">A B</td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-available">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 1px; min-width: -moz-available">A B</td></tr></table>
 
 </td>
 <td>
 <!-- max-width -->
 
-<table border><tr><td style="max-width: -moz-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="max-width: -moz-intrinsic">A B</td></tr></table>
-<table border><tr><td style="max-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="max-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border><tr><td style="max-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border width="1"><tr><td style="max-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border><tr><td style="max-width: -moz-fill">A B</td></tr></table>
-<table border width="1"><tr><td style="max-width: -moz-fill">A B</td></tr></table>
+<table border><tr><td style="max-width: -moz-max-content">A B</td></tr></table>
+<table border width="1"><tr><td style="max-width: -moz-max-content">A B</td></tr></table>
+<table border><tr><td style="max-width: -moz-min-content">A B</td></tr></table>
+<table border width="1"><tr><td style="max-width: -moz-min-content">A B</td></tr></table>
+<table border><tr><td style="max-width: -moz-fit-content">A B</td></tr></table>
+<table border width="1"><tr><td style="max-width: -moz-fit-content">A B</td></tr></table>
+<table border><tr><td style="max-width: -moz-available">A B</td></tr></table>
+<table border width="1"><tr><td style="max-width: -moz-available">A B</td></tr></table>
 
-<table border><tr><td style="width: 150px; max-width: -moz-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 150px; max-width: -moz-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 150px; max-width: -moz-min-intrinsic">A B</td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 150px; max-width: -moz-shrink-wrap">A B</td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-fill">A B</td></tr></table>
-<table border width="1"><tr><td style="width: 150px; max-width: -moz-fill">A B</td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-max-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 150px; max-width: -moz-max-content">A B</td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-min-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 150px; max-width: -moz-min-content">A B</td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-fit-content">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 150px; max-width: -moz-fit-content">A B</td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-available">A B</td></tr></table>
+<table border width="1"><tr><td style="width: 150px; max-width: -moz-available">A B</td></tr></table>
 
 
 </td>
diff --git a/layout/reftests/box-properties/width-special-values-cell-fixed-ref.html b/layout/reftests/box-properties/width-special-values-cell-fixed-ref.html
--- a/layout/reftests/box-properties/width-special-values-cell-fixed-ref.html
+++ b/layout/reftests/box-properties/width-special-values-cell-fixed-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on table cells with table-layout: fixed</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on table cells with table-layout: fixed</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
diff --git a/layout/reftests/box-properties/width-special-values-cell-fixed.html b/layout/reftests/box-properties/width-special-values-cell-fixed.html
--- a/layout/reftests/box-properties/width-special-values-cell-fixed.html
+++ b/layout/reftests/box-properties/width-special-values-cell-fixed.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on table cells with table-layout: fixed</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on table cells with table-layout: fixed</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -25,38 +25,38 @@
 <table border><tr>
 <td>
 <!-- width -->
-<table border><tr><td style="width: -moz-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: -moz-min-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: -moz-shrink-wrap">A B</td><td></td></tr></table>
-<table border><tr><td style="width: -moz-fill">A B</td><td></td></tr></table>
+<table border><tr><td style="width: -moz-max-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: -moz-min-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: -moz-fit-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: -moz-available">A B</td><td></td></tr></table>
 
 </td>
 <td>
 <!-- min-width -->
 
-<table border><tr><td style="min-width: -moz-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="min-width: -moz-min-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="min-width: -moz-shrink-wrap">A B</td><td></td></tr></table>
-<table border><tr><td style="min-width: -moz-fill">A B</td><td></td></tr></table>
+<table border><tr><td style="min-width: -moz-max-content">A B</td><td></td></tr></table>
+<table border><tr><td style="min-width: -moz-min-content">A B</td><td></td></tr></table>
+<table border><tr><td style="min-width: -moz-fit-content">A B</td><td></td></tr></table>
+<table border><tr><td style="min-width: -moz-available">A B</td><td></td></tr></table>
 
-<table border><tr><td style="width: 1px; min-width: -moz-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-min-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-shrink-wrap">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 1px; min-width: -moz-fill">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-max-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-min-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-fit-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 1px; min-width: -moz-available">A B</td><td></td></tr></table>
 
 </td>
 <td>
 <!-- max-width -->
 
-<table border><tr><td style="max-width: -moz-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="max-width: -moz-min-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="max-width: -moz-shrink-wrap">A B</td><td></td></tr></table>
-<table border><tr><td style="max-width: -moz-fill">A B</td><td></td></tr></table>
+<table border><tr><td style="max-width: -moz-max-content">A B</td><td></td></tr></table>
+<table border><tr><td style="max-width: -moz-min-content">A B</td><td></td></tr></table>
+<table border><tr><td style="max-width: -moz-fit-content">A B</td><td></td></tr></table>
+<table border><tr><td style="max-width: -moz-available">A B</td><td></td></tr></table>
 
-<table border><tr><td style="width: 150px; max-width: -moz-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-min-intrinsic">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-shrink-wrap">A B</td><td></td></tr></table>
-<table border><tr><td style="width: 150px; max-width: -moz-fill">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-max-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-min-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-fit-content">A B</td><td></td></tr></table>
+<table border><tr><td style="width: 150px; max-width: -moz-available">A B</td><td></td></tr></table>
 
 
 </td>
diff --git a/layout/reftests/box-properties/width-special-values-float-intrinsic.html b/layout/reftests/box-properties/width-special-values-float-intrinsic.html
--- a/layout/reftests/box-properties/width-special-values-float-intrinsic.html
+++ b/layout/reftests/box-properties/width-special-values-float-intrinsic.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>intrinsic widths for -moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>intrinsic widths for -moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -13,35 +13,35 @@
 <body>
 
 <table border><tr><td>
-  <div style="width: -moz-intrinsic">AA B</div>
+  <div style="width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-intrinsic">AA B</div>
+  <div style="width: -moz-max-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-min-intrinsic">AA B</div>
+  <div style="width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-min-intrinsic">AA B</div>
+  <div style="width: -moz-min-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-shrink-wrap">AA B</div>
+  <div style="width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-shrink-wrap">AA B</div>
+  <div style="width: -moz-fit-content">AA B</div>
 </td></tr></table>
 
 <table border><tr><td>
-  <div style="width: -moz-fill">AA B</div>
+  <div style="width: -moz-available">AA B</div>
 </td></tr></table>
 
 <table border width="1"><tr><td>
-  <div style="width: -moz-fill">AA B</div>
+  <div style="width: -moz-available">AA B</div>
 </td></tr></table>
 
 </body>
diff --git a/layout/reftests/box-properties/width-special-values-float.html b/layout/reftests/box-properties/width-special-values-float.html
--- a/layout/reftests/box-properties/width-special-values-float.html
+++ b/layout/reftests/box-properties/width-special-values-float.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on blocks</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on blocks</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -22,10 +22,10 @@
       margin-bottom: 1px;
     }
 
-    div.v1 { width: -moz-intrinsic; }
-    div.v2 { width: -moz-min-intrinsic; }
-    div.v3 { width: -moz-shrink-wrap; }
-    div.v4 { width: -moz-fill; }
+    div.v1 { width: -moz-max-content; }
+    div.v2 { width: -moz-min-content; }
+    div.v3 { width: -moz-fit-content; }
+    div.v4 { width: -moz-available; }
 
     div.s1 { -moz-box-sizing: content; }
     div.s2 { -moz-box-sizing: padding; }
diff --git a/layout/reftests/box-properties/width-special-values-image-block-ref.html b/layout/reftests/box-properties/width-special-values-image-block-ref.html
--- a/layout/reftests/box-properties/width-special-values-image-block-ref.html
+++ b/layout/reftests/box-properties/width-special-values-image-block-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on block images</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on block images</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
diff --git a/layout/reftests/box-properties/width-special-values-image-block.html b/layout/reftests/box-properties/width-special-values-image-block.html
--- a/layout/reftests/box-properties/width-special-values-image-block.html
+++ b/layout/reftests/box-properties/width-special-values-image-block.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on block images</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on block images</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -17,10 +17,10 @@
       margin-bottom: 1px;
     }
 
-    img.v1 { width: -moz-intrinsic; }
-    img.v2 { width: -moz-min-intrinsic; }
-    img.v3 { width: -moz-shrink-wrap; }
-    img.v4 { width: -moz-fill; }
+    img.v1 { width: -moz-max-content; }
+    img.v2 { width: -moz-min-content; }
+    img.v3 { width: -moz-fit-content; }
+    img.v4 { width: -moz-available; }
 
     img.s1 { -moz-box-sizing: content; }
     img.s2 { -moz-box-sizing: padding; }
diff --git a/layout/reftests/box-properties/width-special-values-image-ref.html b/layout/reftests/box-properties/width-special-values-image-ref.html
--- a/layout/reftests/box-properties/width-special-values-image-ref.html
+++ b/layout/reftests/box-properties/width-special-values-image-ref.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on inline images</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on inline images</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
diff --git a/layout/reftests/box-properties/width-special-values-image.html b/layout/reftests/box-properties/width-special-values-image.html
--- a/layout/reftests/box-properties/width-special-values-image.html
+++ b/layout/reftests/box-properties/width-special-values-image.html
@@ -1,7 +1,7 @@
 <!DOCTYPE html>
 <html lang="en-US">
 <head>
-  <title>-moz-intrinsic, -moz-min-intrinsic, -moz-shrink-wrap, and -moz-fill values of CSS width property, on inline images</title>
+  <title>-moz-max-content, -moz-min-content, -moz-fit-content, and -moz-available values of CSS width property, on inline images</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="Content-Style-Type" content="text/css">
   <style type="text/css">
@@ -16,10 +16,10 @@
       margin-bottom: 1px;
     }
 
-    img.v1 { width: -moz-intrinsic; }
-    img.v2 { width: -moz-min-intrinsic; }
-    img.v3 { width: -moz-shrink-wrap; }
-    img.v4 { width: -moz-fill; }
+    img.v1 { width: -moz-max-content; }
+    img.v2 { width: -moz-min-content; }
+    img.v3 { width: -moz-fit-content; }
+    img.v4 { width: -moz-available; }
 
     img.s1 { -moz-box-sizing: content; }
     img.s2 { -moz-box-sizing: padding; }
diff --git a/layout/style/nsCSSKeywordList.h b/layout/style/nsCSSKeywordList.h
--- a/layout/style/nsCSSKeywordList.h
+++ b/layout/style/nsCSSKeywordList.h
@@ -102,7 +102,7 @@ CSS_KEY(-moz-ethiopic-halehame-ti-et, _m
 CSS_KEY(-moz-ethiopic-halehame-ti-et, _moz_ethiopic_halehame_ti_et)
 CSS_KEY(-moz-field, _moz_field)
 CSS_KEY(-moz-fieldtext, _moz_fieldtext)
-CSS_KEY(-moz-fill, _moz_fill)
+CSS_KEY(-moz-available, _moz_available)
 CSS_KEY(-moz-grabbing, _moz_grabbing)
 CSS_KEY(-moz-grab, _moz_grab)
 CSS_KEY(-moz-grid-group, _moz_grid_group)
@@ -120,7 +120,7 @@ CSS_KEY(-moz-inline-box, _moz_inline_box
 CSS_KEY(-moz-inline-box, _moz_inline_box)
 CSS_KEY(-moz-inline-grid, _moz_inline_grid)
 CSS_KEY(-moz-inline-stack, _moz_inline_stack)
-CSS_KEY(-moz-intrinsic, _moz_intrinsic)
+CSS_KEY(-moz-max-content, _moz_max_content)
 CSS_KEY(-moz-japanese-formal, _moz_japanese_formal)
 CSS_KEY(-moz-japanese-informal, _moz_japanese_informal)
 CSS_KEY(-moz-kannada, _moz_kannada)
@@ -148,7 +148,7 @@ CSS_KEY(-moz-menuhovertext, _moz_menuhov
 CSS_KEY(-moz-menuhovertext, _moz_menuhovertext)
 CSS_KEY(-moz-menubarhovertext, _moz_menubarhovertext)
 CSS_KEY(-moz-middle-with-baseline, _moz_middle_with_baseline)
-CSS_KEY(-moz-min-intrinsic, _moz_min_intrinsic)
+CSS_KEY(-moz-min-content, _moz_min_content)
 CSS_KEY(-moz-myanmar, _moz_myanmar)
 CSS_KEY(-moz-none, _moz_none)
 CSS_KEY(-moz-oriya, _moz_oriya)
@@ -162,7 +162,7 @@ CSS_KEY(-moz-scrollbars-none, _moz_scrol
 CSS_KEY(-moz-scrollbars-none, _moz_scrollbars_none)
 CSS_KEY(-moz-scrollbars-vertical, _moz_scrollbars_vertical)
 CSS_KEY(-moz-show-background, _moz_show_background)
-CSS_KEY(-moz-shrink-wrap, _moz_shrink_wrap)
+CSS_KEY(-moz-fit-content, _moz_fit_content)
 CSS_KEY(-moz-simp-chinese-formal, _moz_simp_chinese_formal)
 CSS_KEY(-moz-simp-chinese-informal, _moz_simp_chinese_informal)
 CSS_KEY(-moz-spinning, _moz_spinning)
diff --git a/layout/style/nsCSSProps.cpp b/layout/style/nsCSSProps.cpp
--- a/layout/style/nsCSSProps.cpp
+++ b/layout/style/nsCSSProps.cpp
@@ -955,10 +955,10 @@ const PRInt32 nsCSSProps::kWhitespaceKTa
 };
 
 const PRInt32 nsCSSProps::kWidthKTable[] = {
-  eCSSKeyword__moz_intrinsic, NS_STYLE_WIDTH_INTRINSIC,
-  eCSSKeyword__moz_min_intrinsic, NS_STYLE_WIDTH_MIN_INTRINSIC,
-  eCSSKeyword__moz_shrink_wrap, NS_STYLE_WIDTH_SHRINK_WRAP,
-  eCSSKeyword__moz_fill, NS_STYLE_WIDTH_FILL,
+  eCSSKeyword__moz_max_content, NS_STYLE_WIDTH_MAX_CONTENT,
+  eCSSKeyword__moz_min_content, NS_STYLE_WIDTH_MIN_CONTENT,
+  eCSSKeyword__moz_fit_content, NS_STYLE_WIDTH_FIT_CONTENT,
+  eCSSKeyword__moz_available, NS_STYLE_WIDTH_AVAILABLE,
   eCSSKeyword_UNKNOWN,-1
 };
 
diff --git a/layout/style/test/property_database.js b/layout/style/test/property_database.js
--- a/layout/style/test/property_database.js
+++ b/layout/style/test/property_database.js
@@ -956,7 +956,7 @@ var gCSSProperties = {
 		initial_values: [ " auto" ],
 		/* XXX these have prerequisites */
 		other_values: [ "15px", "3em", "15%" ],
-		invalid_values: [ "none", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ]
+		invalid_values: [ "none", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ]
 	},
 	"ime-mode": {
 		domProp: "imeMode",
@@ -1104,14 +1104,14 @@ var gCSSProperties = {
 		type: CSS_TYPE_LONGHAND,
 		initial_values: [ "none" ],
 		other_values: [ "30px", "50%", "0" ],
-		invalid_values: [ "auto", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ]
+		invalid_values: [ "auto", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ]
 	},
 	"max-width": {
 		domProp: "maxWidth",
 		inherited: false,
 		type: CSS_TYPE_LONGHAND,
 		initial_values: [ "none" ],
-		other_values: [ "30px", "50%", "0", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ],
+		other_values: [ "30px", "50%", "0", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ],
 		invalid_values: [ "auto" ]
 	},
 	"min-height": {
@@ -1120,14 +1120,14 @@ var gCSSProperties = {
 		type: CSS_TYPE_LONGHAND,
 		initial_values: [ "0" ],
 		other_values: [ "30px", "50%" ],
-		invalid_values: [ "auto", "none", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ]
+		invalid_values: [ "auto", "none", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ]
 	},
 	"min-width": {
 		domProp: "minWidth",
 		inherited: false,
 		type: CSS_TYPE_LONGHAND,
 		initial_values: [ "0" ],
-		other_values: [ "30px", "50%", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ],
+		other_values: [ "30px", "50%", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ],
 		invalid_values: [ "auto", "none" ]
 	},
 	"opacity": {
@@ -1586,7 +1586,7 @@ var gCSSProperties = {
 		type: CSS_TYPE_LONGHAND,
 		initial_values: [ " auto" ],
 		/* XXX these have prerequisites */
-		other_values: [ "15px", "3em", "15%", "-moz-intrinsic", "-moz-min-intrinsic", "-moz-shrink-wrap", "-moz-fill" ],
+		other_values: [ "15px", "3em", "15%", "-moz-max-content", "-moz-min-content", "-moz-fit-content", "-moz-available" ],
 		invalid_values: [ "none" ]
 	},
 	"word-spacing": {
diff --git a/layout/tables/BasicTableLayoutStrategy.cpp b/layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp
+++ b/layout/tables/BasicTableLayoutStrategy.cpp
@@ -142,15 +142,15 @@ GetWidthInfo(nsIRenderingContext *aRende
         prefPercent = aStylePos->mWidth.GetPercentValue();
     } else if (unit == eStyleUnit_Enumerated && aIsCell) {
         switch (aStylePos->mWidth.GetIntValue()) {
-            case NS_STYLE_WIDTH_INTRINSIC:
+            case NS_STYLE_WIDTH_MAX_CONTENT:
                 // 'width' only affects pref width, not min
                 // width, so don't change anything
                 break;
-            case NS_STYLE_WIDTH_MIN_INTRINSIC:
+            case NS_STYLE_WIDTH_MIN_CONTENT:
                 prefCoord = minCoord;
                 break;
-            case NS_STYLE_WIDTH_SHRINK_WRAP:
-            case NS_STYLE_WIDTH_FILL:
+            case NS_STYLE_WIDTH_FIT_CONTENT:
+            case NS_STYLE_WIDTH_AVAILABLE:
                 // act just like 'width: auto'
                 break;
             default:
@@ -160,12 +160,12 @@ GetWidthInfo(nsIRenderingContext *aRende
 
     nsStyleCoord maxWidth(aStylePos->mMaxWidth);
     if (maxWidth.GetUnit() == eStyleUnit_Enumerated) {
-        if (!aIsCell || maxWidth.GetIntValue() == NS_STYLE_WIDTH_FILL)
+        if (!aIsCell || maxWidth.GetIntValue() == NS_STYLE_WIDTH_AVAILABLE)
             maxWidth.SetNoneValue();
-        else if (maxWidth.GetIntValue() == NS_STYLE_WIDTH_SHRINK_WRAP)
-            // for 'max-width', '-moz-shrink-wrap' is like
-            // '-moz-intrinsic'
-            maxWidth.SetIntValue(NS_STYLE_WIDTH_INTRINSIC,
+        else if (maxWidth.GetIntValue() == NS_STYLE_WIDTH_FIT_CONTENT)
+            // for 'max-width', '-moz-fit-content' is like
+            // '-moz-max-content'
+            maxWidth.SetIntValue(NS_STYLE_WIDTH_MAX_CONTENT,
                                  eStyleUnit_Enumerated);
     }
     unit = maxWidth.GetUnit();
@@ -188,12 +188,12 @@ GetWidthInfo(nsIRenderingContext *aRende
 
     nsStyleCoord minWidth(aStylePos->mMinWidth);
     if (minWidth.GetUnit() == eStyleUnit_Enumerated) {
-        if (!aIsCell || minWidth.GetIntValue() == NS_STYLE_WIDTH_FILL)
+        if (!aIsCell || minWidth.GetIntValue() == NS_STYLE_WIDTH_AVAILABLE)
             minWidth.SetCoordValue(0);
-        else if (minWidth.GetIntValue() == NS_STYLE_WIDTH_SHRINK_WRAP)
-            // for 'min-width', '-moz-shrink-wrap' is like
-            // '-moz-min-intrinsic'
-            minWidth.SetIntValue(NS_STYLE_WIDTH_MIN_INTRINSIC,
+        else if (minWidth.GetIntValue() == NS_STYLE_WIDTH_FIT_CONTENT)
+            // for 'min-width', '-moz-fit-content' is like
+            // '-moz-min-content'
+            minWidth.SetIntValue(NS_STYLE_WIDTH_MIN_CONTENT,
                                  eStyleUnit_Enumerated);
     }
     unit = minWidth.GetUnit();
diff --git a/layout/tables/FixedTableLayoutStrategy.cpp b/layout/tables/FixedTableLayoutStrategy.cpp
--- a/layout/tables/FixedTableLayoutStrategy.cpp
+++ b/layout/tables/FixedTableLayoutStrategy.cpp
@@ -120,8 +120,8 @@ FixedTableLayoutStrategy::GetMinWidth(ns
                 if (styleWidth->GetUnit() == eStyleUnit_Coord ||
                     styleWidth->GetUnit() == eStyleUnit_Chars ||
                     (styleWidth->GetUnit() == eStyleUnit_Enumerated &&
-                     (styleWidth->GetIntValue() == NS_STYLE_WIDTH_INTRINSIC ||
-                      styleWidth->GetIntValue() == NS_STYLE_WIDTH_MIN_INTRINSIC))) {
+                     (styleWidth->GetIntValue() == NS_STYLE_WIDTH_MAX_CONTENT ||
+                      styleWidth->GetIntValue() == NS_STYLE_WIDTH_MIN_CONTENT))) {
                     nscoord cellWidth = nsLayoutUtils::IntrinsicForContainer(
                         aRenderingContext, cellFrame, nsLayoutUtils::MIN_WIDTH);
                     if (colSpan > 1) {
@@ -141,7 +141,7 @@ FixedTableLayoutStrategy::GetMinWidth(ns
                         result -= spacing * (colSpan - 1);
                     }
                 }
-                // else, for 'auto', '-moz-fill', and '-moz-shrink-wrap'
+                // else, for 'auto', '-moz-available', and '-moz-fit-content'
                 // do nothing
                 // XXXldb Bug 364989
             }
@@ -245,8 +245,8 @@ FixedTableLayoutStrategy::ComputeColumnW
                 if (styleWidth->GetUnit() == eStyleUnit_Coord ||
                     styleWidth->GetUnit() == eStyleUnit_Chars ||
                     (styleWidth->GetUnit() == eStyleUnit_Enumerated &&
-                     (styleWidth->GetIntValue() == NS_STYLE_WIDTH_INTRINSIC ||
-                      styleWidth->GetIntValue() == NS_STYLE_WIDTH_MIN_INTRINSIC))) {
+                     (styleWidth->GetIntValue() == NS_STYLE_WIDTH_MAX_CONTENT ||
+                      styleWidth->GetIntValue() == NS_STYLE_WIDTH_MIN_CONTENT))) {
                     // XXX This should use real percentage padding
                     // Note that the difference between MIN_WIDTH and
                     // PREF_WIDTH shouldn't matter for any of these
@@ -267,7 +267,7 @@ FixedTableLayoutStrategy::ComputeColumnW
                     colFrame->AddPrefPercent(pct);
                     pctTotal += pct;
                 } else {
-                    // 'auto', '-moz-fill', and '-moz-shrink-wrap'
+                    // 'auto', '-moz-available', and '-moz-fit-content'
                     colWidth = unassignedMarker;
                 }
                 if (colWidth != unassignedMarker) {
diff --git a/layout/tables/nsTableFrame.cpp b/layout/tables/nsTableFrame.cpp
--- a/layout/tables/nsTableFrame.cpp
+++ b/layout/tables/nsTableFrame.cpp
@@ -3486,7 +3486,7 @@ nsTableFrame::IsAutoWidth(PRBool* aIsPct
     // seems silly.
     *aIsPctWidth = width.GetUnit() == eStyleUnit_Percent &&
                    width.GetPercentValue() > 0.0f;
-    // Should this handle -moz-fill and -moz-shrink-wrap?
+    // Should this handle -moz-available and -moz-fit-content?
   }
   return width.GetUnit() == eStyleUnit_Auto;
 }
@@ -3535,13 +3535,13 @@ nsTableFrame::IsAutoLayout()
   if (GetStyleTable()->mLayoutStrategy == NS_STYLE_TABLE_LAYOUT_AUTO)
     return PR_TRUE;
   // a fixed-layout inline-table must have a width
-  // and tables with 'width: -moz-intrinsic' must be auto-layout
+  // and tables with 'width: -moz-max-content' must be auto-layout
   // (at least as long as FixedTableLayoutStrategy::GetPrefWidth returns
   // nscoord_MAX)
   const nsStyleCoord &width = GetStylePosition()->mWidth;
   return (width.GetUnit() == eStyleUnit_Auto) ||
          (width.GetUnit() == eStyleUnit_Enumerated &&
-          width.GetIntValue() == NS_STYLE_WIDTH_INTRINSIC);
+          width.GetIntValue() == NS_STYLE_WIDTH_MAX_CONTENT);
 }
 
 #ifdef DEBUG
