From: L. David Baron <dbaron@dbaron.org>

Bug 1189598 patch 2 - Animation collections with mNeedsRefreshes false should not restyle during the animation-only style update.

diff --git a/dom/animation/EffectCompositor.cpp b/dom/animation/EffectCompositor.cpp
--- a/dom/animation/EffectCompositor.cpp
+++ b/dom/animation/EffectCompositor.cpp
@@ -504,16 +504,23 @@ EffectCompositor::AddStyleUpdatesTo(Rest
       }
     }
 
     for (auto& pseudoElem : elementsToRestyle) {
       MaybeUpdateCascadeResults(pseudoElem.mElement,
                                 pseudoElem.mPseudoType,
                                 nullptr);
 
+#if 0
+      // FIXME: REWRITE THIS!
+      if (!collection->mStyleChanging) {
+        continue;
+      }
+#endif
+
       ComposeAnimationRule(pseudoElem.mElement,
                            pseudoElem.mPseudoType,
                            cascadeLevel,
                            mPresContext->RefreshDriver()->MostRecentRefresh());
 
       dom::Element* elementToRestyle =
         GetElementToRestyle(pseudoElem.mElement, pseudoElem.mPseudoType);
       if (elementToRestyle) {
