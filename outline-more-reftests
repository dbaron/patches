From: L. David Baron <dbaron@dbaron.org>

Bug 480888 patch 5:  Add tests that should catch the regression across platforms that was previously caught only by a reftest on Android.

The outline-overflow-inline-block-* tests fail, as expected, with the
aOverflowOverride parameter to UnionBorderBoxes always changed to null.
Note that the outline-overflow-inline-block-* tests depend on the fix
for bug 709014.

diff --git a/layout/reftests/outline/outline-overflow-block-abspos.html b/layout/reftests/outline/outline-overflow-block-abspos.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-block-abspos.html
@@ -0,0 +1,14 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 100px; outline: 2px solid blue; position: relative }
+
+body > div > div { position: absolute; top: 0; left: 0; width: 100px; height: 100px }
+
+</style>
+<body>
+<div><div></div></div>
diff --git a/layout/reftests/outline/outline-overflow-block-float.html b/layout/reftests/outline/outline-overflow-block-float.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-block-float.html
@@ -0,0 +1,14 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 100px; outline: 2px solid blue }
+
+body > div > div { float: left; width: 100px; height: 100px }
+
+</style>
+<body>
+<div><div></div></div>
diff --git a/layout/reftests/outline/outline-overflow-block-ref.html b/layout/reftests/outline/outline-overflow-block-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-block-ref.html
@@ -0,0 +1,12 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 98px; border: 2px solid blue; height: 100px }
+
+</style>
+<body>
+<div></div>
diff --git a/layout/reftests/outline/outline-overflow-inlineblock-abspos.html b/layout/reftests/outline/outline-overflow-inlineblock-abspos.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-inlineblock-abspos.html
@@ -0,0 +1,14 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 100px; outline: 2px solid blue; display: inline-block; height: 0; width: 0; position: relative }
+
+body > div > div { position: absolute; top: 0; left: 0; width: 100px; height: 100px }
+
+</style>
+<body>
+<div><div></div></div>
diff --git a/layout/reftests/outline/outline-overflow-inlineblock-float.html b/layout/reftests/outline/outline-overflow-inlineblock-float.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-inlineblock-float.html
@@ -0,0 +1,14 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 100px; outline: 2px solid blue; display: inline-block; height: 0; width: 0 }
+
+body > div > div { float: left; width: 100px; height: 100px }
+
+</style>
+<body>
+<div><div></div></div>
diff --git a/layout/reftests/outline/outline-overflow-inlineblock-ref.html b/layout/reftests/outline/outline-overflow-inlineblock-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/outline/outline-overflow-inlineblock-ref.html
@@ -0,0 +1,12 @@
+<!DOCTYPE HTML>
+<title>outline goes around overflow, floats</title>
+<style>
+
+html, body { margin: 0; padding: 0; border: none }
+html { overflow:hidden /* avoid second reflow for scrollbars */ }
+
+body > div { margin: 98px; border: 2px solid blue; height: 100px; width: 100px }
+
+</style>
+<body>
+<div></div>
diff --git a/layout/reftests/outline/reftest.list b/layout/reftests/outline/reftest.list
--- a/layout/reftests/outline/reftest.list
+++ b/layout/reftests/outline/reftest.list
@@ -1,4 +1,8 @@
 == outline-and-box-shadow.html outline-and-box-shadow-ref.html
 == outline-and-3d-transform-1a.html outline-and-3d-transform-1-ref.html
 == outline-and-3d-transform-1b.html outline-and-3d-transform-1-ref.html
 == outline-and-3d-transform-2.html outline-and-3d-transform-2-ref.html
+== outline-overflow-block-abspos.html outline-overflow-block-ref.html
+== outline-overflow-block-float.html outline-overflow-block-ref.html
+== outline-overflow-inlineblock-abspos.html outline-overflow-inlineblock-ref.html
+== outline-overflow-inlineblock-float.html outline-overflow-inlineblock-ref.html
