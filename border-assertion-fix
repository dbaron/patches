From: L. David Baron <dbaron@dbaron.org>

Fix assertion (that should have turned the tree orange).  (Bug 608458)  r=roc  a2.0=blocking(on 500141)

diff --git a/layout/base/nsCSSRenderingBorders.cpp b/layout/base/nsCSSRenderingBorders.cpp
--- a/layout/base/nsCSSRenderingBorders.cpp
+++ b/layout/base/nsCSSRenderingBorders.cpp
@@ -418,27 +418,28 @@ typedef enum {
   // overlap algorithm is used; see the function for details.
   // this is currently used for dashing.
   SIDE_CLIP_RECTANGLE
 } SideClipType;
 
 // Given three points, p0, p1, and midPoint, move p1 further in to the
 // rectangle (of which aMidPoint is the center) so that it reaches the
 // closer of the horizontal or vertical lines intersecting the midpoint,
-// while maintaing the slope of the line.  p0 and p1 must be distinct.
+// while maintaing the slope of the line.  If p0 and p1 are the same,
+// just move p1 to midPoint (since there's no slope to maintain).
 // FIXME: Extending only to the midpoint isn't actually sufficient for
 // boxes with asymmetric radii.
 static void
 MaybeMoveToMidPoint(gfxPoint& aP0, gfxPoint& aP1, const gfxPoint& aMidPoint)
 {
   gfxPoint ps = aP1 - aP0;
 
   if (ps.x == 0.0) {
     if (ps.y == 0.0) {
-      NS_NOTREACHED("points should be different");
+      aP1 = aMidPoint;
     } else {
       aP1.y = aMidPoint.y;
     }
   } else {
     if (ps.y == 0.0) {
       aP1.x = aMidPoint.x;
     } else {
       gfxFloat k = NS_MIN((aMidPoint.x - aP0.x) / ps.x,
