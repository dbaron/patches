From: L. David Baron <dbaron@dbaron.org>

Bug 1156456 followup - Also add a simple reftest for off-main-thread animation of opacity.

FIXME: Fails on some platforms.  Maybe try will-change:opacity in reference?

diff --git a/layout/reftests/css-animations/animate-opacity-ref.html b/layout/reftests/css-animations/animate-opacity-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/css-animations/animate-opacity-ref.html
@@ -0,0 +1,17 @@
+<!DOCTYPE HTML>
+<html>
+<title>Reftest, bug 1156456</title>
+<style>
+
+body {
+  background: #2a4;
+}
+
+div {
+  width: 200px; height: 200px;
+  background: #c37;
+  opacity: 0.6;
+}
+
+</style>
+<div></div>
diff --git a/layout/reftests/css-animations/animate-opacity.html b/layout/reftests/css-animations/animate-opacity.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/css-animations/animate-opacity.html
@@ -0,0 +1,23 @@
+<!DOCTYPE HTML>
+<html>
+<title>Reftest, bug 1156456</title>
+<style>
+
+body {
+  background: #2a4;
+}
+
+@keyframes HoldOpacity {
+  from, to {
+    opacity: 0.6;
+  }
+}
+
+div {
+  width: 200px; height: 200px;
+  background: #c37;
+  animation: 10s HoldOpacity infinite;
+}
+
+</style>
+<div></div>
diff --git a/layout/reftests/css-animations/reftest.list b/layout/reftests/css-animations/reftest.list
--- a/layout/reftests/css-animations/reftest.list
+++ b/layout/reftests/css-animations/reftest.list
@@ -1,4 +1,5 @@
 == screen-animations.html screen-animations-ref.html
 != screen-animations.html screen-animations-notref.html
 fails == print-no-animations.html print-no-animations-ref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-print tests
 fails != print-no-animations.html print-no-animations-notref.html # reftest harness doesn't actually make pres context non-dynamic for reftest-print tests
+== animate-opacity.html animate-opacity-ref.html
