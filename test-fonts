Add a set of fonts for presence testing, each of which has a single glyph at the codepoint for a capital letter A-Z.

diff --git a/layout/reftests/font-face/delete-rule-1-ref.html b/layout/reftests/font-face/delete-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/delete-rule-1.html b/layout/reftests/font-face/delete-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		for (var i = sheet.cssRules.length - 1; i >= 0; --i) {
+			if (sheet.cssRules[i].type == CSSRule.FONT_FACE_RULE) {
+				sheet.deleteRule(i);
+			}
+		}
+
+		document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1-ref.html b/layout/reftests/font-face/disable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1.html b/layout/reftests/font-face/disable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1.html
@@ -0,0 +1,31 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2-ref.html b/layout/reftests/font-face/disable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>ADC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2.html b/layout/reftests/font-face/disable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3-ref.html b/layout/reftests/font-face/disable-sheet-3-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkB", "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3.html b/layout/reftests/font-face/disable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1-notref.html b/layout/reftests/font-face/download-1-notref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1-notref.html
@@ -0,0 +1,18 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1.html b/layout/reftests/font-face/download-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2-ref.html b/layout/reftests/font-face/download-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>B</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2.html b/layout/reftests/font-face/download-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>A</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1-ref.html b/layout/reftests/font-face/enable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1.html b/layout/reftests/font-face/enable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1.html
@@ -0,0 +1,33 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2-ref.html b/layout/reftests/font-face/enable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2-ref.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2.html b/layout/reftests/font-face/enable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-3.html b/layout/reftests/font-face/enable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-3.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[1].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1-ref.html b/layout/reftests/font-face/insert-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1-ref.html
@@ -0,0 +1,20 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+	@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }
+	@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }
+
+	</style>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1.html b/layout/reftests/font-face/insert-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1.html
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		sheet.insertRule("@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }", sheet.cssRules.length);
+		sheet.insertRule("@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }", 0);
+
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1-ref.html b/layout/reftests/font-face/name-override-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBD</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1.html b/layout/reftests/font-face/name-override-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Foobar"
+		src: url(../fonts/markA.ttf), url(../fonts.markC.ttf);
+	}
+
+	body { font-family: "Foobar"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/reftest.list b/layout/reftests/font-face/reftest.list
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/reftest.list
@@ -0,0 +1,15 @@
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != download-1.html download-1-notref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == download-2.html download-2-ref.html
+!= download-2.html about:blank
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == name-override-1.html name-override-1-ref.html
+== enable-sheet-1.html enable-sheet-1-ref.html
+== enable-sheet-2.html enable-sheet-2-ref.html
+== enable-sheet-3.html enable-sheet-2-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != enable-sheet-1-ref.html enable-sheet-2-ref.html
+== disable-sheet-1.html disable-sheet-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == disable-sheet-2.html disable-sheet-2-ref.html
+== disable-sheet-3.html disable-sheet-3-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-base-1.html sheet-set-base-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-switch-1.html sheet-set-switch-1-ref.html
+== insert-rule-1.html insert-rule-1-ref.html
+== delete-rule-1.html delete-rule-1-ref.html
diff --git a/layout/reftests/font-face/sheet-set-base-1-ref.html b/layout/reftests/font-face/sheet-set-base-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-base-1.html b/layout/reftests/font-face/sheet-set-base-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1-ref.html b/layout/reftests/font-face/sheet-set-switch-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+</head>
+<body>
+
+<p>ACC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1.html b/layout/reftests/font-face/sheet-set-switch-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1.html
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.selectedStyleSheetSet = "Set B";
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/fonts/mark-generate.py b/layout/reftests/fonts/mark-generate.py
new file mode 100755
--- /dev/null
+++ b/layout/reftests/fonts/mark-generate.py
@@ -0,0 +1,26 @@
+#!/usr/bin/python
+
+# For general fontforge documentation, see:
+#   http://fontforge.sourceforge.net/
+# For fontforge scripting documentation, see:
+#   http://fontforge.sourceforge.net/scripting-tutorial.html
+#   http://fontforge.sourceforge.net/scripting.html
+
+# To install what you need, on Ubuntu,
+#   sudo apt-get install python-fontforge
+
+import fontforge
+
+# generate a set of fonts, each with our special glyph at one codepoint,
+# and nothing else
+for codepoint in range(ord("A"), ord("D") + 1):
+    for (mark, width) in [("", 1500), ("2", 1800)]:
+        charname = chr(codepoint)
+        f = fontforge.font()
+        f.fontname = "Mark" + mark + charname
+
+        g = f.createChar(codepoint, charname)
+        g.importOutlines("mark" + mark + "-glyph.svg")
+        g.width = width
+
+        f.generate("mark" + mark + charname + ".ttf")
diff --git a/layout/reftests/fonts/mark-glyph.svg b/layout/reftests/fonts/mark-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark-glyph.svg
@@ -0,0 +1,6 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1500 1000" width="1500px" height="1000px">
+  <rect x="500" y="100" height="200" width="500" fill="black" />
+  <rect x="300" y="400" height="200" width="900" fill="black" />
+  <!-- baseline defaults to being at 800 -->
+  <rect x="100" y="700" height="200" width="1300" fill="black" />
+</svg>
diff --git a/layout/reftests/fonts/mark2-glyph.svg b/layout/reftests/fonts/mark2-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark2-glyph.svg
@@ -0,0 +1,3 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1800 1000" width="1800px" height="1000px">
+  <polygon fill="black" points="100,100 100,800 1700,800 1700,100 1500,100 1500,600, 300,600 300,100" />
+</svg>
diff --git a/layout/reftests/fonts/mark2A.ttf b/layout/reftests/fonts/mark2A.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..f5981de11fc1b9e98dcb8c38aeee2e04f73fa8c3
GIT binary patch
literal 1660
zc%02tONbOl82+ler)Sr!(J=|+;GqT$J~G?WGt0`d48d8~!6a+45M4wFNxReYi1VVS
zU0re!#EbDHg0OfIym(pMy~e=e1I>Mpiv;oD#YDs$0`5+}s%a-HK9A|5y1xJW|N82$
z>c0yDz($;giOE9Y(7|u!AN~f|Ka$=0?RV+y;Z=VRAdb+Unyz~-Y%>3%y~I8?JrhbK
zjak67=(oyVyVdDX3AT#wE7xXA^7FZ$>HnDa>5A_apJXpLiC5V7R7mvy8sA7Q<=<YZ
zho?UI6iM3GX>YDIr#<|HL!947dqdqj)xrUc(mz65HoUr@9H{+H|3$#K)M~cF&OC;>
zev1CxP<vy)cJ}MlA2#Lw#s}sjGPpC6Dz6{ytHuqLFAQ`a&e6=#cwg7AmDWF&W-Rna
za|}I8aeLu(HR65Z8Deyu(^}`dqxb_EVW<gqe^2ct^~uuyB31Ipo3b;4qk48Ph8ZQJ
z5#8+6dF#G4ipkLu+O{BdmfdXg{5JaCx%om(*#9lAvg)0{YcqSpW4=es|NGH3%z9C6
zFVrch8r*Hnac^-r3j*ofV%);x?1CLz$t{`&Ar?$U#}vI7x5e|^qEP%$BAM7Rl-QOO
z{g3Y6HRe`JN#jU#lDg9P)jk>$36WrA@!r~UY~|iROU8}00g+l;7SC448TcXQduRV8
zE=E|e-kwI71tc~^*u-bz`v|ip#ia<xuvy%Su+8`fsxmB9cNg?5g$1_YeuNDS;CX~i
zd?gYQwy;H<iEs>3T#2xa0kMpI2;jp*$aj$ycMP+9Pw+pG7$-l2s^-Ut12oY<N;ip<
z^n|Do6*M2}F+iD05?Ly^9CtDzWNY!yPqUSx*itXnL7SFC)+fIU*cbR-=ojU&Svldz
zac`ztlw)4dY@|{td9oT-WTDvz3(cVH%dF$dos}?bji%EjvL(ej?UK{*LrNXiYpFbI
zdVg6`jj$Tl{378&%~f#%bsB!LdV=HIHZ#ips$`cR#vn3mgJfJbUUDy|IVyWg6Auq&
zGJ{#y9eG!hQ{)03QB~(9wRT45<LaC+<p=F*vmsqK<G8LX)xOlXI!>WH4KFyJ&7*fa
hbk3*+UUN5Cnl-S!Tdllrj2CgYzxd@(HLkyV{{@5}=@b9}

diff --git a/layout/reftests/fonts/mark2B.ttf b/layout/reftests/fonts/mark2B.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..5dd6c6962d2fbf58b30977c9df51a10cb02dd12c
GIT binary patch
literal 1660
zc%02tO>7fK6#iy+y-pw$oEE7E4r8@Z`Ek~3hm<I?Dr8a@Dkw;W2q9Hv6R&?D{?U39
zh<ZWdR(h(CkOG%VJ<}#vK%y!LB(6C|2vr=ofDnR1)g<Pd@x}!4(;hpc+4sHgy?OIy
z=IuZL*o1R1aimZ<dgz<04{reWNwV7xf1A!8TlMz<;yCs3$(q+RH=B>C-{i<o&V&+4
zV-_$i+O4wJYPQ>q1Y7y{l&5A(a@X7sw0}hXT*dc_PqSAV#7i8XS4i|;i*I5qW&gBN
z3(s!-7)k2CQ{OVxnDlT8M>)TT`i7c!wu${1rG13Dta~+opuc{P_KSdVso7|S?cXrW
z^;5L(gxVX&<>{~f`F?Zm1vZ+G$l&%!s=Qv>zZ%z7zA(^foTHf&@t%%dM_S)3%~<G-
z<`{aG;`YMn#EAEZ=ZMktqmK1cM~Vl?2t!S<d%MwIi+-f^Wsy<x$eXe~f)jdn*M}J;
zBZ*FS>b&*X7Ww3;39Va@I?GPBdESlww*Od*ChS*>tE{>w@Yc-U)y)6m^nY%;hFLGF
z?}a)ARf9W?Ic_ZuXI>zkTZmhDoSnC0OSuKpAjG_>=$N7x;<i}MEeORAC6bBHh7zA7
zMen0KcZ|7}QqnjcousZb-r9#lA|Vp=EZ$vRj4j>$`=)VywNIp07sd0HF*<&LtKG9d
zfQu0pthZ+oW&w!}5jHU(zKbwxQe28~3|qvX5w_|7m#Pd))!ol}mcj!4xF2ByeOQjL
ziLXT>!WR0)`3T1##V--I(I*zM4*`652>C6t;wCW5??L_t5@Y0NP}O{%I6wn+q;!`!
zLraJXQ9<*emI2C)B#~tVmvTEjLiQ&A{4{$h@-20J9ki%9WPS2GfPI1Qg?>>^%*um~
z9P?(XMVa@4Mm?2E$urfkA`6XrSZD-gUuGRwZm)!4b2ObUku53KX_cJ1A2QT2y_U*z
zO7Cwssd`uqr~D$}A<b1WjT#ldSe>SP-)2TR-VE8{hcSo@`yjntc0O{ir#ULSOA`+d
zW-^0W*B$w{B*)1GJff=3OX}DeosX+?!nhx_s*SpI-HhY9u2lO{cXgVH<f(YU>1-a|
h*P(r${M+6JOS1+BI@QYe##r;a^~HrJO0Iu<UjjY@=@b9}

diff --git a/layout/reftests/fonts/mark2C.ttf b/layout/reftests/fonts/mark2C.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..8f48ab628c4d01afd43f773c50c9f608f46015be
GIT binary patch
literal 1660
zc%02tOK22H82+lerzg?)n79ibJk+4BuSrkOgh&X(BAGa-_=43S!lG@a=b@PgJ#94X
zMewGcL=b})!LyiLRS2l)Wp6nKS(ZI`QN(o*3!3q(ns$t=s~)YQy1xJW|N8r@>c0yD
zz$#pTiNl4$kpl<s{Ph5^Pm<km=$CZ%XxkqK#4+0A6E&}ie)A>md5+PEsZb(mOarDx
zzg6~H&32oaV5|6^^5k?$?wI+F{vT*xsQ6y-RrY3sc#&ggg+%YY_$ua7{!Nuyc>c%r
zNYcJbd+lUn!oz7C;rbrhD{9{PCiY;2erkfOdo_RC`sVNSUjvNm%|<J1-^CE$pQ3*|
z)ZRF5oXG!uVomNJtTdmK!Q<gndHHPLHts9EFwkjSqnYFJo{nE<THY+pSm=$`7<!fB
zcERc7i1&y$h|zUP=ep9F#UIEBLoKj-yV*X;ez>%|$Sir}P1zpCalN`5Lq*AGMn|1G
zZ#_0dF*#a7+ZLo&*-@M4x6#k`{D*A9{`hjGs(S*TRrbHl{HCbyx9J*Yy{Ntm>J(HB
zZZ~GQvpAetfpl&zZsA3C){ZUa=1hYSv!<eBik^$x;%#nDD1I=JOl%oUY)p#Y=TDv(
zGw(`C<5+Z(y3+X7)(wh;NHDVabZH^B`1Id-<Ni{gNG&ahH}A$6xEgo5XTKNMA}m;M
zuOrL?5-TEXVzc-)!mLSgJ;E`p6%Qk9GyYFi8J4QMt9q5f0{wUvVFP`58(|asL?Xf#
z`o+Zv#~{V62;1lr3#`-tK0Jhc7FltpFwN(F{s$6c<fl;8{3vmN2I@%ZE^&^Y5EY_=
z=0iOPC^M5pmKj{mTNx3uH~HtM*-KGusT=E{Mav=Uli$W74}355i}KX8-0#RSZ>n09
zqh8Rcr&1|-t{PTkp-~SDjiBtytmDe9l`w3Mq|+s`CB-_el2i9XraG$MrF2f}{p}=G
z53Av%UnD%Bxhl@0M#C>w&vO3KW=1&vo3g_XVE`HS0Y<y*yyQNWIU>8SCLS8dWCpUX
zJNz|~<KzM!QB~`bI(J6vakVCl`$4PPs7u$)IIinTwJ-Ip&QM66h8LX4=Fz<!+84=x
c?ryL&Yv89&wer3(KEyrx`SMFOFTZ==1NY?V6aWAK

diff --git a/layout/reftests/fonts/mark2D.ttf b/layout/reftests/fonts/mark2D.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..b7a7d593e8ebe4ce8fa789100fa09d77c4ec8634
GIT binary patch
literal 1660
zc%02tU1$_n7(I7pb~drGx@y4(DR*g$f4j4@8&YCeio|u%Vp^dlh#)%2&i-ijhuJY2
zd=Y%Bz9@na`cm*&OkS&0Xp6q}C6A$$;)5WzrPzmp$$IYH$(o>5AHA15_k8F3?l<S&
z`Q}0Z*oaFoakN-GHulx+NB02xG}#?rf0M~gz~2Xm<FqHH>Rt<*?7wK==NO%u2_=%o
zEMQvnTNSU}>U5Y1wu<koOwX3(-nonPZ=-#w>U*WXbKf<ImpDGJlIZ^-zLB|<|I=zc
zyztR>Bx&EFy?MGh<>3sDaeW`{4R!BA3x_a5|1fRY@alg0<KS2NZve*4R<j*;<}t+g
zr|91UwKtAy<NKbR+LZqnADEBH;FsZ4W$kR=GVUt9FwkvWqnQ)&zOG+qTH7qmSm=+|
z7<!fB_QUDsi1&$Sh|%?}&ULjri{FtIhFW0v_p+_aezbhB#4H6AOxYR63B9@(Lq*AG
zMpvCWZ#{NIF?m`-+ZLo&*;QNMx6#kekE_{){qp5XRqq5|tL*=q`EFtFYtuE%dQp8p
z)G4SM++)mfV{th10-5|m+``k`yd7K0FPH`)=1oP%6ul6)#q<1vQ2bybnb<j)_#`R%
zA3u0t%q^Fb#_{MRb*1sEZ5<Q|kzi!$;mTrc>EVC(jk_xYBDJz8o-G#`_#tlh&i*iN
zL|Cxi{)sRPNNk9(iO<Bz2(u=|%?QV^S^N}XoAH0B%CJ=3UDvA=7TAK{B5Ys)&m(N&
zOOc4Mg)QQ8gkzB6`v}_@5Q{i~06si~e3n>olbGf62>%1gD)umgn&wA|12oY<N_UC#
z^n|Dq6*V8~IY5P(By!B)a^A&=kiEq}Kf_**V#~c)2W?soS)crF;6UJep<j}dv+{@|
z3*JnvBuBlV*+`{Q@_a3<%3`w-7MnrEmpR9kyQ*Q>8p&kJWXp<m+GVHVhfFoD-=%a;
z>;3WO8E=HOaM~{sj%lujbEwnsOSN;H-?W(#j#pE5`5~l{WluBOWoQ2NGDl?Z)x<;T
zY&M;9-Ql;1<Q+~OZTgiisdHzw9#?C^gdenP&4zT{tmC?_RQpoj>MVt@8ppigY_5Rb
h?a;YQ{&jbQrC9?zyVc73##oK}`HL%ms(J0*`vP3n=oJ6}

diff --git a/layout/reftests/fonts/markA.ttf b/layout/reftests/fonts/markA.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..dae438b760e1662e202464db5bb34955f8df26ae
GIT binary patch
literal 1668
zc%02t-D^}w6#vcr*nHR;*V?E0FpCzWZ0_D&n-aoWniv->Mg?sUp|scByC0bS;O;dh
z4+X)NLiIr;poBcse;}C9M+K>h;&UE@^q~)Vse;5OwcFp!-fWa=?PF&+Gr#jYXU?3N
zd+tC0_z)Lh;&`EOa{TDxAGd)-ne5JECo;JS&+i4qDe4oGRj+|Q^C|T^l+nrQNFrs-
z0;WZ~Rq~pRR*R94_>OvaX==9E?aUveeFyc+<-qfw_AhK9UZs3qCeeMx{+_XveRsJU
z%_QgWBlVlqw@uY2Jv4BV>$|D<R=t@94&wmrL)2x>s|Lv{KRu%T7r>Zn)SFRj5rf?S
zGurn-osD9C^vU&a`|{7R#attU`$OqcXHK;i>>1;h$`=OOjcbfstp%L6Ri3bCbfnjt
zr5Ot!sME3;dX?h7gwu{;uZnfpH2tijUvAIhcVva379@H)(cXxDym-iGlo5=WvNeR$
zT;*^2Fr!pFD^V6RmYuOro|@3Q1*x-aXFI}gqsP{78_`5!b90qd=LX)I**lu~AAJ7b
zP1i8%MfC#IE%1)TK4YF|>w>c+kjXE1S@<)zl(1Lx%cenyB~#J1qL;f8;$?nWD1Lu3
zmE5yGxho}l)*d`C=3f<4#wm46eq3oPCjS93nEJRQ>tg-YnEAttU+o=Y{o%vER@$Po
z+ls}`cQ}l>7z^~^S&UgsqBq7SJ{8}@*g}uE7GoRR#N8MtV6zTcC6=net9q5f0^9L8
z#s+KqWsFUHC6Y0=uw7h?u?;D1#5jRov4VpL5x_&l(P#CY!7Rrk{3j&F$WNo9`BCB!
zb<~j7UE(|~5z0gb%}06;QDP*C93!}#`{@y}H!zG0dolJcc6=Q)sX1f=@_T`UVc<o9
zFVD=%BaR&NrYpW2^}>2BoleX1m8dKW^;%S@howN~99Q<2qo^^Q$rQ;J73(yMPA!NS
z>TA81%5zGeFH5QxRidfDCmh#Y1?Nzu68M#Kod4}G!<2u9Z1aN{AkK2k(bokZyf@Pv
zmYuDM2M4m*ft>3Oy)VfLav`s%qVtkEc2?)(>YOkUgw0C5CS5n{xUMVJxzx8h%NGgb
mUU+t-^GdWXGP$?C5te2R>~2>o-yLJa@7@=eo~ZftH~4QHL-Yy&

diff --git a/layout/reftests/fonts/markB.ttf b/layout/reftests/fonts/markB.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..840d26cd668352b2666b29ecead712f37c65dd75
GIT binary patch
literal 1668
zc%02t&5IOA6#rF!%zhX@M%<f+8dS2%Y){W@HZ03T!nh6?Tou$sgrL3KJs-I9K~KBx
z9s+`TF&;z)gk=x<518zdqk)KuUUKue1P?iQF@mh8XePg^X-7p(JX*!;`n}(K_3BmC
z>w*BV5$9pzNU?Zq>d>t}e+3d1vfB?I&E%$M{0)FOL4A6*<~7aD=2PmwQ3|v3kwnT^
z1Wb!|tL(L!oem=*ahiI6d2X@P?<^greH-;FmB90#4KFhu)+k?BNc3N|e_$+S-&v_e
z3&}PvQU96xmbu2PhbE43en0iWnzzuz0enOIICWX~YQa$Z^6#|Y0E~9C(TX}hVT|j4
zMf)D8y-{BD4Yf~g&cDD0^9dQ;A5WKiW2&=kFBrE~zA(^joMYVXEaRlD@`SyhBfZ@$
z%~<$C?Uv2ZvlRC&oNf$zO{~MF>9US~r8|np$O=PENDTC%y%YUNX}`}X1r$u#8OKS^
z^56I{qf|U9Q5G|n?Xgdun$Wrhsk7{6Tj1U3Z|BbIXd>}uag|l?1U{JA$C~*mPM>qr
zHOzWZy$E#*JY%uPSmM_D;H(H_@~eFop5|5(_F8_`GzhU`D%w``YF|RU%&!W?k0w*e
zFGrI*QexoAg9paat5V81p$^H9D^0~z|I}D&s3+@U{ney-@$X;kZDRf5!+#!iMQ67O
zw|e(*0PPqH4B&Z;SxjOu#wK=&?_+FXKwOWpjV<DCj1#a~hpZAy)!;QfOJRYn_#?&!
zYx`x4O?)SkF}AQ(T!^s^DQ?C%fkE*I`w$|4hlpRF)i;Aheh>1WkeDPtkE-Si#334}
zBdxo{Ia(rAh>Dtz^cbSdND?_la5)asBVuo20vYyF>|5&jI%rXI$Ohzh1N*|jivnNH
zEXsq9ob=|azASiQqn=Ku<+*B9k;O(mDmKD$Aajl@hbvLkoXBKKWJ`*5S|z6*L=1IY
zuch*w)B77GRgbFCT;LN<X|9U1s8I?0>RFEewV4UZ`ysph7)Fp~AECF)&Ij+^G$&+l
zY2vYwY<48)y5s+s<TSaEM^x2$NgX?@^Ko@fm=3~LwNaO@n{`~*m1<w=uFmkzFy)13
k3cXjNbAicy=#8*6YhYKmQu*!}ul?@r{qZj~zWoOO3w6r%3IG5A

diff --git a/layout/reftests/fonts/markC.ttf b/layout/reftests/fonts/markC.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..fafcd0aee5d9d0ce3f25796cc55db7ba4429a6cd
GIT binary patch
literal 1668
zc%02t&1+Ow6#w1#G5Jud6YN58aR<LrnY?*3HWI>EB#8rxsX}8ALE2~Dn-9!<@a7ql
zMWLYG_yJM^m5_!017bp#7KFCw(uK<)F1m123zDpio&N5fmoZY?y7XSoyT9{0=bn4+
zz2{vB0Nd~#Oq?zhCdR+K_xsO4qD*%8sjo7*$tiy;AkI>soT_>a^qDWIKctLI%|sF@
zV-7Ga+O3k;Y_wX8gv2-0yGzq^#cpTe6zw~y-zW#3|7ZW=7UC7k;WCNtTlTk%rR;ml
z)o3<3kMF79r@mvlKINf-3C{1P-dpu%8#s<5v=332HLn`%x_$Er?RNlUzEN*Rt@{|{
z`k&K&5NdCfS8Lm^eZ4)uhArj`GWcyMUFwXf)}lRYJW%<<K)Z2{@u0PcbGFJ8_N<Py
zxmlXAuvP7r&Cs(HcN9)LhP@(IVbgR?N59b?#dBnZp(Z4HI?>*Ve!6(fXOvNlnzA*7
zbDZVB^<hS-cvPY+W-Pm7pFB08bqi8w+0J&9ccZ_pha1sE;_c!ptIi3$H?x0j<_CFw
zyiM0I>qYef)G6?c#X)0%JL`h8B#_B3cUkx&x0J9~^2??{h$U0ewxXB25@J2SEEInz
znMxiwl-!dNJue<TG8WzxQ^r|!Mt)prDklE{F_`+aBdcQd&6s)h^-uOrvHJM&Ur*bj
zv-<@1I`?oK^D!3a!K)avm_%=kP3#lrV{D;E{1{^!JH#(BPQYdzvPvvfgFon53Jdh%
zS&R+V_Iiv>oDj(vTj&#4Vr)Z-yD?6nS3G6ah6vyx;@4;OUBDc_C;3lEjFF!~Me`%X
zA?m0ht-Hi!S|XH*3Yw4f7^1{T5;;b2Irh^dVsBs=8TMlATkQBcXi{^?2IN0u!H0nt
z1-`s6Cr>(Z%$uqBa>NVkwRAcyFIS?nEYxdJp&ph3nR8s(Uyh>2a3)hETU4ymEIPFy
zVyH8EEtTiA-XC9@GqtD^O$R>VxaKOjgesN5uUz8zUz-`G{4->mAH)E%>;v?6+4<nT
zo93|WEKNK(kj)O{TzBaIlAI(L@`x%rFR5c^bv~}n36nwCtki4Lb+eA^x>D^+-PJ|j
oEylg@;%MiUXkB4)?|UOG%^KL>u2jA|#)jXoUtE8w#?5c=-^ji82><{9

diff --git a/layout/reftests/fonts/markD.ttf b/layout/reftests/fonts/markD.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..582fb06da6e356ee703df1729e9f9a8def6b73fc
GIT binary patch
literal 1668
zc%02t&5IOA6#rF!?T4Qu=4POVB)H0KPtWL@Wf?<Q#{q*I1<fKti0yXI2kv~()2_RR
zfS|dk2MG&-We?^b5O>MZprAqTdR)YV2MOpx*qovne^t|tN{o86ir4jfzxV3ZtE$%p
z0bm2p!o=ZH>FC6_S0DWjI90OS4jswnCxc)EAdXR=oT~dRY;snq-=vIB&BPLEV-7Ga
z+O3M;Zgo101m^_x{>t=Rx!+wlMEh3im#U#3tPU-%BVM8GsgmfwZ2!nu%Kmw^9?z!c
z@e}oH)HhEzr+l<<l=J(k57zzJ77k!9?W5FX!>@;*E?&Mz`xU^LZ#CO-X9*)*e>d$r
zq4q}kbJaZi!=}RDSZ6*agFi+ymEM@{EZVcib(Jp+bQ|Xw*E@?iZmT?D&+168H%l`X
z)~nsJ8G4rDzJ}Y4VXufa*fd?x(JysJ@eny-s0q$MFWMW?5101`j8a6=l$}u==d9qB
z4>L+9qY`B?6WNyd6sQTUTaY@-Znj0<jsA9Syo@HCSBtBxdMEJK%>KWbALjP4HeJK4
z7u8Epr@%87JB<ZytPk#zK(?^lXW>bH$+1@o%cenyB~#J1qL=#|@vN{c6u&E#PHo?n
z`YbI59^biREIco#jbrMFf~3+^O#TC6B>hQG*2LQLqIv$G-|Veo?e5)w?{`IKw-Hx+
z_izC72^JW@UkPS0iNOS$_(FW2U<(7{mjv6`EN&&(fz3K(l~}3<f7Y`U7TAIZ2{u^U
z&k}6n8<9$|g)QP-f^A6gYl0mNiu>4y2qApL{06MPlbGZ8ApZ%;iuN&sn&!ueBQ()K
zMt6xbw8W?ql{6pgF+zorB=U^laU7yY%-+Hnvh3x=x7_n}(Wd5-4ax5S_C=u|hk-mf
zCl9)^=+D#wIqpZzMkbSyXKHa(mYR*Y)Ql>j%)6c(s>X3^ESoKpEi2Y-m)%AfGt_r_
zEtTiA-rtv`8gVV24g<mo&DC%kbt+*{JI(Q3n;E10H)NL|!7y^{!}Rvp`QW{o=9ug)
zO*}H3%MIr}Z}fdhPLhjwL^Yk4)Uk6qA5Z6m$uMfynhoiBIoI<%srIGr>J;w}6Ml56
j*n1^9=a}5v-Uv&x2DW!AmG6%6((m?H7oV!}^*8thf(7;o

