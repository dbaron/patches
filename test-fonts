Add a set of fonts for presence testing, each of which has a single glyph at the codepoint for a capital letter A-Z.

diff --git a/layout/reftests/font-face/delete-rule-1-ref.html b/layout/reftests/font-face/delete-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/delete-rule-1.html b/layout/reftests/font-face/delete-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		for (var i = sheet.cssRules.length - 1; i >= 0; --i) {
+			if (sheet.cssRules[i].type == CSSRule.FONT_FACE_RULE) {
+				sheet.deleteRule(i);
+			}
+		}
+
+		document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1-ref.html b/layout/reftests/font-face/disable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1.html b/layout/reftests/font-face/disable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1.html
@@ -0,0 +1,31 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "Mark A"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2-ref.html b/layout/reftests/font-face/disable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark D"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark D"; }
+
+	</style>
+</head>
+<body>
+
+<p>ADC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2.html b/layout/reftests/font-face/disable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3-ref.html b/layout/reftests/font-face/disable-sheet-3-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark B", "Mark A"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3.html b/layout/reftests/font-face/disable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1-notref.html b/layout/reftests/font-face/download-1-notref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1-notref.html
@@ -0,0 +1,18 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "Mark A"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1.html b/layout/reftests/font-face/download-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "Mark A"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2-ref.html b/layout/reftests/font-face/download-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "Mark B"; }
+
+	</style>
+</head>
+<body>
+
+<p>B</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2.html b/layout/reftests/font-face/download-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "Mark A"; }
+
+	</style>
+</head>
+<body>
+
+<p>A</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1-ref.html b/layout/reftests/font-face/enable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "Mark A"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1.html b/layout/reftests/font-face/enable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1.html
@@ -0,0 +1,33 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "Mark A"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2-ref.html b/layout/reftests/font-face/enable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2-ref.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2.html b/layout/reftests/font-face/enable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-3.html b/layout/reftests/font-face/enable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-3.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[1].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1-ref.html b/layout/reftests/font-face/insert-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1-ref.html
@@ -0,0 +1,20 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+	@font-face { font-family: "Mark A" src: url(../fonts/markA.ttf); }
+	@font-face { font-family: "Mark B" src: url(../fonts/markB.ttf); }
+
+	</style>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1.html b/layout/reftests/font-face/insert-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1.html
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		sheet.insertRule("@font-face { font-family: "Mark A" src: url(../fonts/markA.ttf); }", sheet.cssRules.length);
+		sheet.insertRule("@font-face { font-family: "Mark B" src: url(../fonts/markB.ttf); }", 0);
+
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1-ref.html b/layout/reftests/font-face/name-override-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark D"
+		src: url(../fonts/markD.ttf);
+	}
+
+	body { font-family: "Mark D"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBD</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1.html b/layout/reftests/font-face/name-override-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Foobar"
+		src: url(../fonts/markA.ttf), url(../fonts.markC.ttf);
+	}
+
+	body { font-family: "Foobar"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/reftest.list b/layout/reftests/font-face/reftest.list
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/reftest.list
@@ -0,0 +1,15 @@
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != download-1.html download-1-notref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == download-2.html download-2-ref.html
+!= download-2.html about:blank
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == name-override-1.html name-override-1-ref.html
+== enable-sheet-1.html enable-sheet-1-ref.html
+== enable-sheet-2.html enable-sheet-2-ref.html
+== enable-sheet-3.html enable-sheet-2-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != enable-sheet-1-ref.html enable-sheet-2-ref.html
+== disable-sheet-1.html disable-sheet-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == disable-sheet-2.html disable-sheet-2-ref.html
+== disable-sheet-3.html disable-sheet-3-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-base-1.html sheet-set-base-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-switch-1.html sheet-set-switch-1-ref.html
+== insert-rule-1.html insert-rule-1-ref.html
+== delete-rule-1.html delete-rule-1-ref.html
diff --git a/layout/reftests/font-face/sheet-set-base-1-ref.html b/layout/reftests/font-face/sheet-set-base-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark D"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark D"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-base-1.html b/layout/reftests/font-face/sheet-set-base-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "Mark A", "Mark B"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1-ref.html b/layout/reftests/font-face/sheet-set-switch-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark C"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "Mark A", "Mark B", "Mark C"; }
+
+	</style>
+</head>
+<body>
+
+<p>ACC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1.html b/layout/reftests/font-face/sheet-set-switch-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1.html
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "Mark A"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "Mark B"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Mark C"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "Mark A", "Mark B", "Mark C"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.selectedStyleSheetSet = "Set B";
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/fonts/mark-generate.py b/layout/reftests/fonts/mark-generate.py
new file mode 100755
--- /dev/null
+++ b/layout/reftests/fonts/mark-generate.py
@@ -0,0 +1,26 @@
+#!/usr/bin/python
+
+# For general fontforge documentation, see:
+#   http://fontforge.sourceforge.net/
+# For fontforge scripting documentation, see:
+#   http://fontforge.sourceforge.net/scripting-tutorial.html
+#   http://fontforge.sourceforge.net/scripting.html
+
+# To install what you need, on Ubuntu,
+#   sudo apt-get install python-fontforge
+
+import fontforge
+
+# generate a set of fonts, each with our special glyph at one codepoint,
+# and nothing else
+for codepoint in range(ord("A"), ord("D") + 1):
+    for (mark, width) in [("", 1500), ("2", 1800)]:
+        charname = chr(codepoint)
+        f = fontforge.font()
+        f.fontname = "Mark" + mark + " " + charname
+
+        g = f.createChar(codepoint, charname)
+        g.importOutlines("mark" + mark + "-glyph.svg")
+        g.width = width
+
+        f.generate("mark" + mark + charname + ".ttf")
diff --git a/layout/reftests/fonts/mark-glyph.svg b/layout/reftests/fonts/mark-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark-glyph.svg
@@ -0,0 +1,6 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1500 1000" width="1500px" height="1000px">
+  <rect x="500" y="100" height="200" width="500" fill="black" />
+  <rect x="300" y="400" height="200" width="900" fill="black" />
+  <!-- baseline defaults to being at 800 -->
+  <rect x="100" y="700" height="200" width="1300" fill="black" />
+</svg>
diff --git a/layout/reftests/fonts/mark2-glyph.svg b/layout/reftests/fonts/mark2-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark2-glyph.svg
@@ -0,0 +1,3 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1800 1000" width="1800px" height="1000px">
+  <polygon fill="black" points="100,100 100,800 1700,800 1700,100 1500,100 1500,600, 300,600 300,100" />
+</svg>
diff --git a/layout/reftests/fonts/mark2A.ttf b/layout/reftests/fonts/mark2A.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..e6d01c69a63fafe3511ee0c51673ccd73028e1b6
GIT binary patch
literal 1664
zc%02t&u<e)6#iy+y-p~<Ok1f34r2i-1!ui>6l6tKg+pq!2wEgUgitHAWY@7F{-N~}
zNP9uz)*lyygydT#&JoF>mvTTr1%E(pjj9Uuz@-IM^iYY!{bqJCL8X)<Gn#$h``(*3
zZ)V;O1b{8L1QW-q)v2SOE<X4fuzj*SKRcc;o>&VG0OBO|>6xb2!8Y>|^;;YhGxL!|
z)>r^ci*{?)>vsBmMuPo0^`Y6hg__*o`-=8=s9&lFp8vSm`;K^(<3OFn@Q>*&jHT?m
z>&@umyYC@O{RZ{zbL|-qXEDY3L)14ly^9@ujB(ma)Md+S22($Lxr_FzfYIx;yHS4;
zV_e^*eIL}`I3^0E+o!jc|H515Lo)cOw10l1w67aCRlYC~H_p+_sq|26*O4|hOEVUR
zlR1W-rMQD|;uz^6@dPQFzSgn6jivY%1!1TO_V6Iu3(=3&KJpo*f{H2oC7jZ;2R_Uw
zn@Ggjsq@xjXW~<)CbVur>MY}IE4&;1?caVDP1w&DS6K~C;H8=UM>Ai;=gn@qhFLGF
zAA~vuRfGGC9`}}pvm}r&FQ+a1UR<(MtL0_WAjFcX=#-+D)3$h8UKWZU&15t0k7jmd
z#qh&>_l(|JEo+=iPEuDIZ|&_-kr5es`uEpYQmgm>zGd88-z;+LE8@x8BptV6ad7sZ
z;A(;e>+R13vw*~=1e@3+zDO`@Qd~=L3fsk<1lvf9-&AE-s_w4nSqcm6z%L0luo+Ji
zY~rxUB-p|ZaXG;$Nb!AwZEO`QID`-ZJVgBZthh5+;P(js1BprU^Jr*(f;dDQE#!2U
zxIjyUI#E^gk(ME58A+nZ2rlJbdPM9U{`q<KTH;$9_&VrPbI1ndKL8Geffoh7JhLE=
zIC9dPZ}@V;3)`(+E+;QEqPncMTT!(g&IYpRxN>hjiaO)@e2r{Pu}-(<w1SACPUy8%
zo^yJCMN+M(5zPfY;Ze;sa2`!6f!{b!`Krx~bNoAG%#UFN1@;j#E;}E&7t<V<gQbbb
zMhb<IqU)CaFUe_gA&;n`^O8DtLFeP@oG=}P-A215UAN%4t}E5P)Los^sa2?Y;klx$
k#C4}z|FT--CGUf!Sp&P{ishSQJoCHz;WvLMx$*t|2Q!`N6aWAK

diff --git a/layout/reftests/fonts/mark2B.ttf b/layout/reftests/fonts/mark2B.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..2c63d44fe8666e947a1e0d2f4a93a6b1626c0e58
GIT binary patch
literal 1664
zc%02t&5IOA6#rFsPtUI3;|F-~P(!kb(b=A!Syz{32r_O46Wm0IE=D5KZujhr?tIYG
zt}f;vc=O{TLSSxzoK1F*MuI^_|A4(^2_fX*#Snry1av3As%|GMG0~${RKMT*y;rYZ
zRlP0<0PArPCJt9BM<zeM`OA-h?UUW{$*1|^(Uo8yAdXR=nr?V)bEEl~`W=q)^jsv7
zHRb`+qTQPDI_+MMkzjvLePCvGzAATjFVMb~`o&t{`M(#t*NB%n_SQ%YewSX)Sjzr(
ztr4BywjEjO-%{T++nV-p8b>&Pfclz-cfO5-7^i)Vx@>xl;Ims_yhHm9!05JHov8N>
zM!CLA`!1-xaTJI4e1CFd=})XRACbZRvE6g4rTw*WTjdJ_apN4#98V9#b{%PTvovF2
zFqvcMS&G{aCytRG5KoYz>9US>HJ0LM6ojEB*n|COFGN3F{lI6GGRmgxjp4YS-S=Te
z*+e4FPMx<NI})D~HKBD2QfC=wTjt&9Z|{fa(S-fa;wr2D3A{A3|7zyzIK9bD*D&iv
z_5Dz%plWcJ(dE|Ca25perNy*`$HfIZwOm>>4MHrKicTqdF>Q;drA49mkxVx8?nvgX
ztQdUs;DOP7R?Qm6l9SYx##`GmA~GUFPygY{Qfm3(Uw4e#E9*pVWl21FHbKV?xY<AZ
z4{;;Gg7x-Cf>}UfO@d7fi4zHCO^PoQoWdq?H^Da2;#XA}ma4n!dX~ZhoAFbE4Xne{
z1e^FsWD;y)v$&Mt6r}hn!8SICB^*GA03ITKeOBBl%=3GQ|AE8=`8m`zUnUOGLK8XN
zCC<?jp+;2Ee57TF8Ag&QGJ;FFlO7R!n}2?uy_)z|`@Rl3)Eu$_`S*YWVc<o9FHg<O
zLynyA=IXvIdts}Y%jM*`dQ_8@Rx_%!!kIu89arwGMNxY^pRbawD%R;#on{a*)KR^b
z%5zrlZx5+vRF7r@pKwxhb(}?mO5oSeQvTm&#yS2SGUi7yi~{>Gy<K)baxbPiF8fOp
zj}8|K!$sE}dsUKC<U$@%UFRir?1Ik6)j44*2s`ywQ@U=!aa~uceW|-T!$j1*VbTlF
m6lFQCJKcJhXnWcFU}@ICP+YNmbByPH_ujwqo06;F-@gIvYUvaJ

diff --git a/layout/reftests/fonts/mark2C.ttf b/layout/reftests/fonts/mark2C.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..910dfdcb0a68896d4f9b2e2c9fa7505098c833ca
GIT binary patch
literal 1664
zc%02t&x;gC6#lBar)Sq+aaIKn9%@jd(b=A!Syq;12(q&d8r(#PE+UE2Zujg=-1$LI
zySfNL@TTSx1YvH0oW)&oi-ZLe^bgpZO9;V(7bOI92<VPqRk!0x%#UNLsD9u3-m6!y
zs$LfafX%oH6DKN_lT#nx`SlTC`($^0@@c+!suzp_;xzT?nTFTKkok=IGRMTsd?b-I
z768+t-J10}?Ou<OV1Gt^V0LbyDi3zA(7v7e)mq^BzZJV*5wCI_s*xD{KE0W-lzmUF
z5nbM~6Itqasc)TY&3O0%CpmwB`i6#gxs9V3r=2-LHoZo0_J=P&p#2tLbla^?)VqsO
zuJ6)*0BUa>&NlbEbMKY@z((^48T>SMaDKhCzcucud|@DNoTHgD>4Dg;Bdu?iW-JUQ
za|}I8afji=G13F#IZ`xT*RgKKQv8B~Fw_KlupjNM=qIX2d`2mwY|7pk&gj{FA7+$I
zB;xGUdF!z&@hMRgTDKr|mT|Ua-i`kDmS0B`_M633R{axrXJ&uf%>U%||82U4Sud&|
zhB^gRg9nT*cb0~;D3C8Lr7b)yF50Qp(voQqV$oD|O3_PcTf8VO3B`|OvYCA&ncZ12
z_~gL@qx-U&HBKidsVj}QwrxaYM24RJ!?l&v>cc;mjeBdGL~d<GJbyV!$1S+iKl@|2
zm0-bo`#r%dAh99ACiaTY6U>?vw-cPgR&hVUHqzp;stilj-Pd}S!U9A1Il%@t;YET?
zd?YdnwlE~FB{&5szDcl+En<b08X|y)h+m%-cODD;9_N1`F-d+Nb<Ix@hiIXRobD2r
zXo*lGs%SpaGQ=z+Nfa5urQA=Ch`r4}KhIuGe5-w52OVk-*?>IXgK`*nQQ*t-3-Y)l
zC%yT)FDJaP)y(B`@=`sj$x5pkRa)U}Ad8MG_t&DRJ)X~3$yOEXbgE7>h#2aWUQ6XU
zr}uY=R5PkabAeAdrMWsTqCq9_>lZ2iX*1&-e+?P)qZmekeVE=ZJ0H2X(;S!mrHMy}
z3x(mL>yG_flGEfu9#LKAC3WnA&d1d`VLAvq^;T25ZozR~SE_xfySl(cB<~kfUU;D>
k%W>W5*1JaAyWR&&vj*OeE0%AL@!Idl4{tnEa{c@J3a3)(6aWAK

diff --git a/layout/reftests/fonts/mark2D.ttf b/layout/reftests/fonts/mark2D.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..0c19bde67ed00bf9a3a3b98cee30619552453be2
GIT binary patch
literal 1664
zc%02t&u<e)6#iy+y-p|rOpDY5hp~V{gR@>c3Q8jjp<pbiNE-==BGjr{vg_C-{vmq_
zM7>1fR@zI2gyb7iPdy-#D@a8Y1b;wojSxaTaA`pZ4wWG8H?xZy1Qd>)(d_%)_ujmD
zGxK&J01RLeCMHXz;}c(8dGI@6`((F&c`TcsLhu<Nrm0WO)VwA(+mEQ<;258o4<*vZ
z0$^ISTeDuf+3hkC?60Wz&CV^9<=)PBw0}f>u@ZRx<9z2w;#H1)6%zf|k^_vT>^m#9
z@Z7eKk*0o?`j)xIjE8S=ob&srZ>V|anmCLx+DEC&x>pNkZZ2kMzX%weW}_W;moUQh
zUD^ks_QtVu;FDjz*<5&r56p*TaC>y`{Ca8sY+P6Q!a&qGM>8jreUV*9THh?qSm=-E
z7<!iC4#0_GB>TiuBxw3x$NC|X;y!Z1P!sI_UbI)DPnHk)j8a6=l-*IB)U$g&%qSg8
zMA@nH)?<6@Q=lfaZb9lSqil=38~yG6`ZAiZ|6N>V)jNSVX7=`GzMtFwwdopWy{LWw
z>J(HB4jLV9ED2{xAX`{YTKF@+WG7Y&%cenyB~#G}MK339@w~7s6hE9wr*;pgcBDoB
z!#j73&Wm!|n2t|UR~m2a!(ovUDSG;M*H#j%cmKX&TwmKLGHWa1>5C#AH{nX}?2q7L
zj0NlMNsL)QVnd8g>=Iwcm^CRb#W;a2;<p&vNQysHWmu~2e$ulP7TAh=F*dLf&tq)j
zbCHU%g{|Uzj1!RJa*S<k5-T`}76Nz(`Sn?Gr?9~9QT_*#RqSCNRn3nRx6nWx8Qmq$
z(h{OVRMLE?Wec;6B#~zXmvRq1LiQ&A{49Gp_AU2(9ki)AWCQY_0tZ`x7Y4pOwIGi=
zvgplMeL3#68ud&jBhOaDiYztiVX4uY4P@SN<(^6yHpjBrGTE|Xop#x&2O&e9&}*qY
z=k)&g@|>uL)o?EG2`4mH#TnG71b+1l<$rBvjN|o?5kG<<<k*Mk?Xolet7(qO-qOS)
zL%G~g-gQUcl_cMA=Fz5I<t26OoX*G9IbkYjwX2P~blsfex~^3FQg?NliKsiogx5Nq
lm&K^=bnBj{?M?54rC9^Jql)F5W4!dcwg19jO0Iu@{{aX<=oJ6}

diff --git a/layout/reftests/fonts/markA.ttf b/layout/reftests/fonts/markA.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..7c99ee8b11116d46a67661fb3c80fc0f15e14798
GIT binary patch
literal 1672
zc%02tOKVg~6#nWyIuGNcMR&qfqr*f^Zr^T+WI~VFF*Yc^Kn<b{a?QP+ZqhGqUt_Wm
z1jmiK5D|pnV&)G769!i<1|R4TaAy#4<wgaGD|Onhs;{jwj?QwbI91>I&Z$$U>YiH=
z09N80OdKi{j_f}$|Lif4sF2-o@Nhai?)kldI7WSZqUtrU+I&U*FUsh|bR>~7W&zWp
z-J0~8jaG}1knpK@PgZ7&-Ok)W+SgIPTnaq@RsY;(;w8%V5{d3B_F2YK_D!W~G?ToB
z3)F8?UsI`1cxd1V*LPFzt$H&J?7=Uz4^x*luNtiEow`N)?|^Z=QEx`Ac?@xXW#0mI
zHcH<QCw@M;I`;-E%;#iqe|YP3XHK<l*fYj$l`jmm8`l`OTQ_jrR(Zmn(UCrHmS!yU
zsnfC<dX?gK!fD5_m&7t`nl9?-m)o;=ii|MSf<#Xz+85Ce6?glLl1JW@tzjJJD*uxY
zGfKs?5@j)C*%15Ws0poGkUGnDwt0RVJ+|(Aj3yGFHdk47Zs4n#{Yx|dgU|oF=^AFe
zs9u1&1>UjPV$AVuU2qlz(z(Sh3oo(@341BGXc~lAFcobpda)}Z-sKjB;<qJJ$)C0*
zH>O0-^9K)%x%b7CaZKHkA6J@+xq|VBQtLaiESBGonZLdL(_SZ*A3ps1QCoC&t1#dB
z4tsDd#sWQf9b*=g=#8<7AH}aRw$LN4$JoXiaW}>Z`ae@uVyPOus#hs2uoh2ZY_PW9
z#n{ANk&Lm0wc>n?ZAkG)j1%Y+kFX0N0(gix`mDZFnB};S|AfRC`Dv6jKS~^;jv5AZ
zmpDU9gc4Cf^O2rIOfr&0mJwXe{q%^~8yG>Fy%_rzJH8H@)Eu$_dA>Ef!oZ6HU!Izk
z`y4suO_zN+>V@^%z`%e!Q;tfqP_IRWdN>)#tmDf5QWP~t(&-}EqGFw9(WwOyLmkz7
zsXQzCd>K-;s2o)SpK!nC$~cWGmB25b=KQV0j8Og=vds@+kT}CJOJ5g!(7sG_M0U0&
z9vaMK2D7d^{JkW{$%VY4vd&BD*cqLVt8>D55H`#8nsnWa<GQX?=ThHlipD$@FPxHj
jbY6<qc_#R^cf!)Fflcjd<=bO?^t-p?(n~de{tkZt&&u=)

diff --git a/layout/reftests/fonts/markB.ttf b/layout/reftests/fonts/markB.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..f3e41ca64b6223e803ad501baa1fc3be41069767
GIT binary patch
literal 1672
zc%02tOKVg~6#nWyI*G5OMRzW$Q8A;*?b{uqA+&?Eu|YATFiu7Uk(=Dx>BfF>`x=vl
zAULxbU5E%maG`%dO>p7Dg@ZHb4{&FY!Ic{wkht>EepP*K6`xD1IJds@ol~byRh?T9
z09NBPOdKo}4vqhE?eRk(Q6anGz_01-#H7Cx5QnKxOjW&x*=s(feut8unu#P*#vEW;
zv|H0&v(aiX5)wZ3?&->0vD=wHK>IrC=SqR+|KC6V6Y&yddx=E%dHWP&Df^~UHJVLc
z#Glk}Q17eMr#v)pi1WLtuc&&n4eZ5E+DE9%npX{yebrmEUjd9uje0X`UB@ujSN5$?
zd!xMR{e8!=-rNhUG@p>cza!gbI%BGJ*`76St9)Ug-8jd%-MWk;w#pOstd8_yvovF2
zmD(+vp=T*>7o2tsdr2(Ars*#o{akw#{~;p`H6hW{iS|+SgT*~QqvVk{WoraSILm+U
z!;Dh#s6<)JST@8yIch@d7NpLyoo$|Xqra`c-$fIN_lv8nIw$bi%)Zpj?{WH(o33Hj
zi|PfaQ{Wkkt;RgJ)&*xlAe~$6vhXy!kg%6>i>5({1yj+sq8Gao;#F=@D1IoJN^TiS
zZcK@uC-?3d^RJ63<FGm;Kdv+tQ~guJsr4OM7R#^4%s*b<wAYE{`}f~GXp7En4X$<W
zVJ|MmSfB^bW6WX_D`IS7vp5=K3q9gejBWIZyD?7C|FNnPOV!{7JxgJMwRjX`gSGuC
z#wPZOWQ;AW6=z~>LyD_0PGFUIfZYfYz(d5Z&+41R9KZYdPe_cBpFvskdEyXt)G(mC
z#7SBrl!ywNkMtN~nvo>3jNo$Yr$@xzz$nt}#n`vl@paIo=8z4@^R3w(23{2Sa&k`Y
zcjTBiQ}$)v3+uIkfdP549F=6DUW*F#a5|7#$Cdr1C~AzR(?zmH#X8NRQwt)7`c1E;
z@~r6n4Uwuv<){+)gyWhk;{>Wy0>6BM<JUGbO8GQon;*s?GVFu&cG>x$eVpc~>?}<@
zJebK0W?gsWTS-ok3wcCkotM<HGddqv=Y)wMY?kXa>AD%mbzQ0UrS9suzBP<{;c=Nq
j=cQ<!VS=A~CoIhx*xasGzCFe}zkhx{`%H}=zQb<;EmZXi

diff --git a/layout/reftests/fonts/markC.ttf b/layout/reftests/fonts/markC.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..eaebf77db12ad193de865eabb3ea71a4fca79cdf
GIT binary patch
literal 1672
zc%02tOKTKM7(LaGNuu#FL0!41L9aJz($g~%31Jk;<PIo$71SVtNSp4-49<(5HYN)}
zP&ex0auI~!!utor1XtohxQhM&cLotxZd8!C5Fg{Ins!utF0G=v&Ue1APJdPXbwL1F
zhSM;yuTVI!=kIGz9s-F9*|mH3r?cY|elH*n(H@_udJXiM&uQQ07@e4kBvQr<U|RHB
zlU}pYYEcOZpLX|TWv1Be%<iRs743_q!1G`9&u%1M;MiIs(fyBoidxFQzEq8-lb3Lg
z_I27TEA<Hv4IJS5ZrV$#-gE;yv5o#=+Op<VgVk&5H|f6$7?&IMX4JZlA--SvH$m-<
z<IU^+>7y%hudvj7N(Og_H&1ouRO^a8ZQN4%!a%!mjd81W1&3{wC+umh^m(&1W1&~=
zmd((s6t@FTTf<%ui?HcBuhlQMXYm*rVW<U(o{riV>idd+`BcdxZ_3s%4s(_NDTW!P
z;#m#lG2^i|j>*vy+O{BdmhEiw{5Ja8y8Tg2BtE@dWz{)>Z)W!0X8uyt@7r_@vtCp$
zK%D~5SZp$8xw9@fa{}qye3yl1*|~(hkefFRLd=<pwiP|!l@M=p^Fr}klBwjMTaxQi
zqUY(od&ca$V#+wA&d84|O=&Kr{!nUlXDo`vcVp(+H#h86V)6d{_Yc}bXSW>JI^SU@
zF2z`&2QOpHViHSYY~l}bB*qqc#N`;<SSkLGaf0zrRFzn&2LIKo6c*^iqZk{k?YA*D
zu}dUlY@tt_iLnhS{)=$}z2X6@Hbejq5uZM*?-*wI+|7SNVvPJ0%9<Y~4pB!91G-C`
zq$fg&sG#{s&mktMB$1_p%ekKs5qkq8NV6B?*kUKvL6eq4HXzTtCLab~6!`MkjNI+W
zF>k8u%TX_^*9Ha#<jHbWl7)ILD%8WtKxQ3R_LrilF_KOf$rcssG>c9xh$wYXzf0v=
z(fi{~bFdbbqe|ct?$KNsCs3sk_~jFvf3%qqj;|%#{166_VIO3)%gzh!%QQ!1=hehR
zgPF`=)^&$}mgG3OkVjP3c}cCE(fPPKCyWPSvs|x9*UdPt>q@mR^{tN6nWy1}$7LR!
io1%4w34ZIIurzC6L%Uje_ZT1J?rgvCT+N@~!yf>IH}(kt

diff --git a/layout/reftests/fonts/markD.ttf b/layout/reftests/fonts/markD.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..19a444478dd1c05fc0cb2edf9ab428496e25ad13
GIT binary patch
literal 1672
zc%02t-D^}w6#vcrO5#U#MIVGb%+i*mHo1FuB^tsi64!+kQ-x{}LFAfyH@moB-o3`;
zK@ijz^`R6&2tL$*K$_6UKnrcrKft$!B0l+|0h>NmU4JusT@^nco#EX1o!>cg=FH5w
z0|8(oF2Ka$V)4l2_qQMX4LDV@{fB<Y<fejPBOs1ZpPH`uO>A;jssBzHpPr2+(#AYs
zTC`g;eyiDTGZLJDdhbkizSQe39HM<I^=swO4^{^kz9C+r>?)J!{n0+pSjzrYxfai*
zuH!QGU#M@cHl}?vafI`GsjsW~b4^TO5ACDWW!<lZ+xyQf)BZDH+-NphaeEOXTwmFD
zK<$n4@9M<B$xZqHu-<$~27iryJKG)8?VI+Tv8?iifllKbW4V13$8D7->^U9j^=4_t
z!UnZlHbc)++&;LS81{--gH6*F9sOEo6!(!8hMM5?b)&rz{c!0(z$gV2OxYgAan1@}
z`7on&GAdCPGm-wpCr?di-GbCvcCsz-ZuGbP+skOed9}F8s(S+O%<TQm{4}@EwdopW
zy{KM<It8Aw*kLSiV?A&e1v2@i9t)3hi;lgLUos6sESie86}{Bsh^P4_q4=GtbZTH{
z>dUm~dwA!LvGA;vHjb$y3X)1wG1oKxNP1gW*2LPgf_drxU+t}8?e5*@_d24p`vSMS
z_b`F$2^Q$XlLWJv#JU8V_*$Guu!TNxBf&N{i$4<V(Eov|5=+(KPkNTZ0$cD;f(_R8
z(*&FNPNWiSVT-t!U>j20O0a_s;vV)RLI@u*zX7Z76z2Io$bUkzqJ7MwqWN*+2o2OR
zq`Sm9T4I!mikgr07-5EyByx=4aU7&a%-+NpGVG<qx777@(W2&(4axJZ*&l^|90u~#
zygca2f<Idc<hUO->O(_A@?0e@%VMJ*7aP$`D08kS2g`BX9Lr=%WJ`*5TP3$1#td~-
zuch*=>iz8|RgWuiH4F$RHCMq|)To3(<t)b!ZDx$}cE}Dtf?;IYhw1IH^Fezv%`w?s
zns{V5n;p)1-ss1YoFW(Th$=cSsbgn#KAz4AQ(@GqH0sjxvaaWOQteCK)oFc$nDnF5
kvViVO(Z0w8-}O#dnl&)csaC!{#!J6H_g;Oh#@FBB7d><K2><{9

