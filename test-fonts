Add a set of fonts for presence testing, each of which has a single glyph at the codepoint for a capital letter A-Z.

diff --git a/layout/reftests/font-face/delete-rule-1-ref.html b/layout/reftests/font-face/delete-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/delete-rule-1.html b/layout/reftests/font-face/delete-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		for (var i = sheet.cssRules.length - 1; i >= 0; --i) {
+			if (sheet.cssRules[i].type == CSSRule.FONT_FACE_RULE) {
+				sheet.deleteRule(i);
+			}
+		}
+
+		document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1-ref.html b/layout/reftests/font-face/disable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1.html b/layout/reftests/font-face/disable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1.html
@@ -0,0 +1,31 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2-ref.html b/layout/reftests/font-face/disable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>ADC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2.html b/layout/reftests/font-face/disable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3-ref.html b/layout/reftests/font-face/disable-sheet-3-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkB", "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3.html b/layout/reftests/font-face/disable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1-notref.html b/layout/reftests/font-face/download-1-notref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1-notref.html
@@ -0,0 +1,18 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1.html b/layout/reftests/font-face/download-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2-ref.html b/layout/reftests/font-face/download-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>B</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2.html b/layout/reftests/font-face/download-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>A</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1-ref.html b/layout/reftests/font-face/enable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1.html b/layout/reftests/font-face/enable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1.html
@@ -0,0 +1,33 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2-ref.html b/layout/reftests/font-face/enable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2-ref.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2.html b/layout/reftests/font-face/enable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-3.html b/layout/reftests/font-face/enable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-3.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[1].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1-ref.html b/layout/reftests/font-face/insert-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1-ref.html
@@ -0,0 +1,20 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+	@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }
+	@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }
+
+	</style>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1.html b/layout/reftests/font-face/insert-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1.html
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		sheet.insertRule("@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }", sheet.cssRules.length);
+		sheet.insertRule("@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }", 0);
+
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1-ref.html b/layout/reftests/font-face/name-override-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBD</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1.html b/layout/reftests/font-face/name-override-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Foobar"
+		src: url(../fonts/markA.ttf), url(../fonts.markC.ttf);
+	}
+
+	body { font-family: "Foobar"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/reftest.list b/layout/reftests/font-face/reftest.list
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/reftest.list
@@ -0,0 +1,15 @@
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != download-1.html download-1-notref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == download-2.html download-2-ref.html
+!= download-2.html about:blank
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == name-override-1.html name-override-1-ref.html
+== enable-sheet-1.html enable-sheet-1-ref.html
+== enable-sheet-2.html enable-sheet-2-ref.html
+== enable-sheet-3.html enable-sheet-2-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != enable-sheet-1-ref.html enable-sheet-2-ref.html
+== disable-sheet-1.html disable-sheet-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == disable-sheet-2.html disable-sheet-2-ref.html
+== disable-sheet-3.html disable-sheet-3-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-base-1.html sheet-set-base-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-switch-1.html sheet-set-switch-1-ref.html
+== insert-rule-1.html insert-rule-1-ref.html
+== delete-rule-1.html delete-rule-1-ref.html
diff --git a/layout/reftests/font-face/sheet-set-base-1-ref.html b/layout/reftests/font-face/sheet-set-base-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-base-1.html b/layout/reftests/font-face/sheet-set-base-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1-ref.html b/layout/reftests/font-face/sheet-set-switch-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+</head>
+<body>
+
+<p>ACC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1.html b/layout/reftests/font-face/sheet-set-switch-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1.html
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.selectedStyleSheetSet = "Set B";
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/fonts/mark-generate.py b/layout/reftests/fonts/mark-generate.py
new file mode 100755
--- /dev/null
+++ b/layout/reftests/fonts/mark-generate.py
@@ -0,0 +1,68 @@
+#!/usr/bin/python
+# vim: set shiftwidth=4 tabstop=8 autoindent expandtab:
+# ***** BEGIN LICENSE BLOCK *****
+# Version: MPL 1.1/GPL 2.0/LGPL 2.1
+#
+# The contents of this file are subject to the Mozilla Public License Version
+# 1.1 (the "License"); you may not use this file except in compliance with
+# the License. You may obtain a copy of the License at
+# http://www.mozilla.org/MPL/
+#
+# Software distributed under the License is distributed on an "AS IS" basis,
+# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
+# for the specific language governing rights and limitations under the
+# License.
+#
+# The Original Code is mark-generate.py .
+#
+# The Initial Developer of the Original Code is the Mozilla Foundation.
+# Portions created by the Initial Developer are Copyright (C) 2008
+# the Initial Developer. All Rights Reserved.
+#
+# Contributor(s):
+#   L. David Baron <dbaron@dbaron.org>, Mozilla Corporation (original author)
+#
+# Alternatively, the contents of this file may be used under the terms of
+# either the GNU General Public License Version 2 or later (the "GPL"), or
+# the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
+# in which case the provisions of the GPL or the LGPL are applicable instead
+# of those above. If you wish to allow use of your version of this file only
+# under the terms of either the GPL or the LGPL, and not to allow others to
+# use your version of this file under the terms of the MPL, indicate your
+# decision by deleting the provisions above and replace them with the notice
+# and other provisions required by the GPL or the LGPL. If you do not delete
+# the provisions above, a recipient may use your version of this file under
+# the terms of any one of the MPL, the GPL or the LGPL.
+#
+# ***** END LICENSE BLOCK *****
+
+# For general fontforge documentation, see:
+#   http://fontforge.sourceforge.net/
+# For fontforge scripting documentation, see:
+#   http://fontforge.sourceforge.net/scripting-tutorial.html
+#   http://fontforge.sourceforge.net/scripting.html
+# and most importantly:
+#   http://fontforge.sourceforge.net/python.html
+
+# To install what you need, on Ubuntu,
+#   sudo apt-get install python-fontforge
+
+import fontforge
+
+# generate a set of fonts, each with our special glyph at one codepoint,
+# and nothing else
+for codepoint in range(ord("A"), ord("D") + 1):
+    for (mark, width) in [("", 1500), ("2", 1800)]:
+        charname = chr(codepoint)
+        f = fontforge.font()
+        n = "Mark" + mark + charname
+        f.fontname = n
+        f.familyname = n
+        f.fullname = n
+        f.copyright = "Copyright (c) 2008 Mozilla Corporation"
+
+        g = f.createChar(codepoint, charname)
+        g.importOutlines("mark" + mark + "-glyph.svg")
+        g.width = width
+
+        f.generate("mark" + mark + charname + ".ttf")
diff --git a/layout/reftests/fonts/mark-glyph.svg b/layout/reftests/fonts/mark-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark-glyph.svg
@@ -0,0 +1,6 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1500 1000" width="1500px" height="1000px">
+  <rect x="500" y="100" height="200" width="500" fill="black" />
+  <rect x="300" y="400" height="200" width="900" fill="black" />
+  <!-- baseline defaults to being at 800 -->
+  <rect x="100" y="700" height="200" width="1300" fill="black" />
+</svg>
diff --git a/layout/reftests/fonts/mark2-glyph.svg b/layout/reftests/fonts/mark2-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark2-glyph.svg
@@ -0,0 +1,3 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1800 1000" width="1800px" height="1000px">
+  <polygon fill="black" points="100,100 100,800 1700,800 1700,100 1500,100 1500,600 300,600 300,100" />
+</svg>
diff --git a/layout/reftests/fonts/mark2A.ttf b/layout/reftests/fonts/mark2A.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..8264af14ee9fd4368e80fe498424a8c2489e6fe8
GIT binary patch
literal 1524
zc%02tO=uHA7=5$5*|b`%#UB(ZY*f@LiJM4EETLMf!GqO8wMY-jlB7v6>4r_JP4OUz
z7xkbw>7@w0iKXq;9*QV>)SI9OJ&1z%bI^lejc+E~s9?dPGt7SP`<*wFZvp{e4K72+
zKr(r%|HRDOTR`ABt?efV_r*>xWx4=yhWb#d=#<c^f1<v~bvSjQVj-ke0o|bA$U5ax
zt;R|SJf+^0EmTJ?4&QO<-$4CRF5{#>4^H(FzvSx5(a?N9xQ4Z)e@CuZ8Q-`WSE<iZ
zUsrHb4stlf{3hzFiq3cm$8doDICX2(DQ51y-x8qzCZMe^x#dc22A$l0n*KeIXXARk
z_r=|Ft%<K#t-qrMkK*BH4H*K=X>CFBg@*cIj<O5~<-YW*O1}?7S&T-Grn02%5F+&&
z!6xwq<fdIywQkg<c!j9YWP;h;sP;$ofsvzWR_R5rZq?!#R@sdhG79-pt~8<UuXaBs
zK}{&#fTdX0+4l0cQQz8w<!ZwGwYg-~xPiYiTVd$`5c7Wz)x+!;IeQ>)fp;wSXp=l!
z5Ro~7eTn&?fe*1cGw?DouWN*u)1^5e&GSK1d{4{^Y2V)#YTLEHZF@*GzkB>xn_L<R
zX=mh3ru|L}0_$ZESNe%D`{diAw(z4xd|5hDXR{VFjeFmT6FwF&amB}M9^Ce^j%|43
zV*{qx<l_L=iGw~iX+JBw!jL_8TxCft(1I}^YsA-ltm6o#d~BdaH2F9HOKkPAN&5i$
z;G%>oJmit(TdlC;b|Zxj${1|UI8i^NCKyrRbg0WLk9qRzFegtm3iP?9s+Z5^D%S2)
zhZVE!xYh4Y<O>DI>T|u4>p7LY%ea0fc{tAvdZ{?x`IwZ*@P_j|PmxL{ogbr2s=^f|
zJrc|)S`pH+(5;C5s#LdhB8(_!xIrIDceIjpy==ycMQp3vs_#h98IDH7lI9AOhPa=H
zvVS~F)r+d#ZN&gX8L!L}S+*UG*tTu0P-pp7)~?Y0w>N1htA-u*PT@P(mg64wT>mKL
I@Beu}0UO-MF#rGn

diff --git a/layout/reftests/fonts/mark2B.ttf b/layout/reftests/fonts/mark2B.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..ba1623e41629774370ac585c33370de845b7134c
GIT binary patch
literal 1524
zc%02tOK1~882)B=vuU-pmZ}I=-1w|Q(oLiqOQ@1+@L+49TBHYMNzx=V>4t55R6Gdc
zMLp<EdMQG$_I1^Rf?|()ss|5VL@z!LdJxq3&19P@wBXShX8-Sh&Nq{P0s){I*P&w|
zl{(YcKlA<`5O_^%`{}{X*x6s%!+<zPeJEXW%6g0bk@^#^WcpIYLP(ncbc22)=Zu%D
zRaQdaCH00}abo21@B^3rP1LXDvrgvA;8ZX18?Hln8X6x3n^{Zxcjrr$E1S3CCiOY$
z8;fq*K^|wA-#~p`$+=R-NgSa+PTd-FO4-@Z+XD381+=!ZJ6@^IqKo@a(|-W+Y+Oq_
zmL6VcNqob4{R1s{9uL2&%Mf5rYmX&gXs8Y5D9dnA?n}R_^ye^?#i-|KDofgqAyTUm
zY!F{TZrUwX>rPFIw}=W&CYX)&YJXK97&(z)l_Zk7RgGg<W!GcKDCA4IGK9Ln+WnXW
zHKB9^mSS0Bo8)h!zSXD8)r7gSxnxzpfmNBUHS~W8`k#mDVfKrhJ&?D+I~E7DNggeT
z$h<&jVj*bYV{G0Gyh$wR8X@L&X%0y9LeLaH5(`4w54MI{_Z@8A6%vgfUcAsIe~yH-
zbMhuLey0V2HW|c~Sv2Mrzdz9)|7sFne;%)~*?^h)z3)Z8j|EKJ@G+YQ_kFBmC*Jwk
zfGM{4IDn1fsE<wB&&#ebWY3*aSrQ90;i8W<;#)q}aU4@VHqay*d>nu!w)@zmeE_|1
zQN{#36p-Uvt+3-dkj8$>7;MfsQ6HnOGNQ=oP?uRA^W@iIPJw6)=yl5zULlvSSRLv8
zR?N2JR-b#dP%JuDuj`dv&#4q##`Q7D!zedMQgOV|n3Tx!h6_ATiApw8xJa2&g)2&W
zB$!pSBBW)ZTM=8SRI_v;j3{TgP9G_EtderQT-J(3Y^&R<?MToSjz+_h<{FfSxSxk{
z|9F<F7gf94iUEeQ-Z)QW*>*Hy+qShvo#j_qy+QkGZ_-d!4SQ;x!gsDM$35%0{YlC{
H|MPwW^<l>`

diff --git a/layout/reftests/fonts/mark2C.ttf b/layout/reftests/fonts/mark2C.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..f54df463a6e2654df8b422d2c5d899f8a89c1e00
GIT binary patch
literal 1524
zc%02tKWGzC9RA+j<<e@a)~YxtTvXHwNiQjtSb~bF!NF*uT1p4yNYW%U>4j^mwm1mI
zr8?*)U5eo1QrfO|=%BQt;-cW-B6hI|>L94`doS0hV8PM%c=!8$f8Y0BelHLJT5$_H
z`ckP&=?io3?*oBXwC=mu-x<4H%f$gPNPQqvb}HDZuTx*<I+M9pwGh%K0NtS9$U9?|
zT8)(ucuu`3Uz!-cKJ?I~e;4(eg`AW9*gu;je#3RVKtuDBU@L1$|Di&;dSmxq+@?NH
zeMia7I4Ix}^P8w|DLXeRIENGTlM}2_r<_~(v_C-qJwR)(xMS7YJi596Bl?d)o{j5u
z>&wSiw<o?}tG-4Hp2fp28Zrc!kF+Jp7aHn=Im$8=l>5@JD*ZkTWic8#n#z*4(}>h-
z1e?TXkefEGYTd0%@fJ~`$po{xQSFcFeZyz7tdc}hw`y?=sq97!8HIc)SC&xs*FHZc
zK}{&#fTdX0*(UkhsBdj~qna>(Z7x|gZs4!XHXZsuMg6}+^)UNI&XbV0z&jSlv>Bc(
zh{%FKXJRpE;6rS|47^D!>KY*ybZHJq^J35x-x7;L+Pm69ZAZG=4u(YY+RBPH^L;p^
z4a%F$`kfX8+GP+|cGZ|){kp6z{b&)NzxUSJY{OjR-Vft~j|EIj`Iyav2R_zu0PlQk
zz!ZCY9Ka57%Eu<{S7cWhvggjLEQtkLFz#cGc-qH0dNJ!`11+M-#{pPkzmHAY``D!}
zDwu$WBJzBzRd(D_WY9qwgUuNyN;7Jb5hYHCy3F#JC%+DJibSJqO}8@P74wCvbu`mq
z#cVrnrQOM5spMEm*Q>amQ!ToTOEbyC2shwgN!sy7Vp1Z<8!qxZWh%LBahx)x3Rji%
zNHC{pMM%p+k0SP~Qr*&xFru8{27RR5(Q3-|@;NIOv8^7fz9T_*I2sL0nwwA>;C>#)
z{Nq`wUR3RFD+U<Id1E}0W!uq+ZQIr+bv9mQZHo54y-7n^HFk^Y6uxt9Bkt+RJL^*Z
H{-5^~&jH6V

diff --git a/layout/reftests/fonts/mark2D.ttf b/layout/reftests/fonts/mark2D.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..9152f1c9e52afafbd8940b32bf2dfc5b2782e5e3
GIT binary patch
literal 1524
zc%02tO=uHA6#iy+vuU+ji$8d%xKXjTkhqCdVhL4j4IYdZT1x3bS&}pfCf%@2wG|IS
z@lrkLO?oLpy^5_z1wAOOH$4a*Ja`d%@#mn3V2$5Qwy{DB9-U$KeecbCZ@zhX69@oX
za1A>8lF5P8+4~=E1A#ZRww~)h92-RT7$AnI52i~_8O`Qr>QA{&rY}`2gtSROH@I))
zoUwAX%1j8nq~4G#PL5n2zUy*-2lcD@tdsfDKifn6mg{JqhQ>$1EzBkN59CXgiJiM~
zo%#dn+lp@5K^_B)Z=k-Z<V=)t8j??(x;5&QvJb!S4RHS!plvU^W0mSWI(hya_d6i(
z#`QY*;@*Yk#5Zi#mubQCc=%Oah5&O;do1}vLv1idS%!o1T<)t(YlopMMm<JTQPOq-
zky?&mgZK(^)23Cfn>8ukAu2Q(U^dpX{gu6M<Wz=PdeN&})i{P#blr!HLcWwML#X?!
z)%QtI6G}H=DV8<1z5H#|xB6r?n=t<zE?Lzpur9NWhyHJF|Laga%zlxx8?p+lvFOld
zc(EWN^8$wx3qb=PWAkR<ZDK*!2r;iqb3mFGf~NSHSP;^Fq$SkScBEy0NHi`lE^0F?
zBOz@_Rx;yvS`gSSowzbf#)G9FPqoLtn#9+Y-Wr>&xL>dPL7ermfQcy|vw3jG$2#`m
zy^jr;VwaBt*d~tq*rffu><UBn+!+-mu|N~XeXJ2r`&ei9&HC6tlW6d90G8O}W0Uqi
z^uR?KlkiYLj&HTXjyr@j+9_kOIpahrdR?JMk<+0rqddmRufv!E(J0X4mM6VJE?=<@
zrQ5BTZO5&Yd!<k;I#!SCm0i!N6kPhH806t14`9Voj(0I8C9<q=f%hp<$z}@Ulu4Di
zqNGQHSw$;CS{Aw#u|Jt=mQI8b<qX&9Bk7J-lCGD_TCs?2by>9&2|B~kXjszRfD->Z
zX&m#fXQ_Nqb-Jw>U@+^A@kW+yM<cdvTN~tAeU;TI+ShxNhO%mCt91(Bxwh)}toz0%
JDcAnz{RZ0`#xei^

diff --git a/layout/reftests/fonts/markA.ttf b/layout/reftests/fonts/markA.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..33bced5c74914b6ede52b65ec71c732cb4208761
GIT binary patch
literal 1528
zc%02tO=uHA7=5!p>5qRc>aB+jinc=1O{681D7MvzV64zmiWgauGzli%uuY{c2#SiJ
zJt*kGQpBUDVv9!)B1*jqJr?w4FX|=YL2G<7yG<)p@aPPa?|t9Q_vX#)H-P}K2iKwF
zVk$L~zOeY|0bs5%+A%cT9UpbFt$-M#Kbk2!73|Z$(tpJ<khxm55Y}b@-Qc{DcP1<K
zI+<Xu(r?a}X2zSN^Fy3JK!2`~bFyDMpL`&e{JjMRn(v#}$R+0w7s}P?_J_Dl|2h4(
zlACc*!3gu4>9>}h=?c!_1m_d<tqG@`n{7MT$N8s#)>LsPtMx_naQ|nVKL&X=j`;rX
zk1y{_e#0((oe{iEMBX=SxV~UcYcHi<Xz&|zw3qb-TvGP{b6PQNZ-$B(*ey@Xrl~9$
zJB6svVXlc9OitZZ>~p>q9}yFpObE3!*#2O@IDRHemVWf>Ry~1B%*t-9p`vhL<&ZOa
zFgk)YNqR#01}vr0SKH5TqkikJH`zpJYjdfpaRWOl`%BaRVa@;DR1LFUWKTif0`FKH
z)8=`$CPbG6x|7RI20q7^Lgrd>S=R`$q|2}=!^=$}@iVzBWc+x0xc%ty_CsOOvc9sS
z&2Nl{wJ~{1*`U%S=PvU1gby}GP1H6{>$iTqFb{~@yLZ1<{h`$D#bV<-9KnSE3)a?+
z0JE6zD8M?ke+;kzQ|t|}i8j$2;1J`(vPukDgXdM2!~(6D3b4l7z7t>_16T;KfmR;V
z$0jVkTpx!RKZ`-Qe6cg|P(&UDR9S(Y$e@ch4x2qel;)~gt|+lP^ktUEJo)P|r${sb
z47!yWub3}Xt<FrB6}Rn#m3C)~rIKR}x?aWgoNCeKx-^qKT;Y>J+VQSPgB+hmk%uYM
z$z_XEv?;|}Ro0`roYEAfCJTK^)h3Pa_aK58d!(TpDR-ipa=m=cibrj$&r;jb_C#W_
zh!nV!m{IQJVKO+CrMO~hUt8^s(VREQgIKm5i`uqr?L@NqGV3>~W~X;)sHld+es%Dz
RYn$udoV@o%+U@^)zX3^4(;@%>

diff --git a/layout/reftests/fonts/markB.ttf b/layout/reftests/fonts/markB.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..f46b704bb24a25f6f4718807df5b19c4b01a7b18
GIT binary patch
literal 1528
zc%02tO=uHA6#iy^(%P!EQt{$pgMY1%bdypE5=B~#2&OGqO7S9Vk|v=^H*BM{qM)b<
z>OnyfN)eBq)E19DC@A$R^jNSry{HH4$)EVm>^7|s!J{)w-uK>{_vV|~_W}W63$8%N
zP%1T?9(elU9$+rhx@+)scYNerwiOVg)JHO9r=qv%pQyj&>dRcHS_o^?fNs!l<ekY%
zt;S3+m#8=AOVeY`(V0Q|JE-3&<eco6&PVTwW&VQ&8k+B#mzhiY_Y}(2srLK0LH#-P
zZ6!D3pn_q>H&bsZJ5v>$#9{gq)U64poV&DrXOjNMfYwxTC#$t*=;irO=sy5?H?Gds
zuMf|*CBLCn|40koBqHzXGF+QAr?dsh7aIJ*7;T|8i!<sSU{0w_8;7AR1~$vva%d__
z+KwXX=P;MWDona=sqA-rDOL~@nhXeSs%QHn`_S0&EVJ~XPq%6boMBXUeGeIh11XpE
z=)u|*>`77+N;hCBmOk4)ejD{$d$pELgw_w2tm-e&klEjc{x6&U=b>tt^&)2q@)h{T
z;(#{8t2H4yC(xaoZ!+*HJ{K~Vlk>Vph&f%FO=+HQ3W*=dc_HmR?cw(QJ?*>0V$;XP
zMQ!HiSXdjCkCY86P3Dw6)f?VXU#nvE=P~{I_ZMb|Sbh8U*OI>!yRCRy{|@^w5MaUD
zx*A{>6CMOuC-;>A8!*Mz0Grq*4hA?x`)OGvhOEI;DoSF37Mu^T#@fCaV4c-C8(;%1
zyrz#$SnOOMhiE^6ez@$|X?Q3ij{>T!z)ob)MHz?9nIKAY*G29qaXQpxl*c&v>oBHB
zGy(Lxm1(b-FI270OqUh6?Sz$fFBVHB$Le>zit9PmqRV}026-4KNu(WbTngma8bw~F
zOeL2so~KNytW_mFvdbw>QF5|yNU>T=<LkYMAjTP~Ge^pusHR*mpR?jo+d5>a<0yM0
zu~<YBY(!>+CwZ6*Ze^)lF?Fu3&c;a2o8(0-+m1zT+qN1dS?kQ&HL_{cmxi)x*y~pZ
SdtF=G_xi}~&r)vu-}?<Bo6{ly

diff --git a/layout/reftests/fonts/markC.ttf b/layout/reftests/fonts/markC.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..4657851259c967ac190d42905044b83d349f3828
GIT binary patch
literal 1528
zc%02tOK4L;6g~4kNk4vCsSCly3yQXdq%SEgp+u2ZBZ6rKrIc>uk)%mz(idJ+X$y*?
zB4|Mc-IO9OT@_ngcF~2>ZUvVG-Pw)0sVlAV%;Yt#P{E}$OzydN=AJn-?@k~99K>zt
zxROj>OARi5ehQcyj2<7l+7%m4XAS^jg#K{4<dktl|4M(Aqd$G4Vj-l>0J_0>Bj-$(
zt5q_={6N1USDYDZh|CXhzK#A|KI>$@wZHgCEctu$3^Y73Z<0&SpUjsk)2+{NpZ;t5
zEk!r&pp0wGZ=l~)a;D3;gfpCv)3+v^QubEcv9p|i324ExJ6Wl|Mi2LY#raOivvG86
ze|voWaN;|f^-V_bE*^egx1s8SIjyZoz0go=%+Xe=3m8@R0CQR~?QMpN7&stL%ciL;
z89Rqajl<j!TQE8GP_fU|toVee&}2fOvCj4f`<1Z^8L|vuK)0%Kj4~^;yM~HFzLi7H
z=>9nFuSw7o$~Rysl{K{k{5I;hy1K(A0=t__RrMR#SJ_{i{!gp^-==Dq^&)!`@)mf<
zqEnma$%2S133Mfvg9g6DmICHRVp-P+v82neDZ|UbfcTkM7Bb%58frb=-FhM<8aLP0
zwE69^kTxRkDC1X}<ZLE?Pv~fUY>BPy^ZLCXZ_GBawZ8uALv1K^hp<@x4yQ2aW5L?G
z<6{;Rp8Hs*_D?=GV2VRNHqjz_eH>u?s;m-2*5GB8C9yygrhKfiwjcOdM?V&PY@mt9
ztYH%tUv3Qt7{AD>b@^gv;GuvV@~E%^+mS{GZ45ShoG8Urvs_VRcj(J3k9qRfVNQW)
zf~D$~XS_l#U$NTL9ahY?<5tR@EfkB6HQ;(>*K;Zbm+MkY@-R*sq#SQt8f5u23Or1S
zPBv4RqD?B+in1QnWtFA~HCgCWs&;5<eh<QkvWM%+k#r|2N!QC|tysji`Yg2_ZBIBF
z4NHOhi5ccj9wz-$S&A#F_O;dC7|wc=Jcwo6(THu^)_x>AFSB}=YW91VhKg#e5LF#~
R>)Ot`w`U)Hm3Hs{-fs#j)FA)>

diff --git a/layout/reftests/fonts/markD.ttf b/layout/reftests/fonts/markD.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..7d17142f459c0df754735325098ff8814610320b
GIT binary patch
literal 1528
zc%02tO=uHA7=5!pX|1+eP%nDe;7@BIaTBQoi6XW}1k)B;O6f(GBu#=zH*8aB1wl~}
z)PsUvN)eBqiY*=sdQjS{&||?~#9p+Qc+wi*%x+VK3Lc$d^1bhy`QE&l{U#6qT5$_H
z22!b^bl=?PCxE%i=;8jslkwqfwiOT~^oKKLr-Hqq4f=06E@ZA(ErhjcKsPvV<eiC1
zy-p^WEA*T5rRlNe=uAK7_tSq=$T``K&gUPACI9IH1I>@ko8*%7M+@cZRQprhqyLKj
zzLJ}9P{9!Mo9VZdov8{g<1FVB^sRBHoV#`K(0R_k0JNrxJ5jCAqnrD`<a`(8**K1U
z|8)QA-sCsz*4G)q`$XhJ!-ng#=9IQ5^+JQ+n4>M$XECbo0p^rq`n?${VqlLvEt{sY
zWb8bmK8Lv~YA`wVK(Rmatyn`$Xfh$RtHJgM`@q=6ELnQdt6TL1Mwyk}UPDFUz{(+K
z^k5tg)+Ff(<r}b+N?&a+zm58>zu96Fq3zA3s>TiMsO;}e|F>oTYg0AMdXYT^c?-N_
z(WTAsU`>e53!F?YG#U63pAVU<$pu{_#Jn!UrVKAMg~X5Kf{^i3?cw&0Q|(8>V%Pf8
zk~XtB7S=}O6=j1;lbpNB-yJ^C7&TGb?A7mne{Jp;wdLiXEB;XG+A!Dn4#&|KV8PnD
z9bgs{o&{K^_O$>TFhyH{P3#k=0~}&}P*#Z{Yw(K7l31VxlL6LP+xG*k;{s*_Y@mh5
z^sxzxFW1K*#xJ1<E??|4JQR^f0aaFDCo(ue8;8xFAWC!94X!A$JM?9i$2|G#FsDc~
z4)nN{X|I?sRISd;2`g^f2`la1D3(f&)#G{<*K?{xm+R6@@^Fn$25HB;CJl0Y8buza
zOedEuPSU0nYgJi~>T*g`l$tD@QL46Re7_qJ#MmPZ<w&{X)s*Yyb5=ZRTW2h_9c_0c
z7K=!MJBb<QP97$LQ(1~DruMbf-Wbk#6Fi7z+p(x^+tyAbTQ9SIhiZ0umxhXJ=<ut9
SZ(ZA3_wL-ouhRbhzxNB{bJQUK

