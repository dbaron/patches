Add a set of fonts for presence testing, each of which has a single glyph at the codepoint for a capital letter A-Z.

diff --git a/layout/reftests/font-face/delete-rule-1-ref.html b/layout/reftests/font-face/delete-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/delete-rule-1.html b/layout/reftests/font-face/delete-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/delete-rule-1.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		for (var i = sheet.cssRules.length - 1; i >= 0; --i) {
+			if (sheet.cssRules[i].type == CSSRule.FONT_FACE_RULE) {
+				sheet.deleteRule(i);
+			}
+		}
+
+		document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1-ref.html b/layout/reftests/font-face/disable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1-ref.html
@@ -0,0 +1,13 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-1.html b/layout/reftests/font-face/disable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-1.html
@@ -0,0 +1,31 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2-ref.html b/layout/reftests/font-face/disable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>ADC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-2.html b/layout/reftests/font-face/disable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-2.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3-ref.html b/layout/reftests/font-face/disable-sheet-3-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkB", "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/disable-sheet-3.html b/layout/reftests/font-face/disable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/disable-sheet-3.html
@@ -0,0 +1,42 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = true;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1-notref.html b/layout/reftests/font-face/download-1-notref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1-notref.html
@@ -0,0 +1,18 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-1.html b/layout/reftests/font-face/download-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2-ref.html b/layout/reftests/font-face/download-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	body { font-family: "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>B</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/download-2.html b/layout/reftests/font-face/download-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/download-2.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>A</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1-ref.html b/layout/reftests/font-face/enable-sheet-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-1.html b/layout/reftests/font-face/enable-sheet-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-1.html
@@ -0,0 +1,33 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	body { font-family: "MarkA"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2-ref.html b/layout/reftests/font-face/enable-sheet-2-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2-ref.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-2.html b/layout/reftests/font-face/enable-sheet-2.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-2.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[0].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[0].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/enable-sheet-3.html b/layout/reftests/font-face/enable-sheet-3.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/enable-sheet-3.html
@@ -0,0 +1,44 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	document.getElementsByTagName("style")[1].disabled = true;
+
+	function run() {
+	    document.getElementsByTagName("style")[1].disabled = false;
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1-ref.html b/layout/reftests/font-face/insert-rule-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1-ref.html
@@ -0,0 +1,20 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+	@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }
+	@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }
+
+	</style>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/insert-rule-1.html b/layout/reftests/font-face/insert-rule-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/insert-rule-1.html
@@ -0,0 +1,29 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+		var sheet = document.getElementsByTagName("style")[0].sheet;
+		sheet.insertRule("@font-face { font-family: "MarkA" src: url(../fonts/markA.ttf); }", sheet.cssRules.length);
+		sheet.insertRule("@font-face { font-family: "MarkB" src: url(../fonts/markB.ttf); }", 0);
+
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1-ref.html b/layout/reftests/font-face/name-override-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBD</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/name-override-1.html b/layout/reftests/font-face/name-override-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/name-override-1.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "Foobar"
+		src: url(../fonts/markA.ttf), url(../fonts.markC.ttf);
+	}
+
+	body { font-family: "Foobar"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/reftest.list b/layout/reftests/font-face/reftest.list
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/reftest.list
@@ -0,0 +1,15 @@
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != download-1.html download-1-notref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == download-2.html download-2-ref.html
+!= download-2.html about:blank
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == name-override-1.html name-override-1-ref.html
+== enable-sheet-1.html enable-sheet-1-ref.html
+== enable-sheet-2.html enable-sheet-2-ref.html
+== enable-sheet-3.html enable-sheet-2-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") != enable-sheet-1-ref.html enable-sheet-2-ref.html
+== disable-sheet-1.html disable-sheet-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == disable-sheet-2.html disable-sheet-2-ref.html
+== disable-sheet-3.html disable-sheet-3-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-base-1.html sheet-set-base-1-ref.html
+fails-if(MOZ_WIDGET_TOOLKIT=="gtk2") == sheet-set-switch-1.html sheet-set-switch-1-ref.html
+== insert-rule-1.html insert-rule-1-ref.html
+== delete-rule-1.html delete-rule-1-ref.html
diff --git a/layout/reftests/font-face/sheet-set-base-1-ref.html b/layout/reftests/font-face/sheet-set-base-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1-ref.html
@@ -0,0 +1,26 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkD"
+		src: url(../fonts/markD.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkD"; }
+
+	</style>
+</head>
+<body>
+
+<p>DBC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-base-1.html b/layout/reftests/font-face/sheet-set-base-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-base-1.html
@@ -0,0 +1,34 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	body { font-family: "MarkA", "MarkB"; }
+
+	</style>
+</head>
+<body>
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1-ref.html b/layout/reftests/font-face/sheet-set-switch-1-ref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1-ref.html
@@ -0,0 +1,23 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+</head>
+<body>
+
+<p>ACC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/font-face/sheet-set-switch-1.html b/layout/reftests/font-face/sheet-set-switch-1.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/font-face/sheet-set-switch-1.html
@@ -0,0 +1,47 @@
+<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
+	"http://www.w3.org/TR/html4/strict.dtd">
+<html lang="en-US" class="reftest-wait">
+<head>
+	<title></title>
+	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
+	<style type="text/css" title="Set A">
+
+	@font-face {
+		font-family: "MarkA"
+		src: url(../fonts/markA.ttf);
+	}
+
+	</style>
+	<style type="text/css" title="Set B">
+
+	@font-face {
+		font-family: "MarkB"
+		src: url(../fonts/markB.ttf);
+	}
+
+	</style>
+	<style type="text/css">
+
+	@font-face {
+		font-family: "MarkC"
+		src: url(../fonts/markC.ttf);
+	}
+
+	body { font-family: "MarkA", "MarkB", "MarkC"; }
+
+	</style>
+	<script type="application/ecmascript">
+
+	function run() {
+	    document.selectedStyleSheetSet = "Set B";
+	    document.documentElement.removeAttribute("class");
+	}
+
+	</script>
+</head>
+<body onload="setTimeout(run, 20)">
+
+<p>ABC</p>
+
+</body>
+</html>
diff --git a/layout/reftests/fonts/mark-generate.py b/layout/reftests/fonts/mark-generate.py
new file mode 100755
--- /dev/null
+++ b/layout/reftests/fonts/mark-generate.py
@@ -0,0 +1,26 @@
+#!/usr/bin/python
+
+# For general fontforge documentation, see:
+#   http://fontforge.sourceforge.net/
+# For fontforge scripting documentation, see:
+#   http://fontforge.sourceforge.net/scripting-tutorial.html
+#   http://fontforge.sourceforge.net/scripting.html
+
+# To install what you need, on Ubuntu,
+#   sudo apt-get install python-fontforge
+
+import fontforge
+
+# generate a set of fonts, each with our special glyph at one codepoint,
+# and nothing else
+for codepoint in range(ord("A"), ord("D") + 1):
+    for (mark, width) in [("", 1500), ("2", 1800)]:
+        charname = chr(codepoint)
+        f = fontforge.font()
+        f.fontname = "Mark" + mark + charname
+
+        g = f.createChar(codepoint, charname)
+        g.importOutlines("mark" + mark + "-glyph.svg")
+        g.width = width
+
+        f.generate("mark" + mark + charname + ".ttf")
diff --git a/layout/reftests/fonts/mark-glyph.svg b/layout/reftests/fonts/mark-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark-glyph.svg
@@ -0,0 +1,6 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1500 1000" width="1500px" height="1000px">
+  <rect x="500" y="100" height="200" width="500" fill="black" />
+  <rect x="300" y="400" height="200" width="900" fill="black" />
+  <!-- baseline defaults to being at 800 -->
+  <rect x="100" y="700" height="200" width="1300" fill="black" />
+</svg>
diff --git a/layout/reftests/fonts/mark2-glyph.svg b/layout/reftests/fonts/mark2-glyph.svg
new file mode 100644
--- /dev/null
+++ b/layout/reftests/fonts/mark2-glyph.svg
@@ -0,0 +1,3 @@
+<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="0 0 1800 1000" width="1800px" height="1000px">
+  <polygon fill="black" points="100,100 100,800 1700,800 1700,100 1500,100 1500,600 300,600 300,100" />
+</svg>
diff --git a/layout/reftests/fonts/mark2A.ttf b/layout/reftests/fonts/mark2A.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..7aca10b63f41a6af733e3caab8a650e114fb03aa
GIT binary patch
literal 1656
zc%02tO^6gn7=6{<Gqa;>bd7=s4>iP)Rc3p7Mpo8!5NF*CF=!&F%d#YdcDrY1aQ^6N
zcU|xxh!^!BB1j|`A?L;2s~#jjXwG^R5kb&HevtK$;AVVP)3%D5<d`n1>wWM0>eW}(
zUl#;`H8=$m2g~Kd2fkQ%lmU`ok=^{|p<Lm}ioXL8le8zM8*UqG&EIL?WFMQJ4J9(h
zJYZV%TQhE_-R)8d$-}h!X6o~mxv8ry`Zv%%S@m7-k3-+xA->1Hqe>!uJ++2f%D<)B
z2v2O>gfq0S(Oy??O}nUqT4o>ZRSow<8=qk({Ufwx({1>f{`xQUUjU5D?N%r3E?}7J
z57NI4YH#d+J=t~Vo3+JfSZzKggP%vT-^Qcb?f1qFl`jnR9?sFsR7$N&zgBwvu{2}F
za|}I8aeH9*G*W$H840@1YOV9VQ9M9i7-~W?9jm>eez5YXN0kyvrtFSjO3#jCm{BGg
zRrd(ZsBey9inN5bEl8bZFWVBojed83c&R3muNGHX#V7F2%--{u{~_l8{pcEIy{NVu
z>J)g!Vw-V=drQGy6v!2qQWkzKEG858ic6+Jh(%M;2}LiZlHz%BNhp5%KxW{R?E@cW
zMEdcqTgH`@O2(K}C+S6%mI6LhLG0db>)P!<ZyGoL?ib4|<GpM?z(RcP`*1130%<&r
zFpEd5im-`~#n%zGkQSFCoWMHqV}z58f2gX$QZ;u`&r(=mJ?=-?KtG;G*u>{zAi@^b
zi_;NKK#HpoPNHAj#a;yP;UeVQW3?T{Jm35I4@iuYpG8gcW5fYkXd<hd#2h^#|89x0
z=0iOOn4ywHfeH@CK}LjZZHywvR*7OOajcCFEt{-Qek-sy@ZHe&<k5M#-<IR<Y|WEn
zZqRCGvspP;3#+o+YKG-jFyqUD?a0Au7`8`qxeD2eV(m`FZu%jmj_9>io^`#y0;y(L
z3+ui|ctCSC97ltO@70cT{HM)~vcE0a<A*VXJlhZ%hm9B9n`w^9cxmF{p?rR*;5Z}y
zmgEGvfJao*c}cCE*ZDX)CrtQ3r`Bpp$I07{<4CnH^{tLks6@jJjulFXZ-(w^wZJ>>
a1xvFAw)Co%ca8Bf?x)@7epBP?_wEZM$LJLR

diff --git a/layout/reftests/fonts/mark2B.ttf b/layout/reftests/fonts/mark2B.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..f7d092a1922f26f346a9755d170c0553d5d43557
GIT binary patch
literal 1656
zc%02tPiPcZ9RA+S>~7X3)ub)-;NdMb7-cg%yEZiqi<C88RMZM;kkC@b%xrcs`-j;v
zG0;Onyx1N}DM+Okp=UL@>LH?{;7Rl%h=?F~&{9e~2+{R>Z^u#bPkZb<-n{Sk{eJIz
zzxU=h4+20ReuRlV<?_B=yHDTG0LgF3uKi|juCV`^zZnn*XirSl-Ilr9d_;SRy)-o&
zN@R?Az_jSMrrma{)1eZQ`)Kz}&&*fmCQmi#|Csg<Rp0gg-uuT5;@j+BR7s@IrTVC)
z{OhXq@W>~h;u!6-wAaiur(9G)EwhLAs=9lmg>Cqf{!!Yp;nw}ZfyOoZe*ugWt!6vy
zoWTg!AEJLF)ZW-1-r9Wq`_;wA_`rNX2A4;(zsIB6?VrYZl`jl*AI{OtWJ;||zgBwn
zu{2}Fa|}I8abLmiYNUF^G7@wh*IGY!M{yT<VW<hobgcH8`ku<y9#u*xnX)sANj*D`
zVMdu~RNW&qqrNtZDbf<!wjgzu-E2$zHu~MU@Ip-_UoNh)icjFJnZ4^V|4Y#S`O!7Z
zdQoi))G6?c#YW>Kx0ZsvAdo9ArYt-vEF=@Ri;Jc~hy_#82}Lial47N}C=|b`KhwW{
zQ~zffk$!OHigEI3C1V^=C+S6%mI6LfLG0dD>+IDhOUC(Uy<++4csH95aXLQt?f5Oi
z0%`mcVHS^A6=4&D;=2f2NQ)B@PGF6=7~v%2@2RS=RL%XWXDKW&fIAU3(2JD_o7f@x
zBWz(n9F1@SQk;r#620OkwjzKJ7a`vstL-4>`QFKYKw_NyENYrB5eI0Zfvj#4bM%D#
zyCuq+5A_&eno1G{DmWa67!k6yFoqmkC5o-Yu{PSYY_dN24ZzmGcSGNk2j}HZTaLT4
zHBXk@pxMY~vvRH$R%N-_2+Pf2+Lr~}kweumY>nk|6|xn@+U<(n@Iy-N*K4UfXY~F)
zC)EgR;f(JQ?$TThhf$~Dd$q$H-?y1D_BSQF{0N4TXB%d;!^R8l^)$z1yfpF1a6Ug=
zaGcS9OLBr-z$2>ZyrkC7>wFxY6DItiU28U^<K%6}airRp`c{XSNQs6U94eF$-wd6j
e<llBLSei93*sWIHHO7m$OIv>WOO3DIyUzjM*yt4i

diff --git a/layout/reftests/fonts/mark2C.ttf b/layout/reftests/fonts/mark2C.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..82a70f7877169c676ddafb3617978286c081b108
GIT binary patch
literal 1656
zc%02tPiPcZ9RA+S>~2<LHE9J89^TSwqikkpH$-AsM6&79idsPvB(#)CW;VN+{ln~-
z81NuSFV%yHAWAPn&ywU?4*?bR(32jeltLjCDk6F)#BRU$b{rM0_2@j_yzlq@e((3b
z_vSYb0>CDmfr%sK^07mQum6z&lHZWs{`JvZVWQ)Y0OC09$(g#_LcjTl_A2|>%zP-3
zF%|*SqTiZz+pSKAnUFk2yJvQ8v9d6Atx5kUv`<%k*L!^Q$NR(&+4odQq<>CrVlL(X
ztXdCGZQX|NX)n><GS{4OQ3Z3EJ+wE}-BT@miM{kw6J*1!`@6Qaexd&YU|eoB+hJ!3
z!(4xW{@qY}WB>E!(7o?A7oTCHxkd)JN3vJqQSJ68<A%};1Ko#nG&7Y_>(Z|?z4}<1
zvEn&~o~5|`u)8@@J>n@6bp4=no$rp~H{^w(CM45ww%4*BseIuvO9>@Yc1AFzXU8#A
zl!->wJwh|;+oPBwEun1-QmgE$E%DpvcW3oQHj#X}xKb6Lz+095=VQKC)Q9`%8fLwy
zwh!tQc*bJ4ag{qu!Cn@~6<1Og{wgdd6Az0kra_2hQ_%@UucVS<y|^M2Kh&4$`+TVH
z(~L;3-MM32eO}2J$JI%CQKhATk5v%6ch_3F`}eAG<DXvf^!a#K%}2N%pZiz16k&lh
zo<x|%BQ`|X#18Roge|1S<p?LRMcj;VlJUQ*s<2eeUDUG_7U;*X5jN0^^$43dAo?O~
zp<kShZ~{_Xi*ORX;sL8PfDacT-yW-N8jE}%<Ub%WPJSLW&5scWXrh6vZW0Uhg#5cD
z%9;=L7+{u}Bnr&na2#Mn$kxIra%`0-wi3tMXw$OE`s8=9zyse6eNRp=%7eBXcjs%K
z9CL$aBb&|2g<4pZ<z^!+H-lMU7HmfjRKu_}n#)zlRupTuD|W*VnQB6>rF72e{p}&u
z2y5Y-?-3r-Tn#5tr{R0GlN{f*nNjvPQ+D}b3?k1q$Y_U+7u@SIM`gS;@$g_iKUi>_
zk^d7pNiN_K)wC|DbLX`lM{B~QAGB-DhIE{~?KqB9`%>TP1cj7nxWS1+3GvO)IZOU+
b_kyKa13SCb%DcvR5qE3fxkqYz_1^s#nFQz+

diff --git a/layout/reftests/fonts/mark2D.ttf b/layout/reftests/fonts/mark2D.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..4f383be97798be337a33c4b1f259712f9128945e
GIT binary patch
literal 1656
zc%02tO^6gn7=6{<)3c*%bo~Jj5^6|-tIYKDjI6B7AhJ$|MBGGB7g-WQyWO)hxbs6#
zyX%67faIbcf(WAIBIGRY-a-ToNzhvkdK3{s@RA>b9t3rKRnxYLzel^MuJ^s~tFK;F
ze_ap&R^WS>*i)_UoA~O&-7H{#Lw3X0dkdvW1ls^{fcE5c)9YZR{V(k+?BmmOkwn&5
z08ER1YsTw#dOc=>y^r?5%<MvKe(HRi{<XA^)&tM~Z|_gniEpxRt&_<7nqI+N%KvG-
z868=-9zW2&NPE?6d)h-C%w-PHUe@%Ebnpd~o>AJe<u!x+$KhY}{|FdoI_+-MTf_+0
zAEtjZ)ZW<d{Icn{?^c!{V7YmZ4E`L=olQoy+n<d~N-qrbAI{OtR9dY|zs~gHV`;`p
z<`{aG;&#C4=SUBT`$*AsT<1F3AH{7Hg`p<cnIzjw+4s~w_nD=FiYa@en9{S87%Ixf
zqv}4P8TSowOqrI@wgstG_SIJSZS=c$`B^q$KVMv_N>1Rl%HI5#?-%x=KDvfkFRE>a
zIt8Aw*le8R#?o*W1q$V*w1vM*i+1W}dC4>gv1lqfrRb%!EgqGZgyOdhWrsFy8TuqE
zGWV`tHO@V*WsL*sB>lM3(!d%O#O`0SE?#?h#klljP~3l9>8tq&7m{=T5~pJ<kiq{k
zX7Pw+F*fm;_%_BCGU7~(Q&=T_kFm}8JE|%yRdc8GEQJMD<5r9f4B}CYP3#gwF}AQ;
z9E))ZQk;*mjX`k(I}sv)hlp>V)pigIeDCHzAX&j4=FrgmIB|$JTFB`pF;7p#zgwcJ
z`ACl;W|&E$#0)OSVMau39gLyCR*Pe6Nvwk|Er)DCeiN`W47@1t<-rBH+mRJ-uHnmZ
zFKoARxtyGDM0Hthx1wr0oC##fapiD5iaKM3LXB)qu}-(<w1SAK_UpBj&RM-b-a7kR
zQ6riSe8LIMHE<YB8iC(9%<*lT8DoDnWuG5G9!0i1qg^)Ue_7_3OqM1d$rp?HlIxDX
zOC;}a>gdw1bV;4NsP(v76DEVO+i16>>lPi?b*0*u`c{W1gatX_g@;NNBsW9v82Q)T
a3zlXLZ0uJn?;7J-+#lOd{G-Mf@7<>YF6R~i

diff --git a/layout/reftests/fonts/markA.ttf b/layout/reftests/fonts/markA.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..638d8377b814270fc55e4616b7de541466b6b5f8
GIT binary patch
literal 1668
zc%02t-)mGy6#nM^*lc23U29*853|(L7&dqBu1yJHl_sVOicvug5|H+qdpEn7{lVR9
zOdbk?icozJ35X#N?LQEj;G++vT9iKf7)oD+yr>}QQ={8&X0NNEY4y<=&dhhdbLPyM
zx#tc9fDdsICXN@2C&!L1Jx&9OGTGh7PGs}rp5FtA)6~Z&t6l@!&1ckqp^Qw<L=tIZ
z4lpg+ttqeBXtfv#iSMW<r>5shNoV00?YpR7F9)9gtaq_ayh{11Od@&1{+_XveNVX>
z&8FsYh5FCbcTCqOJv4BV>yy-bs@`k^hp?aaLF%&RRfE)xtH0C!BVf!o>dmONgaPjV
zCGCAsXQP-Of13Pud*Lr^GuO!Ax53Qq&YW&7+Ox)8l`jmm8`l_jTZ@>mRi3bCb)+|&
zr5Ot!sME3;dX?h7hSQE=uZnfpH2t8XUvJOiPvnH579_em(KbatUi!volwk~;vNeba
zuJT{|Fr#!lD^V6Rmff*Wftt{|1*x-aXFJSqqsP{-ucC>>>&;bGog3IPv;S!3JNUfc
zP1i8%MfD=oE%1&-pRvHRb-`H{$QD+*EIi3CC+yY2ifIsH*;KTx=#{R7*eI+B#qUd{
zQ(x>$eU=v8YY!e63olA(<FvXZKdv+ta~tCiq(AA%x>$cPYF_^Pj=f8)KYaM|QCoC&
zA7QEU9S&hW#sb}V9%B}h=!vn3&&8P-Tj&<IVr*lFxEJFDY}O&G#8NeQQ?F83U?={F
zvBBEjh_Q*oA{Ao`JH@3K+mPa?7$?vp9^oKD1n>}X^jUppF~{);{|Sjv@-wJteuOwg
z9W`Whm$*PngfdZ4^O2rIOfix~o)KKmz4VCK8yG^Cy%hVFI=&8?)Eu$_`MtowFz}+l
zmuKhX5l4=CGZkNscwxPk$z<e(N>rA`dMzr}!>K^#9ar|2qo^^I&6dcP6zeogPA!NS
z>XhC~<vFd-mm^h+D$#V{6OL)Fg7c_S3H-`=&i{9qA<Dl)w)p|{6X!VQ>Fa_I-sUui
zWM^yQf&N^sKkvGOZ%cBVT*xb`=)9zkozwZaIwy<=VY5=NN!QIeuIoy5F7>U>@kPRz
m7oHpLyb`TTOm3?;!qTjPJ?%>6yJNiayMN%?Q#HT&2LA(*+Vlzl

diff --git a/layout/reftests/fonts/markB.ttf b/layout/reftests/fonts/markB.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..4697a7ffb119fa96d9310d0f697182da1a782c13
GIT binary patch
literal 1668
zc%02t&1+Ow6#w1#G5N4nN8&DvJ6LIy$(uJ5BOy#n8Pfrase&3pK=dW=O=d{ugE!BZ
zEDD9_#=0maAPrfx|A1{mmo8e`qMPnqhT^7>O)5yT@?-qnJI_(^tIOWYdG~jI=iGD8
zz4yEe0pLS?4HIXI#dG6d-ufp6B+6v_PoK@?CZ_#8fS9B{F;n##=00<q`mdD2%t9oQ
zGL`_-qTQPHnvGVAk&w7Vy?b_ksnqSPo~FHz`i*kn`40xx>cpFr<7E=v-`Za>ma>0T
zu11T=6<nkKGxh!R^%)Nhoa6j%>b+HOv4NBLg!U2YvgTETgDcnnqWuTJSZUOoQR^oR
zbNyqqABEZ*Ww)!(y0|aDi#_HR8T>ht{=PG&T5I;Aaa-jJ1MS8+#_iS`rfiib>_r{v
z<z{Kd!Ut-%Y=)ktxX<9UW7wNw2R2RDb@UtUQQSvX7-~YIrxWd!=x0iw`;1aR!IZ5L
zOmUX~!iO29;!%mRn6dQ7K6z?F>lUQWvYl;#ccZ_p-=0Ski5H8jtU4#~#?0Q<%>Ux_
ze{Q;lSud&=p-zEkERGth+*%i$b%9KNqszi}Zarad<~K}(5bLI*ZAEW%CB)<WhEV)a
zGL`&zD0wI)dbaM|F;<_HQpTh@BtNb+6;u6F!>NNE*%3QW#>}gaezE(+&fU9D@3lo|
zw->iM_iz#`F&5~-!x*!eL~o2u92OU1Y@tWojIoXV;`bOQV6zTcC6=ne@ANE%1rFfv
z7#pnZ$1yhXg-FKO!U3@yV;fTZ7~=$b#XX!rhyWfUetlNoG?w^1#eYI#jQj#BnlBKC
zsH29o?h;pMiBKjgYCh6qh*?IG$T5P;aey8Xdjq4$u$N-rQpeXplbS;|Ab$in5e8lq
z_;Pwlo^s@vw@~qA!3*oPbUH1sRHCvh)@xC*9?k|b=eTm997T=MOr}J(q*$j}a%w@u
zQ0MhpD$jYnzadh!s1nTwKH<3LD!7a)mB6oD=J>A7j8a|?+2)5ah%Eacy<K)bc(0~8
zDmzOP4-aOugE`k7d0&zf<U$@%Mdu}T?5xhm)j44z2%D99O}cK@aa~uceW|;e<DFsL
m3+D=*SE9Ad<lgi~Sei9(xLv7ycZ}zLe|-AQziNE>4SojeVf6|C

diff --git a/layout/reftests/fonts/markC.ttf b/layout/reftests/fonts/markC.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..7756ec6b5669a4f0f8f282b50e5b5f2ff688c34f
GIT binary patch
literal 1668
zc%02t&1)1%6#rF!Og_}r33?Db)ZoWvWzy3#8VO-mmLv`+MupWNf@quW$qZ&b=xJke
z5CqrDt_vaoHRPcGfSBOXgWxWD+=Is;UKYHlAo1eY_^X<BRMcIMR`I%i@AqE4dR6th
zAONhwS(rFbC>$K!cjMm_kSLMeu>aRgZfx9N35dhg$HpsO9X;k#>UStZ<5Q7D%9sI6
zi*{?mYt)-fMnd8^_0EaOnPR6ix1aX4)Gw3*&wtiCUn5?k>?o1wyl9_cEM?zRszlSt
zS)8YSllq#;+PH^04sw1c_3nx{UB_<xO#1+JS@kNx`YV6_L;E$rn61|uQS&DHx&C(A
zw?gfW^8CfBm&aD;Utop#m<;|NNMCJ_sph;rZQNG*!a%EWj&Zv=k0Z9q6ZW)@^l`H^
zV_~J*Et{cdDef0Itr+%_ScXm0?>hR0)+in!D-1Ou(bbOjN%RB7T|T1>W7w3<0UY5h
z|AP-RO2wlRWieyf5c}k*39Va@I?GnJ!@L{)ZQgkwO(Z@nuCi*Mz!x+7YBRsd>-%lG
zhFLGF7objoXDqfFbKF@6oCSeQezC*CliWhWUdk_;1|b$qMcayA>_~{$`9-1lZOK&f
z$8E`tDbe-#-aTXPO)+I0R%hhLm8N2@VEq2ny0$Ef<u@bdZ?A6IYsK>Y`)?n#L}&K{
zZnW=VH)dlj(1qtQW-*EG7@OEEj>gzRm$)2b8*9Yf7$;z}4p}9Zs=-Tomcjx(co<`Y
zwf#EACiaMAj4kwtb1}9d#q}5`&@CRYYC{C@5b^7?`c7bm-@W`NBu2<jp{)5K;t(}d
zk=9+}G%XQIL<P-9dJHkaND?_la5?tUBVw;(5E=Gj>|1R6I%rUH$OhzpV!?-j7X`jN
zF(dana>Sb|`*O$&Yt?i*El-!Dk}TA!QK1%21TyEivbPjP^}$T0NVce0r%`mOLBvpp
z^ja#<NxeV5G>58DIhqW7!conYaS9bGfnPqw@xL}RNclWui|<Dtvh02IcG>yheVXQ=
zY%fjR-<Qqy<y?2*|B@Ud7xIY8IxneXXLUZV&Iw~d*eKVk(si?r>$+0yOWoB;-YrJG
m@Z@m&m1v%0a$kBQEX^9&(yCOxJH~szzjprdRE;0M!S4Xp5cdcG

diff --git a/layout/reftests/fonts/markD.ttf b/layout/reftests/fonts/markD.ttf
new file mode 100644
index 0000000000000000000000000000000000000000..67daa78d3f443b37a6e4cd8d2d068c4a39cb3aa3
GIT binary patch
literal 1668
zc%02t-D^}w6#vcr%7?YOqHhYb*kUT1yLVTkA#6*D+XaiMf*M2+z2@G{E@nTtdyUD1
zP*7i5A4CFT$V2-NNE7-fRIsA&`WU1y1rgem5}*87e=~bs6+a)H;oSM1-#K&U%*?q1
z0bnhDgoy*C(xI^*uKk?`oC?{^`wwRG<3X?%5J#wwPt^P-);TNGZ%{@jrele;F$<U$
z?bf8<YPQ>q1m^_x-pQ%ia<4nTpZ1N^FIGZ7SQ%Jo5HC}9RY>$+vd=P>vVT#j#WSfn
zT%i6N_4QMY2_H=y;{0Cf{WX84iM{xm_F?L>?$^RC3zzQF{tIBtH5;wCy@(;MzmxXu
zP<x|1ToL~rUsrg9HRb~{xHX))+8xvF1$)N0uJVO}PU9TodV2v!ZIvhN86D}>W@*O4
zXKJ@>hMuLkZ{c=g*vn!SHcdb2=odSq_zO8<s0mJAH`;5_50t+P7^R4!Dci$1%2~ln
zA7+$JMkUH(CbBv4DNqwyw;*+vootJ|8~ttn@gkaVUM{Y(>Yl(`GkbS4KhEt_ZMue8
zFRGWIPJw4Ewj1-@SP$Gqfox%^$HG7PMaNz)ESUx&7EMLlieBn*#FN63Q2dTmI<;*_
zYHM2bJ-B__n15PM8%NX;1xcl;m}?k+D7~pGt77$O(LDe7cYC8)y>sW;y^iSYKF780
zJ?zC?f(82Ue}Y*|qCdeVz7)q2Y@ttFNwAIe;%0&!*sMcViKS}rvYw@|zy{n;u)*4X
zl3)|xi&TOwY!K%XY(t7)6YQX0+`}G32;n2<H(>Rh#4Nx2_)kbyw2x_2H9txmp@BLw
zx=Wm)B}Rp)r1@Bn5hfW)BF_jO#{qi8>`jay%U(`=%Uxd=Eov^=ko;G`o+$L=Fpwu_
z<vv#y{po5TNByW#&tx+4Of{~^QllQ18qs7Z^R6ccDskK#$!5!B%ZhbdWw##240Twq
zrShE8``b;b9#`Y3Fd!V$TotELqY?(y(;VNonGwpHAv^pK29aYQq_@Y;2k-SXM`U+t
z;-SG@ZZPk8!yig=oLs~ss_ML?j-Au_cseJHhf%BAs7uewxt`}qwJ&v7r+9xD^P^M6
j?kmwg$K>AjMp&9Pu&q<6e0Pi&et&-R^S^3*^$mUwk68Bz

