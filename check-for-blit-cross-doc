From: L. David Baron <dbaron@dbaron.org>

Make scrolling work inside iframe inside transformed svg:foreignObject by using GetCrossDocParentFrame for loop in check for whether we can blit.  (Bug 403443)

diff --git a/layout/generic/nsGfxScrollFrame.cpp b/layout/generic/nsGfxScrollFrame.cpp
--- a/layout/generic/nsGfxScrollFrame.cpp
+++ b/layout/generic/nsGfxScrollFrame.cpp
@@ -1590,17 +1590,17 @@ SortBlitRectsForCopy(nsIntPoint aPixDelt
     aRects->AppendElement(FlipRect(rects[i], aPixDelta));
     rects.RemoveElementAt(i);
   }
 }
 
 static PRBool
 CanScrollWithBlitting(nsIFrame* aFrame)
 {
-  for (nsIFrame* f = aFrame; f; f = f->GetParent()) {
+  for (nsIFrame* f = aFrame; f; f = nsLayoutUtils::GetCrossDocParentFrame(f)) {
     if (f->GetStyleDisplay()->HasTransform()) {
       return PR_FALSE;
     }
 #ifdef MOZ_SVG
     if (nsSVGIntegrationUtils::UsingEffectsForFrame(f) ||
         f->IsFrameOfType(nsIFrame::eSVG)) {
       return PR_FALSE;
     }
