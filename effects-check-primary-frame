From: L. David Baron <dbaron@dbaron.org>

Bug 1245075 - Fix EffectSet::GetEffectSet(nsIFrame*) only return effects when the frame is the primary frame for its content.

diff --git a/dom/animation/EffectSet.cpp b/dom/animation/EffectSet.cpp
--- a/dom/animation/EffectSet.cpp
+++ b/dom/animation/EffectSet.cpp
@@ -65,16 +65,20 @@ EffectSet::GetEffectSet(const nsIFrame* 
     } else {
       return nullptr;
     }
     content = content->GetParent();
     if (!content) {
       return nullptr;
     }
   } else {
+    if (content->GetPrimaryFrame() != aFrame) {
+      // The effects associated with the element are for its primary frame.
+      return nullptr;
+    }
     propName = nsGkAtoms::animationEffectsProperty;
   }
 
   if (!content->MayHaveAnimations()) {
     return nullptr;
   }
 
   return static_cast<EffectSet*>(content->GetProperty(propName));
