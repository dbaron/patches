From: L. David Baron <dbaron@dbaron.org>

Make mochitest print the amount of time each test takes.  (Bug 482162)

diff --git a/testing/mochitest/tests/SimpleTest/TestRunner.js b/testing/mochitest/tests/SimpleTest/TestRunner.js
--- a/testing/mochitest/tests/SimpleTest/TestRunner.js
+++ b/testing/mochitest/tests/SimpleTest/TestRunner.js
@@ -176,19 +176,22 @@ TestRunner.runNextTest = function() {
             TestRunner.onComplete();
     }
 };
 
 /**
  * This stub is called by SimpleTest when a test is finished.
 **/
 TestRunner.testFinished = function(tests) {
-    if (TestRunner.logEnabled)
-        TestRunner.logger.debug("SimpleTest finished " +
-                                TestRunner._urls[TestRunner._currentTest]);
+    if (TestRunner.logEnabled) {
+        var runtime = new Date().valueOf() - TestRunner._currentTestStartTime;
+        TestRunner.logger.log("SimpleTest finished " +
+                              TestRunner._urls[TestRunner._currentTest] +
+                              " in " + runtime + "ms");
+    }
 
     TestRunner.updateUI(tests);
     TestRunner._currentTest++;
     TestRunner.runNextTest();
 };
 
 /**
  * Get the results.
