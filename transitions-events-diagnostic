# HG changeset patch
# Parent 3c689de8ee14bb296b52018cedad6efabc932350
# User L. David Baron <dbaron@dbaron.org>
Add additional diagnostic output for diagnosing intermittent failure bug 537573.

diff --git a/layout/style/test/test_transitions_events.html b/layout/style/test/test_transitions_events.html
--- a/layout/style/test/test_transitions_events.html
+++ b/layout/style/test/test_transitions_events.html
@@ -98,17 +98,21 @@ document.documentElement.addEventListene
       is(event.propertyName, "some-unknown-prop",
          "propertyName for transitionend on body");
       // Reported time should (really?) be shortened by reversing.
       is(event.elapsedTime, -4.75,
          "elapsedTime for transitionend on body");
       got_body = true;
       finished_test();
     } else {
-      ok(false, "unexpected event");
+      ok(false,
+         "unexpected event on " + event.target.nodeName +
+         " element with id '" + event.target.id + "' " +
+         "elapsedTime=" + event.elapsedTime +
+         " propertyName='" + event.propertyName + "'");
     }
   }, false);
 
 $("one").addEventListener("transitionend",
   function(event) {
     switch (event.propertyName) {
       case "color":
         ok(!got_one_target, "transitionend on one on target");
