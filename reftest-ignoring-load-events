Fix the ignoring of load events for previous documents check so that it also works for (most) cases of the assertion check.  (Bug 477409)

diff --git a/layout/tools/reftest/reftest.js b/layout/tools/reftest/reftest.js
--- a/layout/tools/reftest/reftest.js
+++ b/layout/tools/reftest/reftest.js
@@ -537,17 +537,21 @@ function resetZoom() {
 }
     
 function OnDocumentLoad(event)
 {
     if (event.target != gBrowser.contentDocument)
         // Ignore load events for subframes.
         return;
         
-    if (gClearingForAssertionCheck) {
+    if (gClearingForAssertionCheck &&
+        // This check isn't quite foolproof since gCurrentURL could also
+        // be about:blank, but about:blank is unlikely to take a really
+        // long time to load.
+        gBrowser.contentDocument.location.href == "about:blank") {
         DoAssertionCheck();
         return;
     }
 
     if (gBrowser.contentDocument.location.href != gCurrentURL)
         // Ignore load events for previous documents.
         return;
 
