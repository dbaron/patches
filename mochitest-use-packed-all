From: L. David Baron <dbaron@dbaron.org>

Switch HTML mochitests from using MochiKit.js to packed.js.  (Bug 490955)  r=sayrer

diff --git a/browser/base/content/test/test_bug395533.html b/browser/base/content/test/test_bug395533.html
--- a/browser/base/content/test/test_bug395533.html
+++ b/browser/base/content/test/test_bug395533.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=395533
 -->
 <head>
   <title>Test for Bug 395533</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=395533">Mozilla Bug 395533</a>
 <p id="display"><iframe id="testFrame" src="bug395533-data.txt"></iframe></p>
 <div id="content" style="display: none">
   
diff --git a/browser/base/content/test/test_contextmenu.html b/browser/base/content/test/test_contextmenu.html
--- a/browser/base/content/test/test_contextmenu.html
+++ b/browser/base/content/test/test_contextmenu.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Tests for browser context menu</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Browser context menu tests.
 <p id="display"></p>
 
diff --git a/browser/base/content/test/test_feed_discovery.html b/browser/base/content/test/test_feed_discovery.html
--- a/browser/base/content/test/test_feed_discovery.html
+++ b/browser/base/content/test/test_feed_discovery.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=377611
 -->
 <head>
   <title>Test for feed discovery</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=377611">Mozilla Bug 377611</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/browser/base/content/test/test_offlineNotification.html b/browser/base/content/test/test_offlineNotification.html
--- a/browser/base/content/test/test_offlineNotification.html
+++ b/browser/base/content/test/test_offlineNotification.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=462856
 -->
 <head>
   <title>Test offline app notification</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="loaded()">
 <p id="display">
 <!-- Load the test frame twice from the same domain,
      to make sure we get notifications for both -->
 <iframe name="testFrame" src="offlineChild.html"></iframe>
diff --git a/browser/components/feeds/test/test_bug368464.html b/browser/components/feeds/test/test_bug368464.html
--- a/browser/components/feeds/test/test_bug368464.html
+++ b/browser/components/feeds/test/test_bug368464.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=368464
 -->
 <head>
   <title>Test that RSS 0.90 isn't sniffed</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=368464">Mozilla Bug 368464</a>
 <p id="display"><iframe id="testFrame" src="bug368464-data.xml"></iframe></p>
 <div id="content" style="display: none">
 
diff --git a/browser/components/feeds/test/test_bug408328.html b/browser/components/feeds/test/test_bug408328.html
--- a/browser/components/feeds/test/test_bug408328.html
+++ b/browser/components/feeds/test/test_bug408328.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=408328
 -->
 <head>
   <title>Test feed preview safe-linkification</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=408328">Mozilla Bug 408328</a>
 <p id="display"><iframe id="testFrame" src="bug408328-data.xml"></iframe></p>
 <div id="content" style="display: none">
   
diff --git a/browser/components/feeds/test/test_registerHandler.html b/browser/components/feeds/test/test_registerHandler.html
--- a/browser/components/feeds/test/test_registerHandler.html
+++ b/browser/components/feeds/test/test_registerHandler.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402788
 -->
 <head>
   <title>Test for Bug 402788</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=402788">Mozilla Bug 402788</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/caps/tests/mochitest/test_bug246699.html b/caps/tests/mochitest/test_bug246699.html
--- a/caps/tests/mochitest/test_bug246699.html
+++ b/caps/tests/mochitest/test_bug246699.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=246699
 -->
 <head>
   <title>Test for Bug 246699</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=246699">Mozilla Bug 246699</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <iframe id="load-frame"></iframe>  
diff --git a/caps/tests/mochitest/test_bug292789.html b/caps/tests/mochitest/test_bug292789.html
--- a/caps/tests/mochitest/test_bug292789.html
+++ b/caps/tests/mochitest/test_bug292789.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=292789
 -->
 <head>
   <title>Test for Bug 292789</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=292789">Mozilla Bug 292789</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <script src="chrome://global/content/strres.js"></script>
diff --git a/caps/tests/mochitest/test_bug423375.html b/caps/tests/mochitest/test_bug423375.html
--- a/caps/tests/mochitest/test_bug423375.html
+++ b/caps/tests/mochitest/test_bug423375.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=423375
 -->
 <head>
   <title>Test for Bug 423375</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=423375">Mozilla Bug 423375</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <iframe id="load-frame"></iframe>  
diff --git a/caps/tests/mochitest/test_bug470804.html b/caps/tests/mochitest/test_bug470804.html
--- a/caps/tests/mochitest/test_bug470804.html
+++ b/caps/tests/mochitest/test_bug470804.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=470804
 -->
 <head>
   <title>Test for Bug 470804</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=470804">Mozilla Bug 470804</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/base/test/test_CrossSiteXHR.html b/content/base/test/test_CrossSiteXHR.html
--- a/content/base/test/test_CrossSiteXHR.html
+++ b/content/base/test/test_CrossSiteXHR.html
@@ -1,14 +1,14 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
   <title>Test for Cross Site XMLHttpRequest</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="gen.next()">
 <p id="display">
 <iframe id=loader></iframe>
 </p>
 <div id="content" style="display: none">
diff --git a/content/base/test/test_CrossSiteXHR_cache.html b/content/base/test/test_CrossSiteXHR_cache.html
--- a/content/base/test/test_CrossSiteXHR_cache.html
+++ b/content/base/test/test_CrossSiteXHR_cache.html
@@ -1,14 +1,14 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
   <title>Test for Cross Site XMLHttpRequest</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="gen.next()">
 <p id="display">
 <iframe id=loader></iframe>
 </p>
 <div id="content" style="display: none">
diff --git a/content/base/test/test_XHR.html b/content/base/test/test_XHR.html
--- a/content/base/test/test_XHR.html
+++ b/content/base/test/test_XHR.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for XMLHttpRequest</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/base/test/test_XHRDocURI.html b/content/base/test/test_XHRDocURI.html
--- a/content/base/test/test_XHRDocURI.html
+++ b/content/base/test/test_XHRDocURI.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=459470
 -->
 <head>
   <title>XMLHttpRequest return document URIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <base href="http://example.org/">
 </head>
 <body>
 <a target="_blank"
    href="https://bugzilla.mozilla.org/show_bug.cgi?id=459470">Mozilla Bug 459470</a>
 <p id="display">
diff --git a/content/base/test/test_XHRSendData.html b/content/base/test/test_XHRSendData.html
--- a/content/base/test/test_XHRSendData.html
+++ b/content/base/test/test_XHRSendData.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=464848
 -->
 <head>
   <title>XMLHttpRequest send data and headers</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank"
    href="https://bugzilla.mozilla.org/show_bug.cgi?id=464848">Mozilla Bug 464848</a>
 <p id="display">
 </p>
diff --git a/content/base/test/test_bug199959.html b/content/base/test/test_bug199959.html
--- a/content/base/test/test_bug199959.html
+++ b/content/base/test/test_bug199959.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=199959
 -->
 <head>
   <title>Test for Bug 199959</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=199959">Mozilla Bug 199959</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug218236.html b/content/base/test/test_bug218236.html
--- a/content/base/test/test_bug218236.html
+++ b/content/base/test/test_bug218236.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=218236
 -->
 <head>
   <title>Test for Bug 218236</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=218236">Mozilla Bug 218236</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug218277.html b/content/base/test/test_bug218277.html
--- a/content/base/test/test_bug218277.html
+++ b/content/base/test/test_bug218277.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=218277
 -->
 <head>
   <title>Test for Bug 218277</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=218277">Mozilla Bug 218277</a>
 <p id="display"></p>
 <div id="content" style="display: block">
   <input id="ctrl" name="ctrl" size="20" value="keep&nbsp;together" readonly />
diff --git a/content/base/test/test_bug238409.html b/content/base/test/test_bug238409.html
--- a/content/base/test/test_bug238409.html
+++ b/content/base/test/test_bug238409.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=238409
 -->
 <head>
   <title>Test for Bug 238409</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=238409">Mozilla Bug 238409</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <table id="table_spacing0" cellspacing="0">
diff --git a/content/base/test/test_bug254337.html b/content/base/test/test_bug254337.html
--- a/content/base/test/test_bug254337.html
+++ b/content/base/test/test_bug254337.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=254337
 -->
 <head>
   <title>Test for Bug 254337</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=254337">Mozilla Bug 254337</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug276037-1.html b/content/base/test/test_bug276037-1.html
--- a/content/base/test/test_bug276037-1.html
+++ b/content/base/test/test_bug276037-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=276037
 -->
 <head>
   <title>Test for Bug 276037</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=276037">Mozilla Bug 276037</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug28293.html b/content/base/test/test_bug28293.html
--- a/content/base/test/test_bug28293.html
+++ b/content/base/test/test_bug28293.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=28293
 -->
 <head>
   <title>Test for Bug 28293</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>
 res = 'A';
 
 SimpleTest.waitForExplicitFinish();
 onload = function () {
 
diff --git a/content/base/test/test_bug298064.html b/content/base/test/test_bug298064.html
--- a/content/base/test/test_bug298064.html
+++ b/content/base/test/test_bug298064.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=298064
 -->
 <head>
   <title>Test for Bug 298064</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=298064">Mozilla Bug 298064</a>
 <p id="display"><iframe src="bug298064-subframe.html"></iframe></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug308484.html b/content/base/test/test_bug308484.html
--- a/content/base/test/test_bug308484.html
+++ b/content/base/test/test_bug308484.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=308484
 -->
 <head>
   <title>Test for Bug 308484</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=308484">Mozilla Bug 308484</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug322317.html b/content/base/test/test_bug322317.html
--- a/content/base/test/test_bug322317.html
+++ b/content/base/test/test_bug322317.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=322317
 -->
 <head>
   <title>Test for Bug 322317</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=322317">Mozilla Bug 322317</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug326337.html b/content/base/test/test_bug326337.html
--- a/content/base/test/test_bug326337.html
+++ b/content/base/test/test_bug326337.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=326337
 -->
 <head>
   <title>Test for Bug 326337</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=326337">Mozilla Bug 326337</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/base/test/test_bug333198.html b/content/base/test/test_bug333198.html
--- a/content/base/test/test_bug333198.html
+++ b/content/base/test/test_bug333198.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=333198
 -->
 <head>
   <title>Test for Bug 333198</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <iframe id="ifr"></iframe><br>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=333198">Mozilla Bug 333198</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/base/test/test_bug337631.html b/content/base/test/test_bug337631.html
--- a/content/base/test/test_bug337631.html
+++ b/content/base/test/test_bug337631.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=337631
 -->
 <head>
   <title>Test for Bug 337631</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=337631">Mozilla Bug 337631</a>
 <p id="display"></p>
 <div id="content">
   
diff --git a/content/base/test/test_bug338679.html b/content/base/test/test_bug338679.html
--- a/content/base/test/test_bug338679.html
+++ b/content/base/test/test_bug338679.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=338679
 -->
 <head>
 <title>Testcase bug 338679</title>
-<script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+<script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=338679">Mozilla Bug 338679</a>
 <div >
 <dl>
 <dt>Actual result:</dt>
diff --git a/content/base/test/test_bug339494.html b/content/base/test/test_bug339494.html
--- a/content/base/test/test_bug339494.html
+++ b/content/base/test/test_bug339494.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=339494
 -->
 <head>
   <title>Test for Bug 339494</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=339494">Mozilla Bug 339494</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="d"></div>
diff --git a/content/base/test/test_bug340571.html b/content/base/test/test_bug340571.html
--- a/content/base/test/test_bug340571.html
+++ b/content/base/test/test_bug340571.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=340571
 -->
 <head>
   <title>Test for Bug 340571</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=340571">Mozilla Bug 340571</a>
 <p id="display"></p>
 <div><select id="sel"></select></div>
 <script type="application/javascript">
diff --git a/content/base/test/test_bug343596.html b/content/base/test/test_bug343596.html
--- a/content/base/test/test_bug343596.html
+++ b/content/base/test/test_bug343596.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=343596
 -->
 <head>
   <title>Test for Bug 343596</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=343596">Mozilla Bug 343596</a>
 <p id="display"></p>
 <script id="foo"></script>
 <div id="content" style="display: none">
diff --git a/content/base/test/test_bug345339.html b/content/base/test/test_bug345339.html
--- a/content/base/test/test_bug345339.html
+++ b/content/base/test/test_bug345339.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=345339
 -->
 <head>
   <title>Test for Bug 345339</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=345339">Mozilla Bug 345339</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/base/test/test_bug352728.html b/content/base/test/test_bug352728.html
--- a/content/base/test/test_bug352728.html
+++ b/content/base/test/test_bug352728.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=352728
 -->
 <head>
   <title>Test for Bug 352728</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=352728">Mozilla Bug 352728</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug353334.html b/content/base/test/test_bug353334.html
--- a/content/base/test/test_bug353334.html
+++ b/content/base/test/test_bug353334.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=353334
 -->
 <head>
   <title>Test for Bug 353334</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>var x = "PASS"</script>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=353334">Mozilla Bug 353334</a>
 <p id="display">
 <iframe id="one"></iframe>
diff --git a/content/base/test/test_bug355026.html b/content/base/test/test_bug355026.html
--- a/content/base/test/test_bug355026.html
+++ b/content/base/test/test_bug355026.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Test from Adam Guthrie.
 
 https://bugzilla.mozilla.org/show_bug.cgi?id=355026
 -->
 <head>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 
 <body>
 <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=355026">Mozilla Bug 355026</a>
 <div style="display: none" id="lengthtest">
 </div>
diff --git a/content/base/test/test_bug357450.html b/content/base/test/test_bug357450.html
--- a/content/base/test/test_bug357450.html
+++ b/content/base/test/test_bug357450.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=357450
 -->
 
 <head>
   <title>Test for Bug 357450</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="test_bug357450.js"></script>     
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   </style>
 </head>
 
diff --git a/content/base/test/test_bug357509.html b/content/base/test/test_bug357509.html
--- a/content/base/test/test_bug357509.html
+++ b/content/base/test/test_bug357509.html
@@ -1,14 +1,14 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=357509
 -->
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script>
     function foo(elem) {
       rng = document.createRange();
       rng.setStartBefore(elem);
     }
     </script>
diff --git a/content/base/test/test_bug358660.html b/content/base/test/test_bug358660.html
--- a/content/base/test/test_bug358660.html
+++ b/content/base/test/test_bug358660.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=358660
 -->
 <head>
   <title>Test for Bug 358660</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=358660">Mozilla Bug 358660</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="testframe"
diff --git a/content/base/test/test_bug366946.html b/content/base/test/test_bug366946.html
--- a/content/base/test/test_bug366946.html
+++ b/content/base/test/test_bug366946.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=366946
 -->
 <head>
   <title>Test for Bug 366946</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=366946">Mozilla Bug 366946</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="1"></div>
diff --git a/content/base/test/test_bug367164.html b/content/base/test/test_bug367164.html
--- a/content/base/test/test_bug367164.html
+++ b/content/base/test/test_bug367164.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=367164
 -->
 <head>
   <title>Test for Bug 367164</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=367164">Mozilla Bug 367164</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug368972.html b/content/base/test/test_bug368972.html
--- a/content/base/test/test_bug368972.html
+++ b/content/base/test/test_bug368972.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=368972
 -->
 <head>
   <title>Test for Bug 368972</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <style type="text/css">
 #embed11, #object11 {
   width: 400px;
   height: 400px;
 }
 </style>
diff --git a/content/base/test/test_bug371576-1.html b/content/base/test/test_bug371576-1.html
--- a/content/base/test/test_bug371576-1.html
+++ b/content/base/test/test_bug371576-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371576
 -->
 <head id="head">
   <title>Test for Bug 371576</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=371576">Mozilla Bug 371576</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug371576-2.html b/content/base/test/test_bug371576-2.html
--- a/content/base/test/test_bug371576-2.html
+++ b/content/base/test/test_bug371576-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371576
 -->
 <head id="head">
   <title>Test for Bug 371576</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=371576">Mozilla Bug 371576</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug371576-3.html b/content/base/test/test_bug371576-3.html
--- a/content/base/test/test_bug371576-3.html
+++ b/content/base/test/test_bug371576-3.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371576
 -->
 <head id="head">
   <title>Test for Bug 371576</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=371576">Mozilla Bug 371576</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug371576-4.html b/content/base/test/test_bug371576-4.html
--- a/content/base/test/test_bug371576-4.html
+++ b/content/base/test/test_bug371576-4.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371576
 -->
 <head>
   <title>Test2 for Bug 371576</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
 <script>
 
 var _bShouldbeThere = false;
 var oScript = document.createElement('script');
 oScript.innerHTML = '_bShouldbeThere = true';
diff --git a/content/base/test/test_bug371576-5.html b/content/base/test/test_bug371576-5.html
--- a/content/base/test/test_bug371576-5.html
+++ b/content/base/test/test_bug371576-5.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371576
 -->
 <head id="head">
   <title>Test for Bug 371576</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
 <script>
 SimpleTest.waitForExplicitFinish();
 
 addLoadEvent(
   function doe(){
diff --git a/content/base/test/test_bug372086.html b/content/base/test/test_bug372086.html
--- a/content/base/test/test_bug372086.html
+++ b/content/base/test/test_bug372086.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=372086
 -->
 <head>
   <title>Test for Bug 372086</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372086">Mozilla Bug 372086</a>
 <p id="display">
   <!-- Binding is:
        <bindings xmlns="http://www.mozilla.org/xbl">
diff --git a/content/base/test/test_bug372964-2.html b/content/base/test/test_bug372964-2.html
--- a/content/base/test/test_bug372964-2.html
+++ b/content/base/test/test_bug372964-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=372964
 -->
 <head>
   <title>Test for Bug 372964</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372964">Mozilla Bug 372964</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug372964.html b/content/base/test/test_bug372964.html
--- a/content/base/test/test_bug372964.html
+++ b/content/base/test/test_bug372964.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=372964
 -->
 <head>
   <title>Test for Bug 372964</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372964">Mozilla Bug 372964</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug375314.html b/content/base/test/test_bug375314.html
--- a/content/base/test/test_bug375314.html
+++ b/content/base/test/test_bug375314.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375314
 -->
 <head>
   <title>Test for Bug 375314</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=375314">Mozilla Bug 375314</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug378969.html b/content/base/test/test_bug378969.html
--- a/content/base/test/test_bug378969.html
+++ b/content/base/test/test_bug378969.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=378969
 -->
 <head>
   <title>Test for Bug 378969</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=378969">Mozilla Bug 378969</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/base/test/test_bug380418.html b/content/base/test/test_bug380418.html
--- a/content/base/test/test_bug380418.html
+++ b/content/base/test/test_bug380418.html
@@ -1,14 +1,14 @@
 <!DOCTYPE HTML>
 <html>
 <!-- https://bugzilla.mozilla.org/show_bug.cgi?id=380418 -->
 <head>
   <title>Test for Bug 380418</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=380418">Mozilla Bug 380418</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug382113.html b/content/base/test/test_bug382113.html
--- a/content/base/test/test_bug382113.html
+++ b/content/base/test/test_bug382113.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=382113
 -->
 <head>
   <title>Test for Bug 382113</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="checkEvents()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=382113">Mozilla Bug 382113</a>
 <p id="display"></p>
 <div id="content">
   <object type="text/html" data="bug382113_object.html"
diff --git a/content/base/test/test_bug382871.html b/content/base/test/test_bug382871.html
--- a/content/base/test/test_bug382871.html
+++ b/content/base/test/test_bug382871.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=382871
 -->
 <head>
   <title>Test for Bug 382871</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=382871">Mozilla Bug 382871</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug383430.html b/content/base/test/test_bug383430.html
--- a/content/base/test/test_bug383430.html
+++ b/content/base/test/test_bug383430.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=383430
 -->
 <head>
   <title>Test for Bug 383430</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=383430">Mozilla Bug 383430</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug390219.html b/content/base/test/test_bug390219.html
--- a/content/base/test/test_bug390219.html
+++ b/content/base/test/test_bug390219.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=390219
 -->
 <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>Test for Bug 390219</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/base/test/test_bug390735.html b/content/base/test/test_bug390735.html
--- a/content/base/test/test_bug390735.html
+++ b/content/base/test/test_bug390735.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=390735
 -->
 <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>Test for Bug 390735</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/base/test/test_bug391728.html b/content/base/test/test_bug391728.html
--- a/content/base/test/test_bug391728.html
+++ b/content/base/test/test_bug391728.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391728
 -->
 <head>
   <title>Test for Bug 391728</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/PluginUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391728">Mozilla Bug 391728</a>
 <p id="display"></p>
 <div id="content">
diff --git a/content/base/test/test_bug392318.html b/content/base/test/test_bug392318.html
--- a/content/base/test/test_bug392318.html
+++ b/content/base/test/test_bug392318.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392318
 -->
 <head>
   <title>Test for Bug 392318</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script class="testbody" type="text/javascript">
   /** Test for Bug 392318 **/
   
   SimpleTest.waitForExplicitFinish();
   var testRan = false;
   
diff --git a/content/base/test/test_bug392511.html b/content/base/test/test_bug392511.html
--- a/content/base/test/test_bug392511.html
+++ b/content/base/test/test_bug392511.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392511
 -->
 <head>
   <title>Test for Bug 392511</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=392511">Mozilla Bug 392511</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="t1"><span onclick="&quot;&amp;"></span></div>  
diff --git a/content/base/test/test_bug393968.html b/content/base/test/test_bug393968.html
--- a/content/base/test/test_bug393968.html
+++ b/content/base/test/test_bug393968.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=393968
 -->
 <head>
   <title>Test for Bug 393968</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=393968">Mozilla Bug 393968</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug395915.html b/content/base/test/test_bug395915.html
--- a/content/base/test/test_bug395915.html
+++ b/content/base/test/test_bug395915.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html class="A b">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=395915
 -->
 <head>
   <title>Test for Bug 395915</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=395915">Mozilla Bug 395915</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug397234.html b/content/base/test/test_bug397234.html
--- a/content/base/test/test_bug397234.html
+++ b/content/base/test/test_bug397234.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=397234
 -->
 <head>
   <title>Test for Bug 397234</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=397234">Mozilla Bug 397234</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug398243.html b/content/base/test/test_bug398243.html
--- a/content/base/test/test_bug398243.html
+++ b/content/base/test/test_bug398243.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=398243
 -->
 <head>
   <title>Test for Bug 398243</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=398243">Mozilla Bug 398243</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/base/test/test_bug401662.html b/content/base/test/test_bug401662.html
--- a/content/base/test/test_bug401662.html
+++ b/content/base/test/test_bug401662.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=401662
 -->
 <head>
   <title>Test for Bug 401662</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=401662">Mozilla Bug 401662</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="testframe"
diff --git a/content/base/test/test_bug402150.html b/content/base/test/test_bug402150.html
--- a/content/base/test/test_bug402150.html
+++ b/content/base/test/test_bug402150.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402150
 -->
 <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>Test for Bug 402150</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/base/test/test_bug403841.html b/content/base/test/test_bug403841.html
--- a/content/base/test/test_bug403841.html
+++ b/content/base/test/test_bug403841.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=403841
 -->
 <head>
   <title>Test for Bug 403841</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=403841">Mozilla Bug 403841</a>
 <span id="content">abc</p>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/base/test/test_bug403852.html b/content/base/test/test_bug403852.html
--- a/content/base/test/test_bug403852.html
+++ b/content/base/test/test_bug403852.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=403852
 -->
   <title>Test for Bug 403852</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=403852">Mozilla Bug 403852</a>
 <p id="display">
   <input id="fileList" type="file"></input>
diff --git a/content/base/test/test_bug405182.html b/content/base/test/test_bug405182.html
--- a/content/base/test/test_bug405182.html
+++ b/content/base/test/test_bug405182.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=405182
 -->
 <head>
   <title>Test for Bug 405182</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=405182">Mozilla Bug 405182</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/base/test/test_bug409380.html b/content/base/test/test_bug409380.html
--- a/content/base/test/test_bug409380.html
+++ b/content/base/test/test_bug409380.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=409380
 -->
 <head>
   <title>Test for Bug 409380</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=409380">Mozilla Bug 409380</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug410229.html b/content/base/test/test_bug410229.html
--- a/content/base/test/test_bug410229.html
+++ b/content/base/test/test_bug410229.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=410229
 -->
 <head>
   <title>Test for Bug 410229</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=410229">Mozilla Bug 410229</a>
 <p id="display"></p>
 
diff --git a/content/base/test/test_bug413974.html b/content/base/test/test_bug413974.html
--- a/content/base/test/test_bug413974.html
+++ b/content/base/test/test_bug413974.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=413974
 -->
 <head>
   <title>Test for Bug 413974</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=413974">Mozilla Bug 413974</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug414190.html b/content/base/test/test_bug414190.html
--- a/content/base/test/test_bug414190.html
+++ b/content/base/test/test_bug414190.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=414190
 -->
 <head>
   <title>Test for Bug 414190</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=414190">Mozilla Bug 414190</a>
 <p id="display"></p>
 
diff --git a/content/base/test/test_bug414796.html b/content/base/test/test_bug414796.html
--- a/content/base/test/test_bug414796.html
+++ b/content/base/test/test_bug414796.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=414796
 -->
   <title>Test for Bug 414796</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=414796">Mozilla Bug 414796</a>
 <p id="display">
   <input id="fileList" type="file"></input>
diff --git a/content/base/test/test_bug415860.html b/content/base/test/test_bug415860.html
--- a/content/base/test/test_bug415860.html
+++ b/content/base/test/test_bug415860.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=415860
 -->
 <head>
   <title>Test for Bug 415860</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=415860">Mozilla Bug 415860</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug416317-1.html b/content/base/test/test_bug416317-1.html
--- a/content/base/test/test_bug416317-1.html
+++ b/content/base/test/test_bug416317-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=416317
 -->
 <head>
   <title>Test for Bug 416317</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>
     SimpleTest.waitForExplicitFinish();
   </script>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=416317">Mozilla Bug 416317</a>
diff --git a/content/base/test/test_bug416317-2.html b/content/base/test/test_bug416317-2.html
--- a/content/base/test/test_bug416317-2.html
+++ b/content/base/test/test_bug416317-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=416317
 -->
 <head>
   <title>Test for Bug 416317</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>
     SimpleTest.waitForExplicitFinish();
   </script>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=416317">Mozilla Bug 416317</a>
diff --git a/content/base/test/test_bug416383.html b/content/base/test/test_bug416383.html
--- a/content/base/test/test_bug416383.html
+++ b/content/base/test/test_bug416383.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=416383
 -->
 <head>
   <title>Test for Bug 416383</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=416383">Mozilla Bug 416383</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug417255.html b/content/base/test/test_bug417255.html
--- a/content/base/test/test_bug417255.html
+++ b/content/base/test/test_bug417255.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=417255
 -->
 <head>
   <title>Test for Bug 417255</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>
   .spacer { display:inline-block; height:10px; }
   </style>
 </head>
 <body>
 
diff --git a/content/base/test/test_bug417384.html b/content/base/test/test_bug417384.html
--- a/content/base/test/test_bug417384.html
+++ b/content/base/test/test_bug417384.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=417384
 -->
 <head>
   <title>Test for Bug 417384</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=417384">Mozilla Bug 417384</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug418214.html b/content/base/test/test_bug418214.html
--- a/content/base/test/test_bug418214.html
+++ b/content/base/test/test_bug418214.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=418214
 -->
 <head>
   <title>Test for Bug 418214</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=418214">Mozilla Bug 418214</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug420700.html b/content/base/test/test_bug420700.html
--- a/content/base/test/test_bug420700.html
+++ b/content/base/test/test_bug420700.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=420700
 -->
 <head>
   <title>Test for Bug 420700</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=420700">Mozilla Bug 420700</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug421602.html b/content/base/test/test_bug421602.html
--- a/content/base/test/test_bug421602.html
+++ b/content/base/test/test_bug421602.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=421602
 -->
 <head>
   <title>Test for Bug 421602</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=421602">Mozilla Bug 421602</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug422403-1.html b/content/base/test/test_bug422403-1.html
--- a/content/base/test/test_bug422403-1.html
+++ b/content/base/test/test_bug422403-1.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for XHTML serializer</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=422043">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="testframe" src="file_xhtmlserializer_1.xhtml">
diff --git a/content/base/test/test_bug422537.html b/content/base/test/test_bug422537.html
--- a/content/base/test/test_bug422537.html
+++ b/content/base/test/test_bug422537.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=422537
 -->
 <head>
   <title>Test for bug 422537</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=422537">Mozilla Bug 422537</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/base/test/test_bug424212.html b/content/base/test/test_bug424212.html
--- a/content/base/test/test_bug424212.html
+++ b/content/base/test/test_bug424212.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=424212
 -->
 <head>
   <title>Test for Bug 424212</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=424212">Mozilla Bug 424212</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug424359-1.html b/content/base/test/test_bug424359-1.html
--- a/content/base/test/test_bug424359-1.html
+++ b/content/base/test/test_bug424359-1.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for HTML serializer</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=424359">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="testframe" src="file_htmlserializer_1.html">
diff --git a/content/base/test/test_bug424359-2.html b/content/base/test/test_bug424359-2.html
--- a/content/base/test/test_bug424359-2.html
+++ b/content/base/test/test_bug424359-2.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test HTML serializer with entities</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=424359">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="testframe" src="file_htmlserializer_2.html">
diff --git a/content/base/test/test_bug425013.html b/content/base/test/test_bug425013.html
--- a/content/base/test/test_bug425013.html
+++ b/content/base/test/test_bug425013.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=425013
 -->
 <head>
   <title>Test for Bug 425013</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="runtests();">
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=425013">Mozilla Bug 425013</a>
 <br>
 
diff --git a/content/base/test/test_bug426308.html b/content/base/test/test_bug426308.html
--- a/content/base/test/test_bug426308.html
+++ b/content/base/test/test_bug426308.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=426308
 -->
 <head>
   <title>Test for Bug 426308</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426308">Mozilla Bug 426308</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug426646.html b/content/base/test/test_bug426646.html
--- a/content/base/test/test_bug426646.html
+++ b/content/base/test/test_bug426646.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=426646
 -->
 <head>
   <title>Test for Bug 426646</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426646">Mozilla Bug 426646</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug428847.html b/content/base/test/test_bug428847.html
--- a/content/base/test/test_bug428847.html
+++ b/content/base/test/test_bug428847.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=428847
 -->
 <head>
   <title>Test for Bug 428847</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="runtests();">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=428847">Mozilla Bug 428847</a>
 <script class="testbody" type="text/javascript">
 var iframe1Loaded = false;
 var iframe2Loaded = false;
diff --git a/content/base/test/test_bug429157.html b/content/base/test/test_bug429157.html
--- a/content/base/test/test_bug429157.html
+++ b/content/base/test/test_bug429157.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=429157
 -->
 <head>
   <title>Test for Bug 429157</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="runtests();">
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=429157">Mozilla Bug 429157</a>
 <br>
 
diff --git a/content/base/test/test_bug431082.html b/content/base/test/test_bug431082.html
--- a/content/base/test/test_bug431082.html
+++ b/content/base/test/test_bug431082.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=431082
 -->
 <head>
   <title>Test for Bug 431082</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=431082">Mozilla Bug 431082</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug431701.html b/content/base/test/test_bug431701.html
--- a/content/base/test/test_bug431701.html
+++ b/content/base/test/test_bug431701.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=431701
 -->
 <head>
   <title>Test for Bug 431701</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=431701">Mozilla Bug 431701</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe id="one"></iframe>
diff --git a/content/base/test/test_bug431833.html b/content/base/test/test_bug431833.html
--- a/content/base/test/test_bug431833.html
+++ b/content/base/test/test_bug431833.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=431833
 -->
 <head>
   <title>Test for Bug 431833</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>
     var loadsComplete = [];
     function test(e) {
       loadsComplete[e.target.id] = true;
     }
     window.addEventListener('DOMFrameContentLoaded',test,true);
diff --git a/content/base/test/test_bug433533.html b/content/base/test/test_bug433533.html
--- a/content/base/test/test_bug433533.html
+++ b/content/base/test/test_bug433533.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=433533
 -->
 <head>
   <title>Test for Bug 433533</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=433533">Mozilla Bug 433533</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug435425.html b/content/base/test/test_bug435425.html
--- a/content/base/test/test_bug435425.html
+++ b/content/base/test/test_bug435425.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=435425
 -->
 <head>
   <title>Test for Bug 435425</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=435425">Mozilla Bug 435425</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug438519.html b/content/base/test/test_bug438519.html
--- a/content/base/test/test_bug438519.html
+++ b/content/base/test/test_bug438519.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=438519
 -->
 <head>
   <title>Test for Bug 438519</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doTest()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=438519">Mozilla Bug 438519</a>
 <p id="display"></p>
 <div id="content" style="display:none">
 
diff --git a/content/base/test/test_bug444322.html b/content/base/test/test_bug444322.html
--- a/content/base/test/test_bug444322.html
+++ b/content/base/test/test_bug444322.html
@@ -1,15 +1,15 @@
 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
   <head>
     <title>Firefox 3 Bug #444322 example</title>
 
 <script type="text/javascript" src="444322.js"></script>
-<script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+<script type="text/javascript" src="/MochiKit/packed.js"></script>
 <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <script type="text/javascript">
 function getFile(url) {
   if (window.XMLHttpRequest) {
     AJAX=new XMLHttpRequest();
   } else {
     AJAX=new ActiveXObject("Microsoft.XMLHTTP");
diff --git a/content/base/test/test_bug444722.html b/content/base/test/test_bug444722.html
--- a/content/base/test/test_bug444722.html
+++ b/content/base/test/test_bug444722.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=444722
 -->
 <head>
   <title>Test for Bug 444722</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=444722">Mozilla Bug 444722</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug445225.html b/content/base/test/test_bug445225.html
--- a/content/base/test/test_bug445225.html
+++ b/content/base/test/test_bug445225.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445225
 -->
 <head>
   <title>Test for Bug 445225</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=445225">Mozilla Bug 445225</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug448993.html b/content/base/test/test_bug448993.html
--- a/content/base/test/test_bug448993.html
+++ b/content/base/test/test_bug448993.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448993
 -->
 <head>
   <title>Test for Bug 448993</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448993">Mozilla Bug 448993</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug450160.html b/content/base/test/test_bug450160.html
--- a/content/base/test/test_bug450160.html
+++ b/content/base/test/test_bug450160.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=450160
 -->
 <head>
   <title>Test for Bug 450160</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450160">Mozilla Bug 450160</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug451376.html b/content/base/test/test_bug451376.html
--- a/content/base/test/test_bug451376.html
+++ b/content/base/test/test_bug451376.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=451376
 -->
 <head>
   <title>Test for Bug 451376</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 
 <body onload="doTest()">
   <a target="_blank"
      title="IAccessibleText::attributes provides incorrect info after a mis-spelled word"
      href="https://bugzilla.mozilla.org/show_bug.cgi?id=451376">Mozilla Bug 451376</a>
diff --git a/content/base/test/test_bug453521.html b/content/base/test/test_bug453521.html
--- a/content/base/test/test_bug453521.html
+++ b/content/base/test/test_bug453521.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=453521
 -->
 <head>
   <title>Test for Bug 453521</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=453521">Mozilla Bug 453521</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug453736.html b/content/base/test/test_bug453736.html
--- a/content/base/test/test_bug453736.html
+++ b/content/base/test/test_bug453736.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=453736
 -->
 <head>
   <title>Test for Bug 453736</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=453736">Mozilla Bug 453736</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/base/test/test_bug454325.html b/content/base/test/test_bug454325.html
--- a/content/base/test/test_bug454325.html
+++ b/content/base/test/test_bug454325.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=454325
 -->
 <head>
   <title>Test for Bug 454325</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=454325">Mozilla Bug 454325</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug454326.html b/content/base/test/test_bug454326.html
--- a/content/base/test/test_bug454326.html
+++ b/content/base/test/test_bug454326.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=454326
 -->
 <head>
   <title>Test for Bug 454326</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=454326">Mozilla Bug 454326</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/base/test/test_bug455629.html b/content/base/test/test_bug455629.html
--- a/content/base/test/test_bug455629.html
+++ b/content/base/test/test_bug455629.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=455629
 -->
 <head>
   <title>Test for Bug 455629</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=455629">Mozilla Bug 455629</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug456262.html b/content/base/test/test_bug456262.html
--- a/content/base/test/test_bug456262.html
+++ b/content/base/test/test_bug456262.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=456262
 -->
 <head>
   <title>Test for Bug 456262</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=456262">Mozilla Bug 456262</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug457746.html b/content/base/test/test_bug457746.html
--- a/content/base/test/test_bug457746.html
+++ b/content/base/test/test_bug457746.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=457746
 -->
 <head>
   <title>Test for Bug 457746</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=457746">Mozilla Bug 457746</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug459424.html b/content/base/test/test_bug459424.html
--- a/content/base/test/test_bug459424.html
+++ b/content/base/test/test_bug459424.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=459424
 -->
 <head>
   <title>Test for Bug 459424</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=459424">Mozilla Bug 459424</a>
 <p id="display" style="mask: url(no-such-document-I-tell-you#x)"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug461555.html b/content/base/test/test_bug461555.html
--- a/content/base/test/test_bug461555.html
+++ b/content/base/test/test_bug461555.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=461555
 -->
 <head>
   <title>Test for Bug 461555</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=461555">Mozilla Bug 461555</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug461735.html b/content/base/test/test_bug461735.html
--- a/content/base/test/test_bug461735.html
+++ b/content/base/test/test_bug461735.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=461735
 -->
 <head>
   <title>Test for Bug 461735</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=461735">Mozilla Bug 461735</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug465767.html b/content/base/test/test_bug465767.html
--- a/content/base/test/test_bug465767.html
+++ b/content/base/test/test_bug465767.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=465767
 -->
 <head>
   <title>Test for Bug 465767</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=465767">Mozilla Bug 465767</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug469020.html b/content/base/test/test_bug469020.html
--- a/content/base/test/test_bug469020.html
+++ b/content/base/test/test_bug469020.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=469020
 -->
 <head>
   <title>Test for Bug 469020</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=469020">Mozilla Bug 469020</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_bug473162-1.html b/content/base/test/test_bug473162-1.html
--- a/content/base/test/test_bug473162-1.html
+++ b/content/base/test/test_bug473162-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=473162
 -->
 <head>
   <title>Test for Bug 473162</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=473162">Mozilla Bug 473162</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <span id="TEST" class="TEST"></span>  
diff --git a/content/base/test/test_bug473162-2.html b/content/base/test/test_bug473162-2.html
--- a/content/base/test/test_bug473162-2.html
+++ b/content/base/test/test_bug473162-2.html
@@ -1,16 +1,16 @@
 <!-- NOTE: THIS TEST MUST BE IN QUIRKS MODE -->
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=473162
 -->
 <head>
   <title>Test for Bug 473162</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=473162">Mozilla Bug 473162</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <span id="TEST" class="TEST"></span>  
diff --git a/content/base/test/test_bug51034.html b/content/base/test/test_bug51034.html
--- a/content/base/test/test_bug51034.html
+++ b/content/base/test/test_bug51034.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=51034
 -->
 <head>
   <title>Test for Bug 51034</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=51034">Mozilla Bug 51034</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="divElement">
diff --git a/content/base/test/test_bug5141.html b/content/base/test/test_bug5141.html
--- a/content/base/test/test_bug5141.html
+++ b/content/base/test/test_bug5141.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=5141
 -->
 <head>
   <title>Test for Bug 5141</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=5141">Mozilla Bug 5141</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/base/test/test_elementTraversal.html b/content/base/test/test_elementTraversal.html
--- a/content/base/test/test_elementTraversal.html
+++ b/content/base/test/test_elementTraversal.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=444722
 -->
 <head>
   <title>Test for the ElementTraversal spec</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="http://dev.w3.org/2006/webapi/ElementTraversal/publish/ElementTraversal.html">ElementTraversal</a>
 <div id="content" style="display: none">
 <span>span</span><div>div</div>
 <!--comment goes here-->
diff --git a/content/base/test/test_htmlcopyencoder.html b/content/base/test/test_htmlcopyencoder.html
--- a/content/base/test/test_htmlcopyencoder.html
+++ b/content/base/test/test_htmlcopyencoder.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test on the html copy encoder</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=422403">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/base/test/test_title.html b/content/base/test/test_title.html
--- a/content/base/test/test_title.html
+++ b/content/base/test/test_title.html
@@ -1,14 +1,14 @@
 <!DOCTYPE HTML>
 <html>
 
 <head>
   <title>Test for titles</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
   </style>
 </head>
 
 <body onload="runTests()">
 
diff --git a/content/base/test/test_w3element_traversal.html b/content/base/test/test_w3element_traversal.html
--- a/content/base/test/test_w3element_traversal.html
+++ b/content/base/test/test_w3element_traversal.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>W3 Tests for Element Traversal - HTML</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
   <p id="parentEl_count">
     <span id="first_element_child_count">
       <span></span> 
diff --git a/content/canvas/test/test_2d.canvas.readonly.html b/content/canvas/test/test_2d.canvas.readonly.html
--- a/content/canvas/test/test_2d.canvas.readonly.html
+++ b/content/canvas/test/test_2d.canvas.readonly.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.canvas.readonly</title>
 <!-- Testing: CanvasRenderingContext2D.canvas is readonly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.canvas.reference.html b/content/canvas/test/test_2d.canvas.reference.html
--- a/content/canvas/test/test_2d.canvas.reference.html
+++ b/content/canvas/test/test_2d.canvas.reference.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.canvas.reference</title>
 <!-- Testing: CanvasRenderingContext2D.canvas refers back to its canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.clearRect.basic.html b/content/canvas/test/test_2d.clearRect.basic.html
--- a/content/canvas/test/test_2d.clearRect.basic.html
+++ b/content/canvas/test/test_2d.clearRect.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.clip.html b/content/canvas/test/test_2d.clearRect.clip.html
--- a/content/canvas/test/test_2d.clearRect.clip.html
+++ b/content/canvas/test/test_2d.clearRect.clip.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.clip</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.globalalpha.html b/content/canvas/test/test_2d.clearRect.globalalpha.html
--- a/content/canvas/test/test_2d.clearRect.globalalpha.html
+++ b/content/canvas/test/test_2d.clearRect.globalalpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.globalalpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.globalcomposite.html b/content/canvas/test/test_2d.clearRect.globalcomposite.html
--- a/content/canvas/test/test_2d.clearRect.globalcomposite.html
+++ b/content/canvas/test/test_2d.clearRect.globalcomposite.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.globalcomposite</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.negative.html b/content/canvas/test/test_2d.clearRect.negative.html
--- a/content/canvas/test/test_2d.clearRect.negative.html
+++ b/content/canvas/test/test_2d.clearRect.negative.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.negative</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.nonfinite.html b/content/canvas/test/test_2d.clearRect.nonfinite.html
--- a/content/canvas/test/test_2d.clearRect.nonfinite.html
+++ b/content/canvas/test/test_2d.clearRect.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.nonfinite</title>
 <!-- Testing: clearRect() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.path.html b/content/canvas/test/test_2d.clearRect.path.html
--- a/content/canvas/test/test_2d.clearRect.path.html
+++ b/content/canvas/test/test_2d.clearRect.path.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.path</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.shadow.html b/content/canvas/test/test_2d.clearRect.shadow.html
--- a/content/canvas/test/test_2d.clearRect.shadow.html
+++ b/content/canvas/test/test_2d.clearRect.shadow.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.shadow</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.transform.html b/content/canvas/test/test_2d.clearRect.transform.html
--- a/content/canvas/test/test_2d.clearRect.transform.html
+++ b/content/canvas/test/test_2d.clearRect.transform.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.transform</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.clearRect.zero.html b/content/canvas/test/test_2d.clearRect.zero.html
--- a/content/canvas/test/test_2d.clearRect.zero.html
+++ b/content/canvas/test/test_2d.clearRect.zero.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.clearRect.zero</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.canvas.copy.html b/content/canvas/test/test_2d.composite.canvas.copy.html
--- a/content/canvas/test/test_2d.composite.canvas.copy.html
+++ b/content/canvas/test/test_2d.composite.canvas.copy.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.canvas.copy</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.canvas.destination-out.html b/content/canvas/test/test_2d.composite.canvas.destination-out.html
--- a/content/canvas/test/test_2d.composite.canvas.destination-out.html
+++ b/content/canvas/test/test_2d.composite.canvas.destination-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.canvas.destination-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.canvas.destination-over.html b/content/canvas/test/test_2d.composite.canvas.destination-over.html
--- a/content/canvas/test/test_2d.composite.canvas.destination-over.html
+++ b/content/canvas/test/test_2d.composite.canvas.destination-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.canvas.destination-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.canvas.source-atop.html b/content/canvas/test/test_2d.composite.canvas.source-atop.html
--- a/content/canvas/test/test_2d.composite.canvas.source-atop.html
+++ b/content/canvas/test/test_2d.composite.canvas.source-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.canvas.source-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.canvas.source-over.html b/content/canvas/test/test_2d.composite.canvas.source-over.html
--- a/content/canvas/test/test_2d.composite.canvas.source-over.html
+++ b/content/canvas/test/test_2d.composite.canvas.source-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.canvas.source-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.copy.html b/content/canvas/test/test_2d.composite.clip.copy.html
--- a/content/canvas/test/test_2d.composite.clip.copy.html
+++ b/content/canvas/test/test_2d.composite.clip.copy.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.copy</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.destination-atop.html b/content/canvas/test/test_2d.composite.clip.destination-atop.html
--- a/content/canvas/test/test_2d.composite.clip.destination-atop.html
+++ b/content/canvas/test/test_2d.composite.clip.destination-atop.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.destination-atop</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.destination-in.html b/content/canvas/test/test_2d.composite.clip.destination-in.html
--- a/content/canvas/test/test_2d.composite.clip.destination-in.html
+++ b/content/canvas/test/test_2d.composite.clip.destination-in.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.destination-in</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.destination-out.html b/content/canvas/test/test_2d.composite.clip.destination-out.html
--- a/content/canvas/test/test_2d.composite.clip.destination-out.html
+++ b/content/canvas/test/test_2d.composite.clip.destination-out.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.destination-out</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.destination-over.html b/content/canvas/test/test_2d.composite.clip.destination-over.html
--- a/content/canvas/test/test_2d.composite.clip.destination-over.html
+++ b/content/canvas/test/test_2d.composite.clip.destination-over.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.destination-over</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.source-atop.html b/content/canvas/test/test_2d.composite.clip.source-atop.html
--- a/content/canvas/test/test_2d.composite.clip.source-atop.html
+++ b/content/canvas/test/test_2d.composite.clip.source-atop.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.source-atop</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.source-in.html b/content/canvas/test/test_2d.composite.clip.source-in.html
--- a/content/canvas/test/test_2d.composite.clip.source-in.html
+++ b/content/canvas/test/test_2d.composite.clip.source-in.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.source-in</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.source-out.html b/content/canvas/test/test_2d.composite.clip.source-out.html
--- a/content/canvas/test/test_2d.composite.clip.source-out.html
+++ b/content/canvas/test/test_2d.composite.clip.source-out.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.source-out</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.clip.source-over.html b/content/canvas/test/test_2d.composite.clip.source-over.html
--- a/content/canvas/test/test_2d.composite.clip.source-over.html
+++ b/content/canvas/test/test_2d.composite.clip.source-over.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.clip.source-over</title>
 <!-- Testing: fill() does not affect pixels outside the clip region. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.canvas.html b/content/canvas/test/test_2d.composite.globalAlpha.canvas.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.canvas.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.canvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.canvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.canvaspattern.html b/content/canvas/test/test_2d.composite.globalAlpha.canvaspattern.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.canvaspattern.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.canvaspattern.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.canvaspattern - bug 401790</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.default.html b/content/canvas/test/test_2d.composite.globalAlpha.default.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.default.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.default.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.default</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.fill.html b/content/canvas/test/test_2d.composite.globalAlpha.fill.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.fill.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.fill.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.fill</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.image.html b/content/canvas/test/test_2d.composite.globalAlpha.image.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.image.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.image.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.image</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.imagepattern.html b/content/canvas/test/test_2d.composite.globalAlpha.imagepattern.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.imagepattern.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.imagepattern.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.imagepattern - bug 401790</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.invalid.html b/content/canvas/test/test_2d.composite.globalAlpha.invalid.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.invalid.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.invalid.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.invalid</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.globalAlpha.range.html b/content/canvas/test/test_2d.composite.globalAlpha.range.html
--- a/content/canvas/test/test_2d.composite.globalAlpha.range.html
+++ b/content/canvas/test/test_2d.composite.globalAlpha.range.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.globalAlpha.range</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.image.copy.html b/content/canvas/test/test_2d.composite.image.copy.html
--- a/content/canvas/test/test_2d.composite.image.copy.html
+++ b/content/canvas/test/test_2d.composite.image.copy.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.image.copy</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.image.destination-out.html b/content/canvas/test/test_2d.composite.image.destination-out.html
--- a/content/canvas/test/test_2d.composite.image.destination-out.html
+++ b/content/canvas/test/test_2d.composite.image.destination-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.image.destination-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.image.destination-over.html b/content/canvas/test/test_2d.composite.image.destination-over.html
--- a/content/canvas/test/test_2d.composite.image.destination-over.html
+++ b/content/canvas/test/test_2d.composite.image.destination-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.image.destination-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.image.source-atop.html b/content/canvas/test/test_2d.composite.image.source-atop.html
--- a/content/canvas/test/test_2d.composite.image.source-atop.html
+++ b/content/canvas/test/test_2d.composite.image.source-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.image.source-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.image.source-over.html b/content/canvas/test/test_2d.composite.image.source-over.html
--- a/content/canvas/test/test_2d.composite.image.source-over.html
+++ b/content/canvas/test/test_2d.composite.image.source-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.image.source-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.operation.casesensitive.html b/content/canvas/test/test_2d.composite.operation.casesensitive.html
--- a/content/canvas/test/test_2d.composite.operation.casesensitive.html
+++ b/content/canvas/test/test_2d.composite.operation.casesensitive.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.casesensitive - bug 401788</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.clear.html b/content/canvas/test/test_2d.composite.operation.clear.html
--- a/content/canvas/test/test_2d.composite.operation.clear.html
+++ b/content/canvas/test/test_2d.composite.operation.clear.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.clear</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.darker.html b/content/canvas/test/test_2d.composite.operation.darker.html
--- a/content/canvas/test/test_2d.composite.operation.darker.html
+++ b/content/canvas/test/test_2d.composite.operation.darker.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.darker</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.default.html b/content/canvas/test/test_2d.composite.operation.default.html
--- a/content/canvas/test/test_2d.composite.operation.default.html
+++ b/content/canvas/test/test_2d.composite.operation.default.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.default</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.get.html b/content/canvas/test/test_2d.composite.operation.get.html
--- a/content/canvas/test/test_2d.composite.operation.get.html
+++ b/content/canvas/test/test_2d.composite.operation.get.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.get</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.highlight.html b/content/canvas/test/test_2d.composite.operation.highlight.html
--- a/content/canvas/test/test_2d.composite.operation.highlight.html
+++ b/content/canvas/test/test_2d.composite.operation.highlight.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.highlight - bug 401788</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.nullsuffix.html b/content/canvas/test/test_2d.composite.operation.nullsuffix.html
--- a/content/canvas/test/test_2d.composite.operation.nullsuffix.html
+++ b/content/canvas/test/test_2d.composite.operation.nullsuffix.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.nullsuffix - bug 401788</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.over.html b/content/canvas/test/test_2d.composite.operation.over.html
--- a/content/canvas/test/test_2d.composite.operation.over.html
+++ b/content/canvas/test/test_2d.composite.operation.over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.operation.unrecognised.html b/content/canvas/test/test_2d.composite.operation.unrecognised.html
--- a/content/canvas/test/test_2d.composite.operation.unrecognised.html
+++ b/content/canvas/test/test_2d.composite.operation.unrecognised.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.operation.unrecognised - bug 401788</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.composite.solid.copy.html b/content/canvas/test/test_2d.composite.solid.copy.html
--- a/content/canvas/test/test_2d.composite.solid.copy.html
+++ b/content/canvas/test/test_2d.composite.solid.copy.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.copy</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.destination-atop.html b/content/canvas/test/test_2d.composite.solid.destination-atop.html
--- a/content/canvas/test/test_2d.composite.solid.destination-atop.html
+++ b/content/canvas/test/test_2d.composite.solid.destination-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.destination-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.destination-in.html b/content/canvas/test/test_2d.composite.solid.destination-in.html
--- a/content/canvas/test/test_2d.composite.solid.destination-in.html
+++ b/content/canvas/test/test_2d.composite.solid.destination-in.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.destination-in</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.destination-out.html b/content/canvas/test/test_2d.composite.solid.destination-out.html
--- a/content/canvas/test/test_2d.composite.solid.destination-out.html
+++ b/content/canvas/test/test_2d.composite.solid.destination-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.destination-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.destination-over.html b/content/canvas/test/test_2d.composite.solid.destination-over.html
--- a/content/canvas/test/test_2d.composite.solid.destination-over.html
+++ b/content/canvas/test/test_2d.composite.solid.destination-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.destination-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.source-atop.html b/content/canvas/test/test_2d.composite.solid.source-atop.html
--- a/content/canvas/test/test_2d.composite.solid.source-atop.html
+++ b/content/canvas/test/test_2d.composite.solid.source-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.source-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.source-in.html b/content/canvas/test/test_2d.composite.solid.source-in.html
--- a/content/canvas/test/test_2d.composite.solid.source-in.html
+++ b/content/canvas/test/test_2d.composite.solid.source-in.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.source-in</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.source-out.html b/content/canvas/test/test_2d.composite.solid.source-out.html
--- a/content/canvas/test/test_2d.composite.solid.source-out.html
+++ b/content/canvas/test/test_2d.composite.solid.source-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.source-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.solid.source-over.html b/content/canvas/test/test_2d.composite.solid.source-over.html
--- a/content/canvas/test/test_2d.composite.solid.source-over.html
+++ b/content/canvas/test/test_2d.composite.solid.source-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.solid.source-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.copy.html b/content/canvas/test/test_2d.composite.transparent.copy.html
--- a/content/canvas/test/test_2d.composite.transparent.copy.html
+++ b/content/canvas/test/test_2d.composite.transparent.copy.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.copy</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.destination-atop.html b/content/canvas/test/test_2d.composite.transparent.destination-atop.html
--- a/content/canvas/test/test_2d.composite.transparent.destination-atop.html
+++ b/content/canvas/test/test_2d.composite.transparent.destination-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.destination-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.destination-in.html b/content/canvas/test/test_2d.composite.transparent.destination-in.html
--- a/content/canvas/test/test_2d.composite.transparent.destination-in.html
+++ b/content/canvas/test/test_2d.composite.transparent.destination-in.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.destination-in</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.destination-out.html b/content/canvas/test/test_2d.composite.transparent.destination-out.html
--- a/content/canvas/test/test_2d.composite.transparent.destination-out.html
+++ b/content/canvas/test/test_2d.composite.transparent.destination-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.destination-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.destination-over.html b/content/canvas/test/test_2d.composite.transparent.destination-over.html
--- a/content/canvas/test/test_2d.composite.transparent.destination-over.html
+++ b/content/canvas/test/test_2d.composite.transparent.destination-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.destination-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.source-atop.html b/content/canvas/test/test_2d.composite.transparent.source-atop.html
--- a/content/canvas/test/test_2d.composite.transparent.source-atop.html
+++ b/content/canvas/test/test_2d.composite.transparent.source-atop.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.source-atop</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.source-in.html b/content/canvas/test/test_2d.composite.transparent.source-in.html
--- a/content/canvas/test/test_2d.composite.transparent.source-in.html
+++ b/content/canvas/test/test_2d.composite.transparent.source-in.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.source-in</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.source-out.html b/content/canvas/test/test_2d.composite.transparent.source-out.html
--- a/content/canvas/test/test_2d.composite.transparent.source-out.html
+++ b/content/canvas/test/test_2d.composite.transparent.source-out.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.source-out</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.transparent.source-over.html b/content/canvas/test/test_2d.composite.transparent.source-over.html
--- a/content/canvas/test/test_2d.composite.transparent.source-over.html
+++ b/content/canvas/test/test_2d.composite.transparent.source-over.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.transparent.source-over</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.fill.copy.html b/content/canvas/test/test_2d.composite.uncovered.fill.copy.html
--- a/content/canvas/test/test_2d.composite.uncovered.fill.copy.html
+++ b/content/canvas/test/test_2d.composite.uncovered.fill.copy.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.fill.copy</title>
 <!-- Testing: fill() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.image.copy.html b/content/canvas/test/test_2d.composite.uncovered.image.copy.html
--- a/content/canvas/test/test_2d.composite.uncovered.image.copy.html
+++ b/content/canvas/test/test_2d.composite.uncovered.image.copy.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.image.copy</title>
 <!-- Testing: drawImage() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.image.destination-atop.html b/content/canvas/test/test_2d.composite.uncovered.image.destination-atop.html
--- a/content/canvas/test/test_2d.composite.uncovered.image.destination-atop.html
+++ b/content/canvas/test/test_2d.composite.uncovered.image.destination-atop.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.image.destination-atop</title>
 <!-- Testing: drawImage() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.image.destination-in.html b/content/canvas/test/test_2d.composite.uncovered.image.destination-in.html
--- a/content/canvas/test/test_2d.composite.uncovered.image.destination-in.html
+++ b/content/canvas/test/test_2d.composite.uncovered.image.destination-in.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.image.destination-in</title>
 <!-- Testing: drawImage() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.image.source-in.html b/content/canvas/test/test_2d.composite.uncovered.image.source-in.html
--- a/content/canvas/test/test_2d.composite.uncovered.image.source-in.html
+++ b/content/canvas/test/test_2d.composite.uncovered.image.source-in.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.image.source-in</title>
 <!-- Testing: drawImage() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.image.source-out.html b/content/canvas/test/test_2d.composite.uncovered.image.source-out.html
--- a/content/canvas/test/test_2d.composite.uncovered.image.source-out.html
+++ b/content/canvas/test/test_2d.composite.uncovered.image.source-out.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.image.source-out</title>
 <!-- Testing: drawImage() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.composite.uncovered.pattern.copy.html b/content/canvas/test/test_2d.composite.uncovered.pattern.copy.html
--- a/content/canvas/test/test_2d.composite.uncovered.pattern.copy.html
+++ b/content/canvas/test/test_2d.composite.uncovered.pattern.copy.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.composite.uncovered.pattern.copy</title>
 <!-- Testing: Pattern fill() draws pixels not covered by the source object as (0,0,0,0), and does not leave the pixels unchanged. -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.3arg.html b/content/canvas/test/test_2d.drawImage.3arg.html
--- a/content/canvas/test/test_2d.drawImage.3arg.html
+++ b/content/canvas/test/test_2d.drawImage.3arg.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.3arg</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.5arg.html b/content/canvas/test/test_2d.drawImage.5arg.html
--- a/content/canvas/test/test_2d.drawImage.5arg.html
+++ b/content/canvas/test/test_2d.drawImage.5arg.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.5arg</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.9arg.basic.html b/content/canvas/test/test_2d.drawImage.9arg.basic.html
--- a/content/canvas/test/test_2d.drawImage.9arg.basic.html
+++ b/content/canvas/test/test_2d.drawImage.9arg.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.9arg.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.9arg.destpos.html b/content/canvas/test/test_2d.drawImage.9arg.destpos.html
--- a/content/canvas/test/test_2d.drawImage.9arg.destpos.html
+++ b/content/canvas/test/test_2d.drawImage.9arg.destpos.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.9arg.destpos</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.9arg.destsize.html b/content/canvas/test/test_2d.drawImage.9arg.destsize.html
--- a/content/canvas/test/test_2d.drawImage.9arg.destsize.html
+++ b/content/canvas/test/test_2d.drawImage.9arg.destsize.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.9arg.destsize</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.9arg.sourcepos.html b/content/canvas/test/test_2d.drawImage.9arg.sourcepos.html
--- a/content/canvas/test/test_2d.drawImage.9arg.sourcepos.html
+++ b/content/canvas/test/test_2d.drawImage.9arg.sourcepos.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.9arg.sourcepos</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.9arg.sourcesize.html b/content/canvas/test/test_2d.drawImage.9arg.sourcesize.html
--- a/content/canvas/test/test_2d.drawImage.9arg.sourcesize.html
+++ b/content/canvas/test/test_2d.drawImage.9arg.sourcesize.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.9arg.sourcesize</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.alpha.html b/content/canvas/test/test_2d.drawImage.alpha.html
--- a/content/canvas/test/test_2d.drawImage.alpha.html
+++ b/content/canvas/test/test_2d.drawImage.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.animated.apng.html b/content/canvas/test/test_2d.drawImage.animated.apng.html
--- a/content/canvas/test/test_2d.drawImage.animated.apng.html
+++ b/content/canvas/test/test_2d.drawImage.animated.apng.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.animated.apng</title>
 <!-- Testing: drawImage() of an APNG with no poster frame draws the first frame -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.animated.gif.html b/content/canvas/test/test_2d.drawImage.animated.gif.html
--- a/content/canvas/test/test_2d.drawImage.animated.gif.html
+++ b/content/canvas/test/test_2d.drawImage.animated.gif.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.animated.gif</title>
 <!-- Testing: drawImage() of an animated GIF draws the first frame -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.animated.poster.html b/content/canvas/test/test_2d.drawImage.animated.poster.html
--- a/content/canvas/test/test_2d.drawImage.animated.poster.html
+++ b/content/canvas/test/test_2d.drawImage.animated.poster.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.animated.poster</title>
 <!-- Testing: drawImage() of an APNG draws the poster frame -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.broken.html b/content/canvas/test/test_2d.drawImage.broken.html
--- a/content/canvas/test/test_2d.drawImage.broken.html
+++ b/content/canvas/test/test_2d.drawImage.broken.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.broken</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.drawImage.canvas.html b/content/canvas/test/test_2d.drawImage.canvas.html
--- a/content/canvas/test/test_2d.drawImage.canvas.html
+++ b/content/canvas/test/test_2d.drawImage.canvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.canvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.clip.html b/content/canvas/test/test_2d.drawImage.clip.html
--- a/content/canvas/test/test_2d.drawImage.clip.html
+++ b/content/canvas/test/test_2d.drawImage.clip.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.clip</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.composite.html b/content/canvas/test/test_2d.drawImage.composite.html
--- a/content/canvas/test/test_2d.drawImage.composite.html
+++ b/content/canvas/test/test_2d.drawImage.composite.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.composite</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.floatsource.html b/content/canvas/test/test_2d.drawImage.floatsource.html
--- a/content/canvas/test/test_2d.drawImage.floatsource.html
+++ b/content/canvas/test/test_2d.drawImage.floatsource.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.floatsource</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.incomplete.html b/content/canvas/test/test_2d.drawImage.incomplete.html
--- a/content/canvas/test/test_2d.drawImage.incomplete.html
+++ b/content/canvas/test/test_2d.drawImage.incomplete.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.incomplete</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.drawImage.negativedest.html b/content/canvas/test/test_2d.drawImage.negativedest.html
--- a/content/canvas/test/test_2d.drawImage.negativedest.html
+++ b/content/canvas/test/test_2d.drawImage.negativedest.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.negativedest</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.negativesource.html b/content/canvas/test/test_2d.drawImage.negativesource.html
--- a/content/canvas/test/test_2d.drawImage.negativesource.html
+++ b/content/canvas/test/test_2d.drawImage.negativesource.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.negativesource</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.nonfinite.html b/content/canvas/test/test_2d.drawImage.nonfinite.html
--- a/content/canvas/test/test_2d.drawImage.nonfinite.html
+++ b/content/canvas/test/test_2d.drawImage.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.nonfinite</title>
 <!-- Testing: drawImage() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.nowrap.html b/content/canvas/test/test_2d.drawImage.nowrap.html
--- a/content/canvas/test/test_2d.drawImage.nowrap.html
+++ b/content/canvas/test/test_2d.drawImage.nowrap.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.nowrap</title>
 <!-- Testing: Stretched images do not get pixels wrapping around the edges -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.null.html b/content/canvas/test/test_2d.drawImage.null.html
--- a/content/canvas/test/test_2d.drawImage.null.html
+++ b/content/canvas/test/test_2d.drawImage.null.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.null</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.drawImage.outsidesource.html b/content/canvas/test/test_2d.drawImage.outsidesource.html
--- a/content/canvas/test/test_2d.drawImage.outsidesource.html
+++ b/content/canvas/test/test_2d.drawImage.outsidesource.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.outsidesource</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.path.html b/content/canvas/test/test_2d.drawImage.path.html
--- a/content/canvas/test/test_2d.drawImage.path.html
+++ b/content/canvas/test/test_2d.drawImage.path.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.path</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.self.1.html b/content/canvas/test/test_2d.drawImage.self.1.html
--- a/content/canvas/test/test_2d.drawImage.self.1.html
+++ b/content/canvas/test/test_2d.drawImage.self.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.self.1 - bug 433235</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.self.2.html b/content/canvas/test/test_2d.drawImage.self.2.html
--- a/content/canvas/test/test_2d.drawImage.self.2.html
+++ b/content/canvas/test/test_2d.drawImage.self.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.self.2 - bug 433235</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.transform.html b/content/canvas/test/test_2d.drawImage.transform.html
--- a/content/canvas/test/test_2d.drawImage.transform.html
+++ b/content/canvas/test/test_2d.drawImage.transform.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.transform</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.drawImage.wrongtype.html b/content/canvas/test/test_2d.drawImage.wrongtype.html
--- a/content/canvas/test/test_2d.drawImage.wrongtype.html
+++ b/content/canvas/test/test_2d.drawImage.wrongtype.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.wrongtype</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.drawImage.zerosource.html b/content/canvas/test/test_2d.drawImage.zerosource.html
--- a/content/canvas/test/test_2d.drawImage.zerosource.html
+++ b/content/canvas/test/test_2d.drawImage.zerosource.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.drawImage.zerosource</title>
 <!-- Testing: drawImage with zero-sized source rectangle throws INDEX_SIZE_ERR -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.basic.html b/content/canvas/test/test_2d.fillRect.basic.html
--- a/content/canvas/test/test_2d.fillRect.basic.html
+++ b/content/canvas/test/test_2d.fillRect.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.clip.html b/content/canvas/test/test_2d.fillRect.clip.html
--- a/content/canvas/test/test_2d.fillRect.clip.html
+++ b/content/canvas/test/test_2d.fillRect.clip.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.clip</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.negative.html b/content/canvas/test/test_2d.fillRect.negative.html
--- a/content/canvas/test/test_2d.fillRect.negative.html
+++ b/content/canvas/test/test_2d.fillRect.negative.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.negative</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.nonfinite.html b/content/canvas/test/test_2d.fillRect.nonfinite.html
--- a/content/canvas/test/test_2d.fillRect.nonfinite.html
+++ b/content/canvas/test/test_2d.fillRect.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.nonfinite</title>
 <!-- Testing: fillRect() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.path.html b/content/canvas/test/test_2d.fillRect.path.html
--- a/content/canvas/test/test_2d.fillRect.path.html
+++ b/content/canvas/test/test_2d.fillRect.path.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.path</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.shadow.html b/content/canvas/test/test_2d.fillRect.shadow.html
--- a/content/canvas/test/test_2d.fillRect.shadow.html
+++ b/content/canvas/test/test_2d.fillRect.shadow.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.shadow</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.transform.html b/content/canvas/test/test_2d.fillRect.transform.html
--- a/content/canvas/test/test_2d.fillRect.transform.html
+++ b/content/canvas/test/test_2d.fillRect.transform.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.transform</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillRect.zero.html b/content/canvas/test/test_2d.fillRect.zero.html
--- a/content/canvas/test/test_2d.fillRect.zero.html
+++ b/content/canvas/test/test_2d.fillRect.zero.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillRect.zero</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.default.html b/content/canvas/test/test_2d.fillStyle.default.html
--- a/content/canvas/test/test_2d.fillStyle.default.html
+++ b/content/canvas/test/test_2d.fillStyle.default.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.default</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.fillStyle.get.semitransparent.html b/content/canvas/test/test_2d.fillStyle.get.semitransparent.html
--- a/content/canvas/test/test_2d.fillStyle.get.semitransparent.html
+++ b/content/canvas/test/test_2d.fillStyle.get.semitransparent.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.get.semitransparent</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.fillStyle.get.solid.html b/content/canvas/test/test_2d.fillStyle.get.solid.html
--- a/content/canvas/test/test_2d.fillStyle.get.solid.html
+++ b/content/canvas/test/test_2d.fillStyle.get.solid.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.get.solid</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.fillStyle.get.transparent.html b/content/canvas/test/test_2d.fillStyle.get.transparent.html
--- a/content/canvas/test/test_2d.fillStyle.get.transparent.html
+++ b/content/canvas/test/test_2d.fillStyle.get.transparent.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.get.transparent</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.fillStyle.invalidstring.html b/content/canvas/test/test_2d.fillStyle.invalidstring.html
--- a/content/canvas/test/test_2d.fillStyle.invalidstring.html
+++ b/content/canvas/test/test_2d.fillStyle.invalidstring.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.invalidstring</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.invalidtype.html b/content/canvas/test/test_2d.fillStyle.invalidtype.html
--- a/content/canvas/test/test_2d.fillStyle.invalidtype.html
+++ b/content/canvas/test/test_2d.fillStyle.invalidtype.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.invalidtype</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.current.basic.html b/content/canvas/test/test_2d.fillStyle.parse.current.basic.html
--- a/content/canvas/test/test_2d.fillStyle.parse.current.basic.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.current.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.current.basic</title>
 <!-- Testing: currentColor is computed from the canvas element -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.current.changed.html b/content/canvas/test/test_2d.fillStyle.parse.current.changed.html
--- a/content/canvas/test/test_2d.fillStyle.parse.current.changed.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.current.changed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.current.changed</title>
 <!-- Testing: currentColor is computed when the attribute is set, not when it is painted -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.current.removed.html b/content/canvas/test/test_2d.fillStyle.parse.current.removed.html
--- a/content/canvas/test/test_2d.fillStyle.parse.current.removed.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.current.removed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.current.removed</title>
 <!-- Testing: currentColor is solid black when the canvas element is not in a document -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hex3.html b/content/canvas/test/test_2d.fillStyle.parse.hex3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hex3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hex3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hex3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hex6.html b/content/canvas/test/test_2d.fillStyle.parse.hex6.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hex6.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hex6.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hex6</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-1.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-2.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-3.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-4.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-5.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-1.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-clamp-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-2.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-clamp-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-3.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-clamp-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-4.html b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsl-clamp-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsl-clamp-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-1.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-2.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-1.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-2.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-3.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-4.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-5.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-6.html b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-6.html
--- a/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-6.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.hsla-clamp-6.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.hsla-clamp-6</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.html4.html b/content/canvas/test/test_2d.fillStyle.parse.html4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.html4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.html4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.html4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hex3.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hex3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hex3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hex3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hex3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hex6.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hex6.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hex6.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hex6.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hex6</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-1.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsl-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-2.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsl-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-3.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsl-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-4.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsl-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-5.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsl-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsl-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-1.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsla-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-2.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.hsla-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.hsla-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-1.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-2.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-3.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-4.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-5.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-6.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-6.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-6.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-6.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-6</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-7.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-7.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-7.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgb-7.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgb-7</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-1.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgba-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-2.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgba-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-3.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgba-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-4.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgba-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-5.html b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.invalid.rgba-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.invalid.rgba-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-1.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-clamp-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-2.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-clamp-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-3.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-3.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-3.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-clamp-3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-4.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-4.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-4.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-clamp-4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-5.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-5.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-5.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-clamp-5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-clamp-5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-num.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-num.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-num.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-num.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-num</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgb-percent.html b/content/canvas/test/test_2d.fillStyle.parse.rgb-percent.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgb-percent.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgb-percent.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgb-percent</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-1.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-clamp-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-2.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-clamp-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-clamp-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-num-1.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-num-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-num-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-num-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-num-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-num-2.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-num-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-num-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-num-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-num-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-percent.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-percent.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-percent.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-percent.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-percent</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-1.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-solid-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-2.html b/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.rgba-solid-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.rgba-solid-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.svg-1.html b/content/canvas/test/test_2d.fillStyle.parse.svg-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.svg-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.svg-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.svg-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.svg-2.html b/content/canvas/test/test_2d.fillStyle.parse.svg-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.svg-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.svg-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.svg-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.system.html b/content/canvas/test/test_2d.fillStyle.parse.system.html
--- a/content/canvas/test/test_2d.fillStyle.parse.system.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.system.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.system</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.fillStyle.parse.transparent-1.html b/content/canvas/test/test_2d.fillStyle.parse.transparent-1.html
--- a/content/canvas/test/test_2d.fillStyle.parse.transparent-1.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.transparent-1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.transparent-1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.fillStyle.parse.transparent-2.html b/content/canvas/test/test_2d.fillStyle.parse.transparent-2.html
--- a/content/canvas/test/test_2d.fillStyle.parse.transparent-2.html
+++ b/content/canvas/test/test_2d.fillStyle.parse.transparent-2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.fillStyle.parse.transparent-2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.getcontext.exists.html b/content/canvas/test/test_2d.getcontext.exists.html
--- a/content/canvas/test/test_2d.getcontext.exists.html
+++ b/content/canvas/test/test_2d.getcontext.exists.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.getcontext.exists</title>
 <!-- Testing: The 2D context is implemented -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.getcontext.shared.html b/content/canvas/test/test_2d.getcontext.shared.html
--- a/content/canvas/test/test_2d.getcontext.shared.html
+++ b/content/canvas/test/test_2d.getcontext.shared.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.getcontext.shared</title>
 <!-- Testing: getContext('2d') returns objects which share canvas state -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.getcontext.unique.html b/content/canvas/test/test_2d.getcontext.unique.html
--- a/content/canvas/test/test_2d.getcontext.unique.html
+++ b/content/canvas/test/test_2d.getcontext.unique.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.getcontext.unique</title>
 <!-- Testing: getContext('2d') returns the same object -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.empty.html b/content/canvas/test/test_2d.gradient.empty.html
--- a/content/canvas/test/test_2d.gradient.empty.html
+++ b/content/canvas/test/test_2d.gradient.empty.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.empty</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.alpha.html b/content/canvas/test/test_2d.gradient.interpolate.alpha.html
--- a/content/canvas/test/test_2d.gradient.interpolate.alpha.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.colour.html b/content/canvas/test/test_2d.gradient.interpolate.colour.html
--- a/content/canvas/test/test_2d.gradient.interpolate.colour.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.colour.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.colour</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.colouralpha.html b/content/canvas/test/test_2d.gradient.interpolate.colouralpha.html
--- a/content/canvas/test/test_2d.gradient.interpolate.colouralpha.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.colouralpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.colouralpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.multiple.html b/content/canvas/test/test_2d.gradient.interpolate.multiple.html
--- a/content/canvas/test/test_2d.gradient.interpolate.multiple.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.multiple.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.multiple</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.outside.html b/content/canvas/test/test_2d.gradient.interpolate.outside.html
--- a/content/canvas/test/test_2d.gradient.interpolate.outside.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.overlap.html b/content/canvas/test/test_2d.gradient.interpolate.overlap.html
--- a/content/canvas/test/test_2d.gradient.interpolate.overlap.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.overlap.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.overlap</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.overlap2.html b/content/canvas/test/test_2d.gradient.interpolate.overlap2.html
--- a/content/canvas/test/test_2d.gradient.interpolate.overlap2.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.overlap2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.overlap2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.solid.html b/content/canvas/test/test_2d.gradient.interpolate.solid.html
--- a/content/canvas/test/test_2d.gradient.interpolate.solid.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.solid.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.solid</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.vertical.html b/content/canvas/test/test_2d.gradient.interpolate.vertical.html
--- a/content/canvas/test/test_2d.gradient.interpolate.vertical.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.vertical.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.vertical</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.interpolate.zerosize.html b/content/canvas/test/test_2d.gradient.interpolate.zerosize.html
--- a/content/canvas/test/test_2d.gradient.interpolate.zerosize.html
+++ b/content/canvas/test/test_2d.gradient.interpolate.zerosize.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.interpolate.zerosize</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.linear.nonfinite.html b/content/canvas/test/test_2d.gradient.linear.nonfinite.html
--- a/content/canvas/test/test_2d.gradient.linear.nonfinite.html
+++ b/content/canvas/test/test_2d.gradient.linear.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.linear.nonfinite</title>
 <!-- Testing: createLinearGradient() throws NOT_SUPPORTED_ERR if arguments are not finite -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.linear.transform.1.html b/content/canvas/test/test_2d.gradient.linear.transform.1.html
--- a/content/canvas/test/test_2d.gradient.linear.transform.1.html
+++ b/content/canvas/test/test_2d.gradient.linear.transform.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.linear.transform.1</title>
 <!-- Testing: Linear gradient coordinates are relative to the coordinate space at the time of filling -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.linear.transform.2.html b/content/canvas/test/test_2d.gradient.linear.transform.2.html
--- a/content/canvas/test/test_2d.gradient.linear.transform.2.html
+++ b/content/canvas/test/test_2d.gradient.linear.transform.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.linear.transform.2</title>
 <!-- Testing: Linear gradient coordinates are relative to the coordinate space at the time of filling -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.linear.transform.3.html b/content/canvas/test/test_2d.gradient.linear.transform.3.html
--- a/content/canvas/test/test_2d.gradient.linear.transform.3.html
+++ b/content/canvas/test/test_2d.gradient.linear.transform.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.linear.transform.3</title>
 <!-- Testing: Linear gradient transforms do not experience broken caching effects -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.object.compare.html b/content/canvas/test/test_2d.gradient.object.compare.html
--- a/content/canvas/test/test_2d.gradient.object.compare.html
+++ b/content/canvas/test/test_2d.gradient.object.compare.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.compare</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.object.crosscanvas.html b/content/canvas/test/test_2d.gradient.object.crosscanvas.html
--- a/content/canvas/test/test_2d.gradient.object.crosscanvas.html
+++ b/content/canvas/test/test_2d.gradient.object.crosscanvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.crosscanvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.object.invalidcolour.html b/content/canvas/test/test_2d.gradient.object.invalidcolour.html
--- a/content/canvas/test/test_2d.gradient.object.invalidcolour.html
+++ b/content/canvas/test/test_2d.gradient.object.invalidcolour.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.invalidcolour</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.object.invalidoffset.html b/content/canvas/test/test_2d.gradient.object.invalidoffset.html
--- a/content/canvas/test/test_2d.gradient.object.invalidoffset.html
+++ b/content/canvas/test/test_2d.gradient.object.invalidoffset.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.invalidoffset</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.object.return.html b/content/canvas/test/test_2d.gradient.object.return.html
--- a/content/canvas/test/test_2d.gradient.object.return.html
+++ b/content/canvas/test/test_2d.gradient.object.return.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.return</title>
 <!-- Testing: createLinearGradient() and createRadialGradient() returns objects implementing CanvasGradient -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.object.type.html b/content/canvas/test/test_2d.gradient.object.type.html
--- a/content/canvas/test/test_2d.gradient.object.type.html
+++ b/content/canvas/test/test_2d.gradient.object.type.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.type</title>
 <!-- Testing: window.CanvasGradient exists and has the right properties -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.object.update.html b/content/canvas/test/test_2d.gradient.object.update.html
--- a/content/canvas/test/test_2d.gradient.object.update.html
+++ b/content/canvas/test/test_2d.gradient.object.update.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.object.update</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.cone.bottom.html b/content/canvas/test/test_2d.gradient.radial.cone.bottom.html
--- a/content/canvas/test/test_2d.gradient.radial.cone.bottom.html
+++ b/content/canvas/test/test_2d.gradient.radial.cone.bottom.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.cone.bottom</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.cone.cylinder.html b/content/canvas/test/test_2d.gradient.radial.cone.cylinder.html
--- a/content/canvas/test/test_2d.gradient.radial.cone.cylinder.html
+++ b/content/canvas/test/test_2d.gradient.radial.cone.cylinder.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.cone.cylinder</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.cone.front.html b/content/canvas/test/test_2d.gradient.radial.cone.front.html
--- a/content/canvas/test/test_2d.gradient.radial.cone.front.html
+++ b/content/canvas/test/test_2d.gradient.radial.cone.front.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.cone.front</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.cone.shape1.html b/content/canvas/test/test_2d.gradient.radial.cone.shape1.html
--- a/content/canvas/test/test_2d.gradient.radial.cone.shape1.html
+++ b/content/canvas/test/test_2d.gradient.radial.cone.shape1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.cone.shape1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.cone.top.html b/content/canvas/test/test_2d.gradient.radial.cone.top.html
--- a/content/canvas/test/test_2d.gradient.radial.cone.top.html
+++ b/content/canvas/test/test_2d.gradient.radial.cone.top.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.cone.top</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.inside1.html b/content/canvas/test/test_2d.gradient.radial.inside1.html
--- a/content/canvas/test/test_2d.gradient.radial.inside1.html
+++ b/content/canvas/test/test_2d.gradient.radial.inside1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.inside1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.inside2.html b/content/canvas/test/test_2d.gradient.radial.inside2.html
--- a/content/canvas/test/test_2d.gradient.radial.inside2.html
+++ b/content/canvas/test/test_2d.gradient.radial.inside2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.inside2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.inside3.html b/content/canvas/test/test_2d.gradient.radial.inside3.html
--- a/content/canvas/test/test_2d.gradient.radial.inside3.html
+++ b/content/canvas/test/test_2d.gradient.radial.inside3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.inside3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.negative.html b/content/canvas/test/test_2d.gradient.radial.negative.html
--- a/content/canvas/test/test_2d.gradient.radial.negative.html
+++ b/content/canvas/test/test_2d.gradient.radial.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.negative</title>
 <!-- Testing: createRadialGradient() throws INDEX_SIZE_ERR if either radius is negative -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.radial.nonfinite.html b/content/canvas/test/test_2d.gradient.radial.nonfinite.html
--- a/content/canvas/test/test_2d.gradient.radial.nonfinite.html
+++ b/content/canvas/test/test_2d.gradient.radial.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.nonfinite</title>
 <!-- Testing: createRadialGradient() throws NOT_SUPPORTED_ERR if arguments are not finite -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.gradient.radial.outside1.html b/content/canvas/test/test_2d.gradient.radial.outside1.html
--- a/content/canvas/test/test_2d.gradient.radial.outside1.html
+++ b/content/canvas/test/test_2d.gradient.radial.outside1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.outside1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.transform.1.html b/content/canvas/test/test_2d.gradient.radial.transform.1.html
--- a/content/canvas/test/test_2d.gradient.radial.transform.1.html
+++ b/content/canvas/test/test_2d.gradient.radial.transform.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.transform.1</title>
 <!-- Testing: Radial gradient coordinates are relative to the coordinate space at the time of filling -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.transform.2.html b/content/canvas/test/test_2d.gradient.radial.transform.2.html
--- a/content/canvas/test/test_2d.gradient.radial.transform.2.html
+++ b/content/canvas/test/test_2d.gradient.radial.transform.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.transform.2</title>
 <!-- Testing: Radial gradient coordinates are relative to the coordinate space at the time of filling -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.gradient.radial.transform.3.html b/content/canvas/test/test_2d.gradient.radial.transform.3.html
--- a/content/canvas/test/test_2d.gradient.radial.transform.3.html
+++ b/content/canvas/test/test_2d.gradient.radial.transform.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.gradient.radial.transform.3</title>
 <!-- Testing: Radial gradient transforms do not experience broken caching effects -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.create.basic.html b/content/canvas/test/test_2d.imageData.create.basic.html
--- a/content/canvas/test/test_2d.imageData.create.basic.html
+++ b/content/canvas/test/test_2d.imageData.create.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.basic - bug 433004</title>
 <!-- Testing: createImageData() exists and returns something -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.initial.html b/content/canvas/test/test_2d.imageData.create.initial.html
--- a/content/canvas/test/test_2d.imageData.create.initial.html
+++ b/content/canvas/test/test_2d.imageData.create.initial.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.initial - bug 433004</title>
 <!-- Testing: createImageData() returns transparent black data of the right size -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.large.html b/content/canvas/test/test_2d.imageData.create.large.html
--- a/content/canvas/test/test_2d.imageData.create.large.html
+++ b/content/canvas/test/test_2d.imageData.create.large.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.large - bug 433004</title>
 <!-- Testing: createImageData() works for sizes much larger than the canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.negative.html b/content/canvas/test/test_2d.imageData.create.negative.html
--- a/content/canvas/test/test_2d.imageData.create.negative.html
+++ b/content/canvas/test/test_2d.imageData.create.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.negative - bug 433004</title>
 <!-- Testing: createImageData() takes the absolute magnitude of the size arguments -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.nonfinite.html b/content/canvas/test/test_2d.imageData.create.nonfinite.html
--- a/content/canvas/test/test_2d.imageData.create.nonfinite.html
+++ b/content/canvas/test/test_2d.imageData.create.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.nonfinite - bug 433004</title>
 <!-- Testing: createImageData() throws NOT_SUPPORTED_ERR if arguments are not finite -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.round.html b/content/canvas/test/test_2d.imageData.create.round.html
--- a/content/canvas/test/test_2d.imageData.create.round.html
+++ b/content/canvas/test/test_2d.imageData.create.round.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.round - bug 433004</title>
 <!-- Testing: createImageData(w, h) is rounded the same as getImageData(0, 0, w, h) -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.tiny.html b/content/canvas/test/test_2d.imageData.create.tiny.html
--- a/content/canvas/test/test_2d.imageData.create.tiny.html
+++ b/content/canvas/test/test_2d.imageData.create.tiny.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.tiny - bug 433004</title>
 <!-- Testing: createImageData() works for sizes smaller than one pixel -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.type.html b/content/canvas/test/test_2d.imageData.create.type.html
--- a/content/canvas/test/test_2d.imageData.create.type.html
+++ b/content/canvas/test/test_2d.imageData.create.type.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.type - bug 433004</title>
 <!-- Testing: createImageData() returns an ImageData object containing a CanvasPixelArray object -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.create.zero.html b/content/canvas/test/test_2d.imageData.create.zero.html
--- a/content/canvas/test/test_2d.imageData.create.zero.html
+++ b/content/canvas/test/test_2d.imageData.create.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.create.zero - bug 433004</title>
 <!-- Testing: createImageData() throws INDEX_SIZE_ERR if size is zero -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.basic.html b/content/canvas/test/test_2d.imageData.get.basic.html
--- a/content/canvas/test/test_2d.imageData.get.basic.html
+++ b/content/canvas/test/test_2d.imageData.get.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.basic</title>
 <!-- Testing: getImageData() exists and returns something -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.clamp.html b/content/canvas/test/test_2d.imageData.get.clamp.html
--- a/content/canvas/test/test_2d.imageData.get.clamp.html
+++ b/content/canvas/test/test_2d.imageData.get.clamp.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.clamp</title>
 <!-- Testing: getImageData() clamps colours to the range [0, 255] -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.nonfinite.html b/content/canvas/test/test_2d.imageData.get.nonfinite.html
--- a/content/canvas/test/test_2d.imageData.get.nonfinite.html
+++ b/content/canvas/test/test_2d.imageData.get.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.nonfinite</title>
 <!-- Testing: getImageData() throws NOT_SUPPORTED_ERR if arguments are not finite -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.nonpremul.html b/content/canvas/test/test_2d.imageData.get.nonpremul.html
--- a/content/canvas/test/test_2d.imageData.get.nonpremul.html
+++ b/content/canvas/test/test_2d.imageData.get.nonpremul.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.nonpremul</title>
 <!-- Testing: getImageData() returns non-premultiplied colours -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.order.alpha.html b/content/canvas/test/test_2d.imageData.get.order.alpha.html
--- a/content/canvas/test/test_2d.imageData.get.order.alpha.html
+++ b/content/canvas/test/test_2d.imageData.get.order.alpha.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.order.alpha</title>
 <!-- Testing: getImageData() returns A in the fourth component -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.order.cols.html b/content/canvas/test/test_2d.imageData.get.order.cols.html
--- a/content/canvas/test/test_2d.imageData.get.order.cols.html
+++ b/content/canvas/test/test_2d.imageData.get.order.cols.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.order.cols</title>
 <!-- Testing: getImageData() returns leftmost columns first -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.order.rgb.html b/content/canvas/test/test_2d.imageData.get.order.rgb.html
--- a/content/canvas/test/test_2d.imageData.get.order.rgb.html
+++ b/content/canvas/test/test_2d.imageData.get.order.rgb.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.order.rgb</title>
 <!-- Testing: getImageData() returns R then G then B -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.order.rows.html b/content/canvas/test/test_2d.imageData.get.order.rows.html
--- a/content/canvas/test/test_2d.imageData.get.order.rows.html
+++ b/content/canvas/test/test_2d.imageData.get.order.rows.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.order.rows</title>
 <!-- Testing: getImageData() returns topmost rows first -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.range.html b/content/canvas/test/test_2d.imageData.get.range.html
--- a/content/canvas/test/test_2d.imageData.get.range.html
+++ b/content/canvas/test/test_2d.imageData.get.range.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.range</title>
 <!-- Testing: getImageData() returns values in the range [0, 255] -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.source.negative.html b/content/canvas/test/test_2d.imageData.get.source.negative.html
--- a/content/canvas/test/test_2d.imageData.get.source.negative.html
+++ b/content/canvas/test/test_2d.imageData.get.source.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.source.negative</title>
 <!-- Testing: getImageData() works with negative width and height -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.source.outside.html b/content/canvas/test/test_2d.imageData.get.source.outside.html
--- a/content/canvas/test/test_2d.imageData.get.source.outside.html
+++ b/content/canvas/test/test_2d.imageData.get.source.outside.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.source.outside</title>
 <!-- Testing: getImageData() returns transparent black outside the canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.source.size.html b/content/canvas/test/test_2d.imageData.get.source.size.html
--- a/content/canvas/test/test_2d.imageData.get.source.size.html
+++ b/content/canvas/test/test_2d.imageData.get.source.size.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.source.size</title>
 <!-- Testing: getImageData() returns bigger ImageData for bigger source rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.tiny.html b/content/canvas/test/test_2d.imageData.get.tiny.html
--- a/content/canvas/test/test_2d.imageData.get.tiny.html
+++ b/content/canvas/test/test_2d.imageData.get.tiny.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.tiny</title>
 <!-- Testing: getImageData() works for sizes smaller than one pixel -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.type.html b/content/canvas/test/test_2d.imageData.get.type.html
--- a/content/canvas/test/test_2d.imageData.get.type.html
+++ b/content/canvas/test/test_2d.imageData.get.type.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.type</title>
 <!-- Testing: getImageData() returns an ImageData object containing a CanvasPixelArray object -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.get.unaffected.html b/content/canvas/test/test_2d.imageData.get.unaffected.html
--- a/content/canvas/test/test_2d.imageData.get.unaffected.html
+++ b/content/canvas/test/test_2d.imageData.get.unaffected.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.unaffected</title>
 <!-- Testing: getImageData() is not affected by context state -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.get.zero.html b/content/canvas/test/test_2d.imageData.get.zero.html
--- a/content/canvas/test/test_2d.imageData.get.zero.html
+++ b/content/canvas/test/test_2d.imageData.get.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.get.zero</title>
 <!-- Testing: getImageData() throws INDEX_SIZE_ERR if size is zero -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.clamp.html b/content/canvas/test/test_2d.imageData.object.clamp.html
--- a/content/canvas/test/test_2d.imageData.object.clamp.html
+++ b/content/canvas/test/test_2d.imageData.object.clamp.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.clamp</title>
 <!-- Testing: ImageData.data clamps numbers to [0, 255] -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.ctor.html b/content/canvas/test/test_2d.imageData.object.ctor.html
--- a/content/canvas/test/test_2d.imageData.object.ctor.html
+++ b/content/canvas/test/test_2d.imageData.object.ctor.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.ctor</title>
 <!-- Testing: ImageData does not have a usable constructor -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.nan.html b/content/canvas/test/test_2d.imageData.object.nan.html
--- a/content/canvas/test/test_2d.imageData.object.nan.html
+++ b/content/canvas/test/test_2d.imageData.object.nan.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.nan</title>
 <!-- Testing: ImageData.data converts NaN to 0 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.properties.html b/content/canvas/test/test_2d.imageData.object.properties.html
--- a/content/canvas/test/test_2d.imageData.object.properties.html
+++ b/content/canvas/test/test_2d.imageData.object.properties.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.properties</title>
 <!-- Testing: ImageData objects have the right properties -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.readonly.html b/content/canvas/test/test_2d.imageData.object.readonly.html
--- a/content/canvas/test/test_2d.imageData.object.readonly.html
+++ b/content/canvas/test/test_2d.imageData.object.readonly.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.readonly</title>
 <!-- Testing: ImageData objects properties are read-only -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.round.html b/content/canvas/test/test_2d.imageData.object.round.html
--- a/content/canvas/test/test_2d.imageData.object.round.html
+++ b/content/canvas/test/test_2d.imageData.object.round.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.round</title>
 <!-- Testing: ImageData.data rounds numbers with convertToIntegerTiesToEven -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.set.html b/content/canvas/test/test_2d.imageData.object.set.html
--- a/content/canvas/test/test_2d.imageData.object.set.html
+++ b/content/canvas/test/test_2d.imageData.object.set.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.set</title>
 <!-- Testing: ImageData.data can be modified -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.string.html b/content/canvas/test/test_2d.imageData.object.string.html
--- a/content/canvas/test/test_2d.imageData.object.string.html
+++ b/content/canvas/test/test_2d.imageData.object.string.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.string</title>
 <!-- Testing: ImageData.data converts strings to numbers with ToNumber -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.object.undefined.html b/content/canvas/test/test_2d.imageData.object.undefined.html
--- a/content/canvas/test/test_2d.imageData.object.undefined.html
+++ b/content/canvas/test/test_2d.imageData.object.undefined.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.object.undefined</title>
 <!-- Testing: ImageData.data converts undefined to 0 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.put.alpha.html b/content/canvas/test/test_2d.imageData.put.alpha.html
--- a/content/canvas/test/test_2d.imageData.put.alpha.html
+++ b/content/canvas/test/test_2d.imageData.put.alpha.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.alpha</title>
 <!-- Testing: putImageData() puts non-solid image data correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.basic.html b/content/canvas/test/test_2d.imageData.put.basic.html
--- a/content/canvas/test/test_2d.imageData.put.basic.html
+++ b/content/canvas/test/test_2d.imageData.put.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.basic</title>
 <!-- Testing: putImageData() puts image data from getImageData() onto the canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.clip.html b/content/canvas/test/test_2d.imageData.put.clip.html
--- a/content/canvas/test/test_2d.imageData.put.clip.html
+++ b/content/canvas/test/test_2d.imageData.put.clip.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.clip - bug 433397</title>
 <!-- Testing: putImageData() is not affected by clipping regions -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.created.html b/content/canvas/test/test_2d.imageData.put.created.html
--- a/content/canvas/test/test_2d.imageData.put.created.html
+++ b/content/canvas/test/test_2d.imageData.put.created.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.created - bug 433004</title>
 <!-- Testing: putImageData() puts image data from createImageData() onto the canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.cross.html b/content/canvas/test/test_2d.imageData.put.cross.html
--- a/content/canvas/test/test_2d.imageData.put.cross.html
+++ b/content/canvas/test/test_2d.imageData.put.cross.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.cross</title>
 <!-- Testing: putImageData() accepts image data got from a different canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.dirty.negative.html b/content/canvas/test/test_2d.imageData.put.dirty.negative.html
--- a/content/canvas/test/test_2d.imageData.put.dirty.negative.html
+++ b/content/canvas/test/test_2d.imageData.put.dirty.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.dirty.negative</title>
 <!-- Testing: putImageData() handles negative-sized dirty rectangles correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.dirty.outside.html b/content/canvas/test/test_2d.imageData.put.dirty.outside.html
--- a/content/canvas/test/test_2d.imageData.put.dirty.outside.html
+++ b/content/canvas/test/test_2d.imageData.put.dirty.outside.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.dirty.outside</title>
 <!-- Testing: putImageData() handles dirty rectangles outside the canvas correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.dirty.rect1.html b/content/canvas/test/test_2d.imageData.put.dirty.rect1.html
--- a/content/canvas/test/test_2d.imageData.put.dirty.rect1.html
+++ b/content/canvas/test/test_2d.imageData.put.dirty.rect1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.dirty.rect1</title>
 <!-- Testing: putImageData() only modifies areas inside the dirty rectangle, using width and height -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.dirty.rect2.html b/content/canvas/test/test_2d.imageData.put.dirty.rect2.html
--- a/content/canvas/test/test_2d.imageData.put.dirty.rect2.html
+++ b/content/canvas/test/test_2d.imageData.put.dirty.rect2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.dirty.rect2</title>
 <!-- Testing: putImageData() only modifies areas inside the dirty rectangle, using x and y -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.dirty.zero.html b/content/canvas/test/test_2d.imageData.put.dirty.zero.html
--- a/content/canvas/test/test_2d.imageData.put.dirty.zero.html
+++ b/content/canvas/test/test_2d.imageData.put.dirty.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.dirty.zero</title>
 <!-- Testing: putImageData() with zero-sized dirty rectangle puts nothing -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.modified.html b/content/canvas/test/test_2d.imageData.put.modified.html
--- a/content/canvas/test/test_2d.imageData.put.modified.html
+++ b/content/canvas/test/test_2d.imageData.put.modified.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.modified</title>
 <!-- Testing: putImageData() puts modified image data correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.nonfinite.html b/content/canvas/test/test_2d.imageData.put.nonfinite.html
--- a/content/canvas/test/test_2d.imageData.put.nonfinite.html
+++ b/content/canvas/test/test_2d.imageData.put.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.nonfinite</title>
 <!-- Testing: putImageData() throws NOT_SUPPORTED_ERR if arguments are not finite -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.put.null.html b/content/canvas/test/test_2d.imageData.put.null.html
--- a/content/canvas/test/test_2d.imageData.put.null.html
+++ b/content/canvas/test/test_2d.imageData.put.null.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.null - bug 421715</title>
 <!-- Testing: putImageData() with null imagedata throws TYPE_MISMATCH_ERR -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.put.path.html b/content/canvas/test/test_2d.imageData.put.path.html
--- a/content/canvas/test/test_2d.imageData.put.path.html
+++ b/content/canvas/test/test_2d.imageData.put.path.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.path</title>
 <!-- Testing: putImageData() does not affect the current path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.unaffected.html b/content/canvas/test/test_2d.imageData.put.unaffected.html
--- a/content/canvas/test/test_2d.imageData.put.unaffected.html
+++ b/content/canvas/test/test_2d.imageData.put.unaffected.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.unaffected</title>
 <!-- Testing: putImageData() is not affected by context state -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.imageData.put.unchanged.html b/content/canvas/test/test_2d.imageData.put.unchanged.html
--- a/content/canvas/test/test_2d.imageData.put.unchanged.html
+++ b/content/canvas/test/test_2d.imageData.put.unchanged.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.unchanged</title>
 <!-- Testing: putImageData(getImageData(...), ...) has no effect -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageData.put.wrongtype.html b/content/canvas/test/test_2d.imageData.put.wrongtype.html
--- a/content/canvas/test/test_2d.imageData.put.wrongtype.html
+++ b/content/canvas/test/test_2d.imageData.put.wrongtype.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.imageData.put.wrongtype</title>
 <!-- Testing: putImageData() does not accept non-ImageData objects -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.imageSmoothing.html b/content/canvas/test/test_2d.imageSmoothing.html
--- a/content/canvas/test/test_2d.imageSmoothing.html
+++ b/content/canvas/test/test_2d.imageSmoothing.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Canvas test: 2d.imageRenderingQuality</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <script type="text/javascript">
 
 var _deferred = false;
 
 function setup() {
   var c2 = document.getElementById("c2");
   var cx2 = c2.getContext("2d");
diff --git a/content/canvas/test/test_2d.line.cap.butt.html b/content/canvas/test/test_2d.line.cap.butt.html
--- a/content/canvas/test/test_2d.line.cap.butt.html
+++ b/content/canvas/test/test_2d.line.cap.butt.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.butt</title>
 <!-- Testing: lineCap 'butt' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.cap.closed.html b/content/canvas/test/test_2d.line.cap.closed.html
--- a/content/canvas/test/test_2d.line.cap.closed.html
+++ b/content/canvas/test/test_2d.line.cap.closed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.closed</title>
 <!-- Testing: Line caps are not drawn at the corners of an unclosed rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.cap.invalid.html b/content/canvas/test/test_2d.line.cap.invalid.html
--- a/content/canvas/test/test_2d.line.cap.invalid.html
+++ b/content/canvas/test/test_2d.line.cap.invalid.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.invalid - bug 401788</title>
 <!-- Testing: Setting lineCap to invalid values is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.line.cap.open.html b/content/canvas/test/test_2d.line.cap.open.html
--- a/content/canvas/test/test_2d.line.cap.open.html
+++ b/content/canvas/test/test_2d.line.cap.open.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.open</title>
 <!-- Testing: Line caps are drawn at the corners of an unclosed rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.cap.round.html b/content/canvas/test/test_2d.line.cap.round.html
--- a/content/canvas/test/test_2d.line.cap.round.html
+++ b/content/canvas/test/test_2d.line.cap.round.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.round</title>
 <!-- Testing: lineCap 'round' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.cap.square.html b/content/canvas/test/test_2d.line.cap.square.html
--- a/content/canvas/test/test_2d.line.cap.square.html
+++ b/content/canvas/test/test_2d.line.cap.square.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cap.square</title>
 <!-- Testing: lineCap 'square' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.cross.html b/content/canvas/test/test_2d.line.cross.html
--- a/content/canvas/test/test_2d.line.cross.html
+++ b/content/canvas/test/test_2d.line.cross.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.cross</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.defaults.html b/content/canvas/test/test_2d.line.defaults.html
--- a/content/canvas/test/test_2d.line.defaults.html
+++ b/content/canvas/test/test_2d.line.defaults.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.defaults</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.line.join.bevel.html b/content/canvas/test/test_2d.line.join.bevel.html
--- a/content/canvas/test/test_2d.line.join.bevel.html
+++ b/content/canvas/test/test_2d.line.join.bevel.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.bevel</title>
 <!-- Testing: lineJoin 'bevel' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.join.closed.html b/content/canvas/test/test_2d.line.join.closed.html
--- a/content/canvas/test/test_2d.line.join.closed.html
+++ b/content/canvas/test/test_2d.line.join.closed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.closed</title>
 <!-- Testing: Line joins are drawn at the corner of a closed rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.join.invalid.html b/content/canvas/test/test_2d.line.join.invalid.html
--- a/content/canvas/test/test_2d.line.join.invalid.html
+++ b/content/canvas/test/test_2d.line.join.invalid.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.invalid - bug 401788</title>
 <!-- Testing: Setting lineJoin to invalid values is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.line.join.miter.html b/content/canvas/test/test_2d.line.join.miter.html
--- a/content/canvas/test/test_2d.line.join.miter.html
+++ b/content/canvas/test/test_2d.line.join.miter.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.miter</title>
 <!-- Testing: lineJoin 'miter' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.join.open.html b/content/canvas/test/test_2d.line.join.open.html
--- a/content/canvas/test/test_2d.line.join.open.html
+++ b/content/canvas/test/test_2d.line.join.open.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.open</title>
 <!-- Testing: Line joins are not drawn at the corner of an unclosed rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.join.parallel.html b/content/canvas/test/test_2d.line.join.parallel.html
--- a/content/canvas/test/test_2d.line.join.parallel.html
+++ b/content/canvas/test/test_2d.line.join.parallel.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.parallel</title>
 <!-- Testing: Line joins are drawn at 180-degree joins -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.join.round.html b/content/canvas/test/test_2d.line.join.round.html
--- a/content/canvas/test/test_2d.line.join.round.html
+++ b/content/canvas/test/test_2d.line.join.round.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.join.round</title>
 <!-- Testing: lineJoin 'round' is rendered correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.acute.html b/content/canvas/test/test_2d.line.miter.acute.html
--- a/content/canvas/test/test_2d.line.miter.acute.html
+++ b/content/canvas/test/test_2d.line.miter.acute.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.acute</title>
 <!-- Testing: Miter joins are drawn correctly with acute angles -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.exceeded.html b/content/canvas/test/test_2d.line.miter.exceeded.html
--- a/content/canvas/test/test_2d.line.miter.exceeded.html
+++ b/content/canvas/test/test_2d.line.miter.exceeded.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.exceeded</title>
 <!-- Testing: Miter joins are not drawn when the miter limit is exceeded -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.invalid.html b/content/canvas/test/test_2d.line.miter.invalid.html
--- a/content/canvas/test/test_2d.line.miter.invalid.html
+++ b/content/canvas/test/test_2d.line.miter.invalid.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.invalid</title>
 <!-- Testing: Setting miterLimit to invalid values is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.line.miter.lineedge.html b/content/canvas/test/test_2d.line.miter.lineedge.html
--- a/content/canvas/test/test_2d.line.miter.lineedge.html
+++ b/content/canvas/test/test_2d.line.miter.lineedge.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.lineedge - bug 401791</title>
 <!-- Testing: Miter joins are not drawn when the miter limit is exceeded at the corners of a zero-height rectangle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.obtuse.html b/content/canvas/test/test_2d.line.miter.obtuse.html
--- a/content/canvas/test/test_2d.line.miter.obtuse.html
+++ b/content/canvas/test/test_2d.line.miter.obtuse.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.obtuse</title>
 <!-- Testing: Miter joins are drawn correctly with obtuse angles -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.rightangle.html b/content/canvas/test/test_2d.line.miter.rightangle.html
--- a/content/canvas/test/test_2d.line.miter.rightangle.html
+++ b/content/canvas/test/test_2d.line.miter.rightangle.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.rightangle - bug 401791</title>
 <!-- Testing: Miter joins are not drawn when the miter limit is exceeded, on exact right angles -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.miter.within.html b/content/canvas/test/test_2d.line.miter.within.html
--- a/content/canvas/test/test_2d.line.miter.within.html
+++ b/content/canvas/test/test_2d.line.miter.within.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.miter.within</title>
 <!-- Testing: Miter joins are drawn when the miter limit is not quite exceeded -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.union.html b/content/canvas/test/test_2d.line.union.html
--- a/content/canvas/test/test_2d.line.union.html
+++ b/content/canvas/test/test_2d.line.union.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.union</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.width.basic.html b/content/canvas/test/test_2d.line.width.basic.html
--- a/content/canvas/test/test_2d.line.width.basic.html
+++ b/content/canvas/test/test_2d.line.width.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.width.basic</title>
 <!-- Testing: lineWidth determines the width of line strokes -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.line.width.invalid.html b/content/canvas/test/test_2d.line.width.invalid.html
--- a/content/canvas/test/test_2d.line.width.invalid.html
+++ b/content/canvas/test/test_2d.line.width.invalid.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.width.invalid</title>
 <!-- Testing: Setting lineWidth to invalid values is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.line.width.transformed.html b/content/canvas/test/test_2d.line.width.transformed.html
--- a/content/canvas/test/test_2d.line.width.transformed.html
+++ b/content/canvas/test/test_2d.line.width.transformed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.line.width.transformed</title>
 <!-- Testing: Line stroke widths are affected by scale transformations -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.missingargs.html b/content/canvas/test/test_2d.missingargs.html
--- a/content/canvas/test/test_2d.missingargs.html
+++ b/content/canvas/test/test_2d.missingargs.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.missingargs</title>
 <!-- Testing: Missing arguments cause NOT_SUPPORTED_ERR -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.arc.angle.1.html b/content/canvas/test/test_2d.path.arc.angle.1.html
--- a/content/canvas/test/test_2d.path.arc.angle.1.html
+++ b/content/canvas/test/test_2d.path.arc.angle.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.1</title>
 <!-- Testing: arc() draws pi/2 .. -pi anticlockwise correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.angle.2.html b/content/canvas/test/test_2d.path.arc.angle.2.html
--- a/content/canvas/test/test_2d.path.arc.angle.2.html
+++ b/content/canvas/test/test_2d.path.arc.angle.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.2</title>
 <!-- Testing: arc() draws -3pi/2 .. -pi anticlockwise correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.angle.3.html b/content/canvas/test/test_2d.path.arc.angle.3.html
--- a/content/canvas/test/test_2d.path.arc.angle.3.html
+++ b/content/canvas/test/test_2d.path.arc.angle.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.3</title>
 <!-- Testing: arc() wraps angles mod 2pi when anticlockwise and end > start+2pi -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.angle.4.html b/content/canvas/test/test_2d.path.arc.angle.4.html
--- a/content/canvas/test/test_2d.path.arc.angle.4.html
+++ b/content/canvas/test/test_2d.path.arc.angle.4.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.4</title>
 <!-- Testing: arc() draws a full circle when clockwise and end > start+2pi -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.angle.5.html b/content/canvas/test/test_2d.path.arc.angle.5.html
--- a/content/canvas/test/test_2d.path.arc.angle.5.html
+++ b/content/canvas/test/test_2d.path.arc.angle.5.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.5</title>
 <!-- Testing: arc() wraps angles mod 2pi when clockwise and start > end+2pi -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.angle.6.html b/content/canvas/test/test_2d.path.arc.angle.6.html
--- a/content/canvas/test/test_2d.path.arc.angle.6.html
+++ b/content/canvas/test/test_2d.path.arc.angle.6.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.angle.6</title>
 <!-- Testing: arc() draws a full circle when anticlockwise and start > end+2pi -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.empty.html b/content/canvas/test/test_2d.path.arc.empty.html
--- a/content/canvas/test/test_2d.path.arc.empty.html
+++ b/content/canvas/test/test_2d.path.arc.empty.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.empty</title>
 <!-- Testing: arc() with an empty path does not draw a straight line to the start point -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.end.html b/content/canvas/test/test_2d.path.arc.end.html
--- a/content/canvas/test/test_2d.path.arc.end.html
+++ b/content/canvas/test/test_2d.path.arc.end.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.end</title>
 <!-- Testing: arc() adds the end point of the arc to the subpath -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.negative.html b/content/canvas/test/test_2d.path.arc.negative.html
--- a/content/canvas/test/test_2d.path.arc.negative.html
+++ b/content/canvas/test/test_2d.path.arc.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.negative</title>
 <!-- Testing: arc() with negative radius throws INDEX_SIZE_ERR -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.arc.nonempty.html b/content/canvas/test/test_2d.path.arc.nonempty.html
--- a/content/canvas/test/test_2d.path.arc.nonempty.html
+++ b/content/canvas/test/test_2d.path.arc.nonempty.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.nonempty</title>
 <!-- Testing: arc() with a non-empty path does draw a straight line to the start point -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.nonfinite.html b/content/canvas/test/test_2d.path.arc.nonfinite.html
--- a/content/canvas/test/test_2d.path.arc.nonfinite.html
+++ b/content/canvas/test/test_2d.path.arc.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.nonfinite</title>
 <!-- Testing: arc() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.scale.1.html b/content/canvas/test/test_2d.path.arc.scale.1.html
--- a/content/canvas/test/test_2d.path.arc.scale.1.html
+++ b/content/canvas/test/test_2d.path.arc.scale.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.scale.1</title>
 <!-- Testing: Non-uniformly scaled arcs are the right shape -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.scale.2.html b/content/canvas/test/test_2d.path.arc.scale.2.html
--- a/content/canvas/test/test_2d.path.arc.scale.2.html
+++ b/content/canvas/test/test_2d.path.arc.scale.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.scale.2</title>
 <!-- Testing: Highly scaled arcs are the right shape -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.selfintersect.1.html b/content/canvas/test/test_2d.path.arc.selfintersect.1.html
--- a/content/canvas/test/test_2d.path.arc.selfintersect.1.html
+++ b/content/canvas/test/test_2d.path.arc.selfintersect.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.selfintersect.1</title>
 <!-- Testing: arc() with lineWidth > 2*radius is drawn sensibly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.selfintersect.2.html b/content/canvas/test/test_2d.path.arc.selfintersect.2.html
--- a/content/canvas/test/test_2d.path.arc.selfintersect.2.html
+++ b/content/canvas/test/test_2d.path.arc.selfintersect.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.selfintersect.2</title>
 <!-- Testing: arc() with lineWidth > 2*radius is drawn sensibly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.shape.1.html b/content/canvas/test/test_2d.path.arc.shape.1.html
--- a/content/canvas/test/test_2d.path.arc.shape.1.html
+++ b/content/canvas/test/test_2d.path.arc.shape.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.shape.1</title>
 <!-- Testing: arc() from 0 to pi does not draw anything in the wrong half -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.shape.2.html b/content/canvas/test/test_2d.path.arc.shape.2.html
--- a/content/canvas/test/test_2d.path.arc.shape.2.html
+++ b/content/canvas/test/test_2d.path.arc.shape.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.shape.2</title>
 <!-- Testing: arc() from 0 to pi draws stuff in the right half -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.shape.4.html b/content/canvas/test/test_2d.path.arc.shape.4.html
--- a/content/canvas/test/test_2d.path.arc.shape.4.html
+++ b/content/canvas/test/test_2d.path.arc.shape.4.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.shape.4</title>
 <!-- Testing: arc() from 0 to -pi/2 draws stuff in the right quadrant -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.shape.5.html b/content/canvas/test/test_2d.path.arc.shape.5.html
--- a/content/canvas/test/test_2d.path.arc.shape.5.html
+++ b/content/canvas/test/test_2d.path.arc.shape.5.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.shape.5</title>
 <!-- Testing: arc() from 0 to 5pi does not draw crazy things -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.twopie.1.html b/content/canvas/test/test_2d.path.arc.twopie.1.html
--- a/content/canvas/test/test_2d.path.arc.twopie.1.html
+++ b/content/canvas/test/test_2d.path.arc.twopie.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.twopie.1</title>
 <!-- Testing: arc() draws nothing when end = start + 2pi-e and anticlockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.twopie.2.html b/content/canvas/test/test_2d.path.arc.twopie.2.html
--- a/content/canvas/test/test_2d.path.arc.twopie.2.html
+++ b/content/canvas/test/test_2d.path.arc.twopie.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.twopie.2</title>
 <!-- Testing: arc() draws a full circle when end = start + 2pi-e and clockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.twopie.3.html b/content/canvas/test/test_2d.path.arc.twopie.3.html
--- a/content/canvas/test/test_2d.path.arc.twopie.3.html
+++ b/content/canvas/test/test_2d.path.arc.twopie.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.twopie.3</title>
 <!-- Testing: arc() draws a full circle when end = start + 2pi+e and anticlockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.twopie.4.html b/content/canvas/test/test_2d.path.arc.twopie.4.html
--- a/content/canvas/test/test_2d.path.arc.twopie.4.html
+++ b/content/canvas/test/test_2d.path.arc.twopie.4.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.twopie.4</title>
 <!-- Testing: arc() draws nothing when end = start + 2pi+e and clockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.zero.1.html b/content/canvas/test/test_2d.path.arc.zero.1.html
--- a/content/canvas/test/test_2d.path.arc.zero.1.html
+++ b/content/canvas/test/test_2d.path.arc.zero.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.zero.1</title>
 <!-- Testing: arc() draws nothing when startAngle = endAngle and anticlockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.zero.2.html b/content/canvas/test/test_2d.path.arc.zero.2.html
--- a/content/canvas/test/test_2d.path.arc.zero.2.html
+++ b/content/canvas/test/test_2d.path.arc.zero.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.zero.2</title>
 <!-- Testing: arc() draws nothing when startAngle = endAngle and clockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arc.zeroradius.html b/content/canvas/test/test_2d.path.arc.zeroradius.html
--- a/content/canvas/test/test_2d.path.arc.zeroradius.html
+++ b/content/canvas/test/test_2d.path.arc.zeroradius.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arc.zeroradius</title>
 <!-- Testing: arc() with zero radius draws a line to the start point -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.coincide.1.html b/content/canvas/test/test_2d.path.arcTo.coincide.1.html
--- a/content/canvas/test/test_2d.path.arcTo.coincide.1.html
+++ b/content/canvas/test/test_2d.path.arcTo.coincide.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.coincide.1</title>
 <!-- Testing: arcTo() has no effect if P0 = P1 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.coincide.2.html b/content/canvas/test/test_2d.path.arcTo.coincide.2.html
--- a/content/canvas/test/test_2d.path.arcTo.coincide.2.html
+++ b/content/canvas/test/test_2d.path.arcTo.coincide.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.coincide.2</title>
 <!-- Testing: arcTo() draws a straight line to P1 if P1 = P2 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.collinear.1.html b/content/canvas/test/test_2d.path.arcTo.collinear.1.html
--- a/content/canvas/test/test_2d.path.arcTo.collinear.1.html
+++ b/content/canvas/test/test_2d.path.arcTo.collinear.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.collinear.1</title>
 <!-- Testing: arcTo() with all points on a line, and P1 between P0/P2, draws a straight line to P1 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.collinear.2.html b/content/canvas/test/test_2d.path.arcTo.collinear.2.html
--- a/content/canvas/test/test_2d.path.arcTo.collinear.2.html
+++ b/content/canvas/test/test_2d.path.arcTo.collinear.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.collinear.2</title>
 <!-- Testing: arcTo() with all points on a line, and P2 between P0/P1, draws an infinite line along P1..P2 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.collinear.3.html b/content/canvas/test/test_2d.path.arcTo.collinear.3.html
--- a/content/canvas/test/test_2d.path.arcTo.collinear.3.html
+++ b/content/canvas/test/test_2d.path.arcTo.collinear.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.collinear.3</title>
 <!-- Testing: arcTo() with all points on a line, and P0 between P1/P2, draws an infinite line along P1..P2 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.emptysubpath.html b/content/canvas/test/test_2d.path.arcTo.emptysubpath.html
--- a/content/canvas/test/test_2d.path.arcTo.emptysubpath.html
+++ b/content/canvas/test/test_2d.path.arcTo.emptysubpath.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.emptysubpath</title>
 <!-- Testing: arcTo() does nothing if there are no subpaths -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.negative.html b/content/canvas/test/test_2d.path.arcTo.negative.html
--- a/content/canvas/test/test_2d.path.arcTo.negative.html
+++ b/content/canvas/test/test_2d.path.arcTo.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.negative</title>
 <!-- Testing: arcTo() with negative radius throws an exception -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.arcTo.nonfinite.html b/content/canvas/test/test_2d.path.arcTo.nonfinite.html
--- a/content/canvas/test/test_2d.path.arcTo.nonfinite.html
+++ b/content/canvas/test/test_2d.path.arcTo.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.nonfinite</title>
 <!-- Testing: arcTo() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.scale.html b/content/canvas/test/test_2d.path.arcTo.scale.html
--- a/content/canvas/test/test_2d.path.arcTo.scale.html
+++ b/content/canvas/test/test_2d.path.arcTo.scale.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.scale</title>
 <!-- Testing: arcTo scales the curve, not just the control points -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.shape.curve1.html b/content/canvas/test/test_2d.path.arcTo.shape.curve1.html
--- a/content/canvas/test/test_2d.path.arcTo.shape.curve1.html
+++ b/content/canvas/test/test_2d.path.arcTo.shape.curve1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.shape.curve1</title>
 <!-- Testing: arcTo() curves in the right kind of shape -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.shape.curve2.html b/content/canvas/test/test_2d.path.arcTo.shape.curve2.html
--- a/content/canvas/test/test_2d.path.arcTo.shape.curve2.html
+++ b/content/canvas/test/test_2d.path.arcTo.shape.curve2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.shape.curve2</title>
 <!-- Testing: arcTo() curves in the right kind of shape -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.shape.end.html b/content/canvas/test/test_2d.path.arcTo.shape.end.html
--- a/content/canvas/test/test_2d.path.arcTo.shape.end.html
+++ b/content/canvas/test/test_2d.path.arcTo.shape.end.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.shape.end</title>
 <!-- Testing: arcTo() does not draw anything from P1 to P2 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.shape.start.html b/content/canvas/test/test_2d.path.arcTo.shape.start.html
--- a/content/canvas/test/test_2d.path.arcTo.shape.start.html
+++ b/content/canvas/test/test_2d.path.arcTo.shape.start.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.shape.start</title>
 <!-- Testing: arcTo() draws a straight line from P0 to P1 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.transformation.html b/content/canvas/test/test_2d.path.arcTo.transformation.html
--- a/content/canvas/test/test_2d.path.arcTo.transformation.html
+++ b/content/canvas/test/test_2d.path.arcTo.transformation.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.transformation</title>
 <!-- Testing: arcTo joins up to the last subpath point correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.zero.1.html b/content/canvas/test/test_2d.path.arcTo.zero.1.html
--- a/content/canvas/test/test_2d.path.arcTo.zero.1.html
+++ b/content/canvas/test/test_2d.path.arcTo.zero.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.zero.1</title>
 <!-- Testing: arcTo() with zero radius draws a straight line from P0 to P1 -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.arcTo.zero.2.html b/content/canvas/test/test_2d.path.arcTo.zero.2.html
--- a/content/canvas/test/test_2d.path.arcTo.zero.2.html
+++ b/content/canvas/test/test_2d.path.arcTo.zero.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.arcTo.zero.2</title>
 <!-- Testing: arcTo() with zero radius draws a straight line from P0 to P1, even when all points are collinear -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.beginPath.html b/content/canvas/test/test_2d.path.beginPath.html
--- a/content/canvas/test/test_2d.path.beginPath.html
+++ b/content/canvas/test/test_2d.path.beginPath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.beginPath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.bezierCurveTo.basic.html b/content/canvas/test/test_2d.path.bezierCurveTo.basic.html
--- a/content/canvas/test/test_2d.path.bezierCurveTo.basic.html
+++ b/content/canvas/test/test_2d.path.bezierCurveTo.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.bezierCurveTo.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.bezierCurveTo.emptysubpath.html b/content/canvas/test/test_2d.path.bezierCurveTo.emptysubpath.html
--- a/content/canvas/test/test_2d.path.bezierCurveTo.emptysubpath.html
+++ b/content/canvas/test/test_2d.path.bezierCurveTo.emptysubpath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.bezierCurveTo.emptysubpath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.bezierCurveTo.nonfinite.html b/content/canvas/test/test_2d.path.bezierCurveTo.nonfinite.html
--- a/content/canvas/test/test_2d.path.bezierCurveTo.nonfinite.html
+++ b/content/canvas/test/test_2d.path.bezierCurveTo.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.bezierCurveTo.nonfinite</title>
 <!-- Testing: bezierCurveTo() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.bezierCurveTo.scaled.html b/content/canvas/test/test_2d.path.bezierCurveTo.scaled.html
--- a/content/canvas/test/test_2d.path.bezierCurveTo.scaled.html
+++ b/content/canvas/test/test_2d.path.bezierCurveTo.scaled.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.bezierCurveTo.scaled</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.bezierCurveTo.shape.html b/content/canvas/test/test_2d.path.bezierCurveTo.shape.html
--- a/content/canvas/test/test_2d.path.bezierCurveTo.shape.html
+++ b/content/canvas/test/test_2d.path.bezierCurveTo.shape.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.bezierCurveTo.shape</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.basic.1.html b/content/canvas/test/test_2d.path.clip.basic.1.html
--- a/content/canvas/test/test_2d.path.clip.basic.1.html
+++ b/content/canvas/test/test_2d.path.clip.basic.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.basic.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.basic.2.html b/content/canvas/test/test_2d.path.clip.basic.2.html
--- a/content/canvas/test/test_2d.path.clip.basic.2.html
+++ b/content/canvas/test/test_2d.path.clip.basic.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.basic.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.empty.html b/content/canvas/test/test_2d.path.clip.empty.html
--- a/content/canvas/test/test_2d.path.clip.empty.html
+++ b/content/canvas/test/test_2d.path.clip.empty.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.empty</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.intersect.html b/content/canvas/test/test_2d.path.clip.intersect.html
--- a/content/canvas/test/test_2d.path.clip.intersect.html
+++ b/content/canvas/test/test_2d.path.clip.intersect.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.intersect</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.unaffected.html b/content/canvas/test/test_2d.path.clip.unaffected.html
--- a/content/canvas/test/test_2d.path.clip.unaffected.html
+++ b/content/canvas/test/test_2d.path.clip.unaffected.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.unaffected</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.winding.1.html b/content/canvas/test/test_2d.path.clip.winding.1.html
--- a/content/canvas/test/test_2d.path.clip.winding.1.html
+++ b/content/canvas/test/test_2d.path.clip.winding.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.winding.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.clip.winding.2.html b/content/canvas/test/test_2d.path.clip.winding.2.html
--- a/content/canvas/test/test_2d.path.clip.winding.2.html
+++ b/content/canvas/test/test_2d.path.clip.winding.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.clip.winding.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.closePath.empty.html b/content/canvas/test/test_2d.path.closePath.empty.html
--- a/content/canvas/test/test_2d.path.closePath.empty.html
+++ b/content/canvas/test/test_2d.path.closePath.empty.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.closePath.empty</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.closePath.newline.html b/content/canvas/test/test_2d.path.closePath.newline.html
--- a/content/canvas/test/test_2d.path.closePath.newline.html
+++ b/content/canvas/test/test_2d.path.closePath.newline.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.closePath.newline</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.closePath.nextpoint.html b/content/canvas/test/test_2d.path.closePath.nextpoint.html
--- a/content/canvas/test/test_2d.path.closePath.nextpoint.html
+++ b/content/canvas/test/test_2d.path.closePath.nextpoint.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.closePath.nextpoint</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.closed.basic.html b/content/canvas/test/test_2d.path.fill.closed.basic.html
--- a/content/canvas/test/test_2d.path.fill.closed.basic.html
+++ b/content/canvas/test/test_2d.path.fill.closed.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.closed.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.closed.unaffected.html b/content/canvas/test/test_2d.path.fill.closed.unaffected.html
--- a/content/canvas/test/test_2d.path.fill.closed.unaffected.html
+++ b/content/canvas/test/test_2d.path.fill.closed.unaffected.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.closed.unaffected</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.overlap.html b/content/canvas/test/test_2d.path.fill.overlap.html
--- a/content/canvas/test/test_2d.path.fill.overlap.html
+++ b/content/canvas/test/test_2d.path.fill.overlap.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.overlap</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.winding.add.html b/content/canvas/test/test_2d.path.fill.winding.add.html
--- a/content/canvas/test/test_2d.path.fill.winding.add.html
+++ b/content/canvas/test/test_2d.path.fill.winding.add.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.winding.add</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.winding.subtract.1.html b/content/canvas/test/test_2d.path.fill.winding.subtract.1.html
--- a/content/canvas/test/test_2d.path.fill.winding.subtract.1.html
+++ b/content/canvas/test/test_2d.path.fill.winding.subtract.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.winding.subtract.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.winding.subtract.2.html b/content/canvas/test/test_2d.path.fill.winding.subtract.2.html
--- a/content/canvas/test/test_2d.path.fill.winding.subtract.2.html
+++ b/content/canvas/test/test_2d.path.fill.winding.subtract.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.winding.subtract.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.fill.winding.subtract.3.html b/content/canvas/test/test_2d.path.fill.winding.subtract.3.html
--- a/content/canvas/test/test_2d.path.fill.winding.subtract.3.html
+++ b/content/canvas/test/test_2d.path.fill.winding.subtract.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.fill.winding.subtract.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.initial.html b/content/canvas/test/test_2d.path.initial.html
--- a/content/canvas/test/test_2d.path.initial.html
+++ b/content/canvas/test/test_2d.path.initial.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.initial</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.isPointInPath.arc.html b/content/canvas/test/test_2d.path.isPointInPath.arc.html
--- a/content/canvas/test/test_2d.path.isPointInPath.arc.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.arc.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.arc</title>
 <!-- Testing: isPointInPath() works on arcs -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.basic.1.html b/content/canvas/test/test_2d.path.isPointInPath.basic.1.html
--- a/content/canvas/test/test_2d.path.isPointInPath.basic.1.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.basic.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.basic.1</title>
 <!-- Testing: isPointInPath() detects whether the point is inside the path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.basic.2.html b/content/canvas/test/test_2d.path.isPointInPath.basic.2.html
--- a/content/canvas/test/test_2d.path.isPointInPath.basic.2.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.basic.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.basic.2</title>
 <!-- Testing: isPointInPath() detects whether the point is inside the path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.bezier.html b/content/canvas/test/test_2d.path.isPointInPath.bezier.html
--- a/content/canvas/test/test_2d.path.isPointInPath.bezier.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.bezier.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.bezier</title>
 <!-- Testing: isPointInPath() works on Bezier curves -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.bigarc.html b/content/canvas/test/test_2d.path.isPointInPath.bigarc.html
--- a/content/canvas/test/test_2d.path.isPointInPath.bigarc.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.bigarc.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.bigarc</title>
 <!-- Testing: isPointInPath() works on unclosed arcs larger than 2pi -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.edge.html b/content/canvas/test/test_2d.path.isPointInPath.edge.html
--- a/content/canvas/test/test_2d.path.isPointInPath.edge.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.edge.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.edge</title>
 <!-- Testing: isPointInPath() counts points on the path as being inside -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.empty.html b/content/canvas/test/test_2d.path.isPointInPath.empty.html
--- a/content/canvas/test/test_2d.path.isPointInPath.empty.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.empty.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.empty</title>
 <!-- Testing: isPointInPath() works when there is no path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.nonfinite.html b/content/canvas/test/test_2d.path.isPointInPath.nonfinite.html
--- a/content/canvas/test/test_2d.path.isPointInPath.nonfinite.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.nonfinite</title>
 <!-- Testing: isPointInPath() returns false for non-finite arguments -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.outside.html b/content/canvas/test/test_2d.path.isPointInPath.outside.html
--- a/content/canvas/test/test_2d.path.isPointInPath.outside.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.outside.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.outside</title>
 <!-- Testing: isPointInPath() works on paths outside the canvas -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.subpath.html b/content/canvas/test/test_2d.path.isPointInPath.subpath.html
--- a/content/canvas/test/test_2d.path.isPointInPath.subpath.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.subpath.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.subpath</title>
 <!-- Testing: isPointInPath() uses the current path, not just the subpath -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.transform.1.html b/content/canvas/test/test_2d.path.isPointInPath.transform.1.html
--- a/content/canvas/test/test_2d.path.isPointInPath.transform.1.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.transform.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.transform.1 - bug 405300</title>
 <!-- Testing: isPointInPath() handles transformations correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.transform.2.html b/content/canvas/test/test_2d.path.isPointInPath.transform.2.html
--- a/content/canvas/test/test_2d.path.isPointInPath.transform.2.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.transform.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.transform.2 - bug 405300</title>
 <!-- Testing: isPointInPath() handles transformations correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.transform.3.html b/content/canvas/test/test_2d.path.isPointInPath.transform.3.html
--- a/content/canvas/test/test_2d.path.isPointInPath.transform.3.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.transform.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.transform.3 - bug 405300</title>
 <!-- Testing: isPointInPath() handles transformations correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.unclosed.html b/content/canvas/test/test_2d.path.isPointInPath.unclosed.html
--- a/content/canvas/test/test_2d.path.isPointInPath.unclosed.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.unclosed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.unclosed</title>
 <!-- Testing: isPointInPath() works on unclosed subpaths -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.isPointInPath.winding.html b/content/canvas/test/test_2d.path.isPointInPath.winding.html
--- a/content/canvas/test/test_2d.path.isPointInPath.winding.html
+++ b/content/canvas/test/test_2d.path.isPointInPath.winding.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.isPointInPath.winding</title>
 <!-- Testing: isPointInPath() uses the non-zero winding number rule -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.path.lineTo.basic.html b/content/canvas/test/test_2d.path.lineTo.basic.html
--- a/content/canvas/test/test_2d.path.lineTo.basic.html
+++ b/content/canvas/test/test_2d.path.lineTo.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.lineTo.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.lineTo.emptysubpath.html b/content/canvas/test/test_2d.path.lineTo.emptysubpath.html
--- a/content/canvas/test/test_2d.path.lineTo.emptysubpath.html
+++ b/content/canvas/test/test_2d.path.lineTo.emptysubpath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.lineTo.emptysubpath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.lineTo.nextpoint.html b/content/canvas/test/test_2d.path.lineTo.nextpoint.html
--- a/content/canvas/test/test_2d.path.lineTo.nextpoint.html
+++ b/content/canvas/test/test_2d.path.lineTo.nextpoint.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.lineTo.nextpoint</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.lineTo.nonfinite.html b/content/canvas/test/test_2d.path.lineTo.nonfinite.html
--- a/content/canvas/test/test_2d.path.lineTo.nonfinite.html
+++ b/content/canvas/test/test_2d.path.lineTo.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.lineTo.nonfinite</title>
 <!-- Testing: lineTo() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.moveTo.basic.html b/content/canvas/test/test_2d.path.moveTo.basic.html
--- a/content/canvas/test/test_2d.path.moveTo.basic.html
+++ b/content/canvas/test/test_2d.path.moveTo.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.moveTo.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.moveTo.multiple.html b/content/canvas/test/test_2d.path.moveTo.multiple.html
--- a/content/canvas/test/test_2d.path.moveTo.multiple.html
+++ b/content/canvas/test/test_2d.path.moveTo.multiple.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.moveTo.multiple</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.moveTo.newsubpath.html b/content/canvas/test/test_2d.path.moveTo.newsubpath.html
--- a/content/canvas/test/test_2d.path.moveTo.newsubpath.html
+++ b/content/canvas/test/test_2d.path.moveTo.newsubpath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.moveTo.newsubpath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.moveTo.nonfinite.html b/content/canvas/test/test_2d.path.moveTo.nonfinite.html
--- a/content/canvas/test/test_2d.path.moveTo.nonfinite.html
+++ b/content/canvas/test/test_2d.path.moveTo.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.moveTo.nonfinite</title>
 <!-- Testing: moveTo() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.quadraticCurveTo.basic.html b/content/canvas/test/test_2d.path.quadraticCurveTo.basic.html
--- a/content/canvas/test/test_2d.path.quadraticCurveTo.basic.html
+++ b/content/canvas/test/test_2d.path.quadraticCurveTo.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.quadraticCurveTo.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.quadraticCurveTo.emptysubpath.html b/content/canvas/test/test_2d.path.quadraticCurveTo.emptysubpath.html
--- a/content/canvas/test/test_2d.path.quadraticCurveTo.emptysubpath.html
+++ b/content/canvas/test/test_2d.path.quadraticCurveTo.emptysubpath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.quadraticCurveTo.emptysubpath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.quadraticCurveTo.nonfinite.html b/content/canvas/test/test_2d.path.quadraticCurveTo.nonfinite.html
--- a/content/canvas/test/test_2d.path.quadraticCurveTo.nonfinite.html
+++ b/content/canvas/test/test_2d.path.quadraticCurveTo.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.quadraticCurveTo.nonfinite</title>
 <!-- Testing: quadraticCurveTo() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.quadraticCurveTo.scaled.html b/content/canvas/test/test_2d.path.quadraticCurveTo.scaled.html
--- a/content/canvas/test/test_2d.path.quadraticCurveTo.scaled.html
+++ b/content/canvas/test/test_2d.path.quadraticCurveTo.scaled.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.quadraticCurveTo.scaled</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.quadraticCurveTo.shape.html b/content/canvas/test/test_2d.path.quadraticCurveTo.shape.html
--- a/content/canvas/test/test_2d.path.quadraticCurveTo.shape.html
+++ b/content/canvas/test/test_2d.path.quadraticCurveTo.shape.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.quadraticCurveTo.shape</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.basic.html b/content/canvas/test/test_2d.path.rect.basic.html
--- a/content/canvas/test/test_2d.path.rect.basic.html
+++ b/content/canvas/test/test_2d.path.rect.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.closed.html b/content/canvas/test/test_2d.path.rect.closed.html
--- a/content/canvas/test/test_2d.path.rect.closed.html
+++ b/content/canvas/test/test_2d.path.rect.closed.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.closed</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.end.1.html b/content/canvas/test/test_2d.path.rect.end.1.html
--- a/content/canvas/test/test_2d.path.rect.end.1.html
+++ b/content/canvas/test/test_2d.path.rect.end.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.end.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.end.2.html b/content/canvas/test/test_2d.path.rect.end.2.html
--- a/content/canvas/test/test_2d.path.rect.end.2.html
+++ b/content/canvas/test/test_2d.path.rect.end.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.end.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.negative.html b/content/canvas/test/test_2d.path.rect.negative.html
--- a/content/canvas/test/test_2d.path.rect.negative.html
+++ b/content/canvas/test/test_2d.path.rect.negative.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.negative</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.newsubpath.html b/content/canvas/test/test_2d.path.rect.newsubpath.html
--- a/content/canvas/test/test_2d.path.rect.newsubpath.html
+++ b/content/canvas/test/test_2d.path.rect.newsubpath.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.newsubpath</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.nonfinite.html b/content/canvas/test/test_2d.path.rect.nonfinite.html
--- a/content/canvas/test/test_2d.path.rect.nonfinite.html
+++ b/content/canvas/test/test_2d.path.rect.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.nonfinite</title>
 <!-- Testing: rect() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.winding.html b/content/canvas/test/test_2d.path.rect.winding.html
--- a/content/canvas/test/test_2d.path.rect.winding.html
+++ b/content/canvas/test/test_2d.path.rect.winding.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.winding</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.zero.1.html b/content/canvas/test/test_2d.path.rect.zero.1.html
--- a/content/canvas/test/test_2d.path.rect.zero.1.html
+++ b/content/canvas/test/test_2d.path.rect.zero.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.zero.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.zero.2.html b/content/canvas/test/test_2d.path.rect.zero.2.html
--- a/content/canvas/test/test_2d.path.rect.zero.2.html
+++ b/content/canvas/test/test_2d.path.rect.zero.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.zero.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.zero.3.html b/content/canvas/test/test_2d.path.rect.zero.3.html
--- a/content/canvas/test/test_2d.path.rect.zero.3.html
+++ b/content/canvas/test/test_2d.path.rect.zero.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.zero.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.zero.4.html b/content/canvas/test/test_2d.path.rect.zero.4.html
--- a/content/canvas/test/test_2d.path.rect.zero.4.html
+++ b/content/canvas/test/test_2d.path.rect.zero.4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.zero.4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.rect.zero.5.html b/content/canvas/test/test_2d.path.rect.zero.5.html
--- a/content/canvas/test/test_2d.path.rect.zero.5.html
+++ b/content/canvas/test/test_2d.path.rect.zero.5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.rect.zero.5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.empty.html b/content/canvas/test/test_2d.path.stroke.empty.html
--- a/content/canvas/test/test_2d.path.stroke.empty.html
+++ b/content/canvas/test/test_2d.path.stroke.empty.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.empty</title>
 <!-- Testing: Empty subpaths are not stroked -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.overlap.html b/content/canvas/test/test_2d.path.stroke.overlap.html
--- a/content/canvas/test/test_2d.path.stroke.overlap.html
+++ b/content/canvas/test/test_2d.path.stroke.overlap.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.overlap</title>
 <!-- Testing: Stroked subpaths are combined before being drawn -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.arc.html b/content/canvas/test/test_2d.path.stroke.prune.arc.html
--- a/content/canvas/test/test_2d.path.stroke.prune.arc.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.arc.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.arc</title>
 <!-- Testing: Zero-length line segments from arcTo and arc are removed before stroking -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.closed.html b/content/canvas/test/test_2d.path.stroke.prune.closed.html
--- a/content/canvas/test/test_2d.path.stroke.prune.closed.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.closed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.closed</title>
 <!-- Testing: Zero-length line segments from closed paths are removed before stroking -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.corner.html b/content/canvas/test/test_2d.path.stroke.prune.corner.html
--- a/content/canvas/test/test_2d.path.stroke.prune.corner.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.corner.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.corner</title>
 <!-- Testing: Zero-length line segments are removed before stroking with miters -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.curve.html b/content/canvas/test/test_2d.path.stroke.prune.curve.html
--- a/content/canvas/test/test_2d.path.stroke.prune.curve.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.curve.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.curve</title>
 <!-- Testing: Zero-length line segments from quadraticCurveTo and bezierCurveTo are removed before stroking -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.line.html b/content/canvas/test/test_2d.path.stroke.prune.line.html
--- a/content/canvas/test/test_2d.path.stroke.prune.line.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.line.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.line</title>
 <!-- Testing: Zero-length line segments from lineTo are removed before stroking -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.prune.rect.html b/content/canvas/test/test_2d.path.stroke.prune.rect.html
--- a/content/canvas/test/test_2d.path.stroke.prune.rect.html
+++ b/content/canvas/test/test_2d.path.stroke.prune.rect.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.prune.rect</title>
 <!-- Testing: Zero-length line segments from rect and strokeRect are removed before stroking -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.scale1.html b/content/canvas/test/test_2d.path.stroke.scale1.html
--- a/content/canvas/test/test_2d.path.stroke.scale1.html
+++ b/content/canvas/test/test_2d.path.stroke.scale1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.scale1</title>
 <!-- Testing: Stroke line widths are scaled by the current transformation matrix -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.scale2.html b/content/canvas/test/test_2d.path.stroke.scale2.html
--- a/content/canvas/test/test_2d.path.stroke.scale2.html
+++ b/content/canvas/test/test_2d.path.stroke.scale2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.scale2</title>
 <!-- Testing: Stroke line widths are scaled by the current transformation matrix -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.skew.html b/content/canvas/test/test_2d.path.stroke.skew.html
--- a/content/canvas/test/test_2d.path.stroke.skew.html
+++ b/content/canvas/test/test_2d.path.stroke.skew.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.skew</title>
 <!-- Testing: Strokes lines are skewed by the current transformation matrix -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.unaffected.html b/content/canvas/test/test_2d.path.stroke.unaffected.html
--- a/content/canvas/test/test_2d.path.stroke.unaffected.html
+++ b/content/canvas/test/test_2d.path.stroke.unaffected.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.unaffected</title>
 <!-- Testing: Stroking does not start a new path or subpath -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.stroke.union.html b/content/canvas/test/test_2d.path.stroke.union.html
--- a/content/canvas/test/test_2d.path.stroke.union.html
+++ b/content/canvas/test/test_2d.path.stroke.union.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.stroke.union</title>
 <!-- Testing: Strokes in opposite directions are unioned, not subtracted -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.transformation.basic.html b/content/canvas/test/test_2d.path.transformation.basic.html
--- a/content/canvas/test/test_2d.path.transformation.basic.html
+++ b/content/canvas/test/test_2d.path.transformation.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.transformation.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.transformation.changing.html b/content/canvas/test/test_2d.path.transformation.changing.html
--- a/content/canvas/test/test_2d.path.transformation.changing.html
+++ b/content/canvas/test/test_2d.path.transformation.changing.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.transformation.changing</title>
 <!-- Testing: Transformations are applied while building paths, not when drawing -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.path.transformation.multiple.html b/content/canvas/test/test_2d.path.transformation.multiple.html
--- a/content/canvas/test/test_2d.path.transformation.multiple.html
+++ b/content/canvas/test/test_2d.path.transformation.multiple.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.path.transformation.multiple</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.animated.gif.html b/content/canvas/test/test_2d.pattern.animated.gif.html
--- a/content/canvas/test/test_2d.pattern.animated.gif.html
+++ b/content/canvas/test/test_2d.pattern.animated.gif.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.animated.gif</title>
 <!-- Testing: createPattern() of an animated GIF draws the first frame -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.basic.canvas.html b/content/canvas/test/test_2d.pattern.basic.canvas.html
--- a/content/canvas/test/test_2d.pattern.basic.canvas.html
+++ b/content/canvas/test/test_2d.pattern.basic.canvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.basic.canvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.basic.image.html b/content/canvas/test/test_2d.pattern.basic.image.html
--- a/content/canvas/test/test_2d.pattern.basic.image.html
+++ b/content/canvas/test/test_2d.pattern.basic.image.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.basic.image</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.basic.nocontext.html b/content/canvas/test/test_2d.pattern.basic.nocontext.html
--- a/content/canvas/test/test_2d.pattern.basic.nocontext.html
+++ b/content/canvas/test/test_2d.pattern.basic.nocontext.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.basic.nocontext</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.basic.type.html b/content/canvas/test/test_2d.pattern.basic.type.html
--- a/content/canvas/test/test_2d.pattern.basic.type.html
+++ b/content/canvas/test/test_2d.pattern.basic.type.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.basic.type</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.basic.zerocanvas.html b/content/canvas/test/test_2d.pattern.basic.zerocanvas.html
--- a/content/canvas/test/test_2d.pattern.basic.zerocanvas.html
+++ b/content/canvas/test/test_2d.pattern.basic.zerocanvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.basic.zerocanvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.crosscanvas.html b/content/canvas/test/test_2d.pattern.crosscanvas.html
--- a/content/canvas/test/test_2d.pattern.crosscanvas.html
+++ b/content/canvas/test/test_2d.pattern.crosscanvas.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.crosscanvas</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.image.broken.html b/content/canvas/test/test_2d.pattern.image.broken.html
--- a/content/canvas/test/test_2d.pattern.image.broken.html
+++ b/content/canvas/test/test_2d.pattern.image.broken.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.image.broken</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.image.incomplete.html b/content/canvas/test/test_2d.pattern.image.incomplete.html
--- a/content/canvas/test/test_2d.pattern.image.incomplete.html
+++ b/content/canvas/test/test_2d.pattern.image.incomplete.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.image.incomplete</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.image.null.html b/content/canvas/test/test_2d.pattern.image.null.html
--- a/content/canvas/test/test_2d.pattern.image.null.html
+++ b/content/canvas/test/test_2d.pattern.image.null.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.image.null</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.image.string.html b/content/canvas/test/test_2d.pattern.image.string.html
--- a/content/canvas/test/test_2d.pattern.image.string.html
+++ b/content/canvas/test/test_2d.pattern.image.string.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.image.string</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.image.undefined.html b/content/canvas/test/test_2d.pattern.image.undefined.html
--- a/content/canvas/test/test_2d.pattern.image.undefined.html
+++ b/content/canvas/test/test_2d.pattern.image.undefined.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.image.undefined</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.modify.canvas1.html b/content/canvas/test/test_2d.pattern.modify.canvas1.html
--- a/content/canvas/test/test_2d.pattern.modify.canvas1.html
+++ b/content/canvas/test/test_2d.pattern.modify.canvas1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.modify.canvas1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.modify.canvas2.html b/content/canvas/test/test_2d.pattern.modify.canvas2.html
--- a/content/canvas/test/test_2d.pattern.modify.canvas2.html
+++ b/content/canvas/test/test_2d.pattern.modify.canvas2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.modify.canvas2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.modify.image1.html b/content/canvas/test/test_2d.pattern.modify.image1.html
--- a/content/canvas/test/test_2d.pattern.modify.image1.html
+++ b/content/canvas/test/test_2d.pattern.modify.image1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.modify.image1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.modify.image2.html b/content/canvas/test/test_2d.pattern.modify.image2.html
--- a/content/canvas/test/test_2d.pattern.modify.image2.html
+++ b/content/canvas/test/test_2d.pattern.modify.image2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.modify.image2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.norepeat.basic.html b/content/canvas/test/test_2d.pattern.paint.norepeat.basic.html
--- a/content/canvas/test/test_2d.pattern.paint.norepeat.basic.html
+++ b/content/canvas/test/test_2d.pattern.paint.norepeat.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.norepeat.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.norepeat.coord1.html b/content/canvas/test/test_2d.pattern.paint.norepeat.coord1.html
--- a/content/canvas/test/test_2d.pattern.paint.norepeat.coord1.html
+++ b/content/canvas/test/test_2d.pattern.paint.norepeat.coord1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.norepeat.coord1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.norepeat.coord2.html b/content/canvas/test/test_2d.pattern.paint.norepeat.coord2.html
--- a/content/canvas/test/test_2d.pattern.paint.norepeat.coord2.html
+++ b/content/canvas/test/test_2d.pattern.paint.norepeat.coord2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.norepeat.coord2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.norepeat.coord3.html b/content/canvas/test/test_2d.pattern.paint.norepeat.coord3.html
--- a/content/canvas/test/test_2d.pattern.paint.norepeat.coord3.html
+++ b/content/canvas/test/test_2d.pattern.paint.norepeat.coord3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.norepeat.coord3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.norepeat.outside.html b/content/canvas/test/test_2d.pattern.paint.norepeat.outside.html
--- a/content/canvas/test/test_2d.pattern.paint.norepeat.outside.html
+++ b/content/canvas/test/test_2d.pattern.paint.norepeat.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.norepeat.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.orientation.canvas.html b/content/canvas/test/test_2d.pattern.paint.orientation.canvas.html
--- a/content/canvas/test/test_2d.pattern.paint.orientation.canvas.html
+++ b/content/canvas/test/test_2d.pattern.paint.orientation.canvas.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.orientation.canvas</title>
 <!-- Testing: Canvas patterns do not get flipped when painted -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.orientation.image.html b/content/canvas/test/test_2d.pattern.paint.orientation.image.html
--- a/content/canvas/test/test_2d.pattern.paint.orientation.image.html
+++ b/content/canvas/test/test_2d.pattern.paint.orientation.image.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.orientation.image</title>
 <!-- Testing: Image patterns do not get flipped when painted -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeat.basic.html b/content/canvas/test/test_2d.pattern.paint.repeat.basic.html
--- a/content/canvas/test/test_2d.pattern.paint.repeat.basic.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeat.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeat.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeat.coord1.html b/content/canvas/test/test_2d.pattern.paint.repeat.coord1.html
--- a/content/canvas/test/test_2d.pattern.paint.repeat.coord1.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeat.coord1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeat.coord1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeat.coord2.html b/content/canvas/test/test_2d.pattern.paint.repeat.coord2.html
--- a/content/canvas/test/test_2d.pattern.paint.repeat.coord2.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeat.coord2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeat.coord2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeat.coord3.html b/content/canvas/test/test_2d.pattern.paint.repeat.coord3.html
--- a/content/canvas/test/test_2d.pattern.paint.repeat.coord3.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeat.coord3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeat.coord3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeat.outside.html b/content/canvas/test/test_2d.pattern.paint.repeat.outside.html
--- a/content/canvas/test/test_2d.pattern.paint.repeat.outside.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeat.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeat.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeatx.basic.html b/content/canvas/test/test_2d.pattern.paint.repeatx.basic.html
--- a/content/canvas/test/test_2d.pattern.paint.repeatx.basic.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeatx.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeatx.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeatx.coord1.html b/content/canvas/test/test_2d.pattern.paint.repeatx.coord1.html
--- a/content/canvas/test/test_2d.pattern.paint.repeatx.coord1.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeatx.coord1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeatx.coord1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeatx.outside.html b/content/canvas/test/test_2d.pattern.paint.repeatx.outside.html
--- a/content/canvas/test/test_2d.pattern.paint.repeatx.outside.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeatx.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeatx.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeaty.basic.html b/content/canvas/test/test_2d.pattern.paint.repeaty.basic.html
--- a/content/canvas/test/test_2d.pattern.paint.repeaty.basic.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeaty.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeaty.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeaty.coord1.html b/content/canvas/test/test_2d.pattern.paint.repeaty.coord1.html
--- a/content/canvas/test/test_2d.pattern.paint.repeaty.coord1.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeaty.coord1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeaty.coord1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.paint.repeaty.outside.html b/content/canvas/test/test_2d.pattern.paint.repeaty.outside.html
--- a/content/canvas/test/test_2d.pattern.paint.repeaty.outside.html
+++ b/content/canvas/test/test_2d.pattern.paint.repeaty.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.paint.repeaty.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.repeat.case.html b/content/canvas/test/test_2d.pattern.repeat.case.html
--- a/content/canvas/test/test_2d.pattern.repeat.case.html
+++ b/content/canvas/test/test_2d.pattern.repeat.case.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.case</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.repeat.empty.html b/content/canvas/test/test_2d.pattern.repeat.empty.html
--- a/content/canvas/test/test_2d.pattern.repeat.empty.html
+++ b/content/canvas/test/test_2d.pattern.repeat.empty.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.empty</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.repeat.null.html b/content/canvas/test/test_2d.pattern.repeat.null.html
--- a/content/canvas/test/test_2d.pattern.repeat.null.html
+++ b/content/canvas/test/test_2d.pattern.repeat.null.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.null</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.pattern.repeat.nullsuffix.html b/content/canvas/test/test_2d.pattern.repeat.nullsuffix.html
--- a/content/canvas/test/test_2d.pattern.repeat.nullsuffix.html
+++ b/content/canvas/test/test_2d.pattern.repeat.nullsuffix.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.nullsuffix</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.repeat.undefined.html b/content/canvas/test/test_2d.pattern.repeat.undefined.html
--- a/content/canvas/test/test_2d.pattern.repeat.undefined.html
+++ b/content/canvas/test/test_2d.pattern.repeat.undefined.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.undefined</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.pattern.repeat.unrecognised.html b/content/canvas/test/test_2d.pattern.repeat.unrecognised.html
--- a/content/canvas/test/test_2d.pattern.repeat.unrecognised.html
+++ b/content/canvas/test/test_2d.pattern.repeat.unrecognised.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.pattern.repeat.unrecognised</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.scaled.html b/content/canvas/test/test_2d.scaled.html
--- a/content/canvas/test/test_2d.scaled.html
+++ b/content/canvas/test/test_2d.scaled.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.scaled</title>
 <!-- Testing: CSS-scaled canvases get drawn correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="25" style="width: 100px; height: 50px"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.alpha.1.html b/content/canvas/test/test_2d.shadow.alpha.1.html
--- a/content/canvas/test/test_2d.shadow.alpha.1.html
+++ b/content/canvas/test/test_2d.shadow.alpha.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.alpha.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.alpha.2.html b/content/canvas/test/test_2d.shadow.alpha.2.html
--- a/content/canvas/test/test_2d.shadow.alpha.2.html
+++ b/content/canvas/test/test_2d.shadow.alpha.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.alpha.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.alpha.3.html b/content/canvas/test/test_2d.shadow.alpha.3.html
--- a/content/canvas/test/test_2d.shadow.alpha.3.html
+++ b/content/canvas/test/test_2d.shadow.alpha.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.alpha.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.alpha.4.html b/content/canvas/test/test_2d.shadow.alpha.4.html
--- a/content/canvas/test/test_2d.shadow.alpha.4.html
+++ b/content/canvas/test/test_2d.shadow.alpha.4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.alpha.4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.alpha.5.html b/content/canvas/test/test_2d.shadow.alpha.5.html
--- a/content/canvas/test/test_2d.shadow.alpha.5.html
+++ b/content/canvas/test/test_2d.shadow.alpha.5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.alpha.5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowBlur.1.html b/content/canvas/test/test_2d.shadow.attributes.shadowBlur.1.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowBlur.1.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowBlur.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowBlur.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowBlur.2.html b/content/canvas/test/test_2d.shadow.attributes.shadowBlur.2.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowBlur.2.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowBlur.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowBlur.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowColor.1.html b/content/canvas/test/test_2d.shadow.attributes.shadowColor.1.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowColor.1.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowColor.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowColor.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowColor.2.html b/content/canvas/test/test_2d.shadow.attributes.shadowColor.2.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowColor.2.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowColor.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowColor.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowOffset.1.html b/content/canvas/test/test_2d.shadow.attributes.shadowOffset.1.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowOffset.1.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowOffset.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowOffset.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.attributes.shadowOffset.2.html b/content/canvas/test/test_2d.shadow.attributes.shadowOffset.2.html
--- a/content/canvas/test/test_2d.shadow.attributes.shadowOffset.2.html
+++ b/content/canvas/test/test_2d.shadow.attributes.shadowOffset.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.attributes.shadowOffset.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.basic.1.html b/content/canvas/test/test_2d.shadow.basic.1.html
--- a/content/canvas/test/test_2d.shadow.basic.1.html
+++ b/content/canvas/test/test_2d.shadow.basic.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.basic.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.basic.2.html b/content/canvas/test/test_2d.shadow.basic.2.html
--- a/content/canvas/test/test_2d.shadow.basic.2.html
+++ b/content/canvas/test/test_2d.shadow.basic.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.basic.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.blur.high.html b/content/canvas/test/test_2d.shadow.blur.high.html
--- a/content/canvas/test/test_2d.shadow.blur.high.html
+++ b/content/canvas/test/test_2d.shadow.blur.high.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.blur.high</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.blur.low.html b/content/canvas/test/test_2d.shadow.blur.low.html
--- a/content/canvas/test/test_2d.shadow.blur.low.html
+++ b/content/canvas/test/test_2d.shadow.blur.low.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.blur.low</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.shadow.canvas.alpha.html b/content/canvas/test/test_2d.shadow.canvas.alpha.html
--- a/content/canvas/test/test_2d.shadow.canvas.alpha.html
+++ b/content/canvas/test/test_2d.shadow.canvas.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.canvas.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.canvas.basic.html b/content/canvas/test/test_2d.shadow.canvas.basic.html
--- a/content/canvas/test/test_2d.shadow.canvas.basic.html
+++ b/content/canvas/test/test_2d.shadow.canvas.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.canvas.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.canvas.transparent.1.html b/content/canvas/test/test_2d.shadow.canvas.transparent.1.html
--- a/content/canvas/test/test_2d.shadow.canvas.transparent.1.html
+++ b/content/canvas/test/test_2d.shadow.canvas.transparent.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.canvas.transparent.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.canvas.transparent.2.html b/content/canvas/test/test_2d.shadow.canvas.transparent.2.html
--- a/content/canvas/test/test_2d.shadow.canvas.transparent.2.html
+++ b/content/canvas/test/test_2d.shadow.canvas.transparent.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.canvas.transparent.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.clip.1.html b/content/canvas/test/test_2d.shadow.clip.1.html
--- a/content/canvas/test/test_2d.shadow.clip.1.html
+++ b/content/canvas/test/test_2d.shadow.clip.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.clip.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.clip.2.html b/content/canvas/test/test_2d.shadow.clip.2.html
--- a/content/canvas/test/test_2d.shadow.clip.2.html
+++ b/content/canvas/test/test_2d.shadow.clip.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.clip.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.clip.3.html b/content/canvas/test/test_2d.shadow.clip.3.html
--- a/content/canvas/test/test_2d.shadow.clip.3.html
+++ b/content/canvas/test/test_2d.shadow.clip.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.clip.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.composite.1.html b/content/canvas/test/test_2d.shadow.composite.1.html
--- a/content/canvas/test/test_2d.shadow.composite.1.html
+++ b/content/canvas/test/test_2d.shadow.composite.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.composite.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.composite.2.html b/content/canvas/test/test_2d.shadow.composite.2.html
--- a/content/canvas/test/test_2d.shadow.composite.2.html
+++ b/content/canvas/test/test_2d.shadow.composite.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.composite.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.composite.3.html b/content/canvas/test/test_2d.shadow.composite.3.html
--- a/content/canvas/test/test_2d.shadow.composite.3.html
+++ b/content/canvas/test/test_2d.shadow.composite.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.composite.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.composite.4.html b/content/canvas/test/test_2d.shadow.composite.4.html
--- a/content/canvas/test/test_2d.shadow.composite.4.html
+++ b/content/canvas/test/test_2d.shadow.composite.4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.composite.4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.gradient.alpha.html b/content/canvas/test/test_2d.shadow.gradient.alpha.html
--- a/content/canvas/test/test_2d.shadow.gradient.alpha.html
+++ b/content/canvas/test/test_2d.shadow.gradient.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.gradient.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.gradient.basic.html b/content/canvas/test/test_2d.shadow.gradient.basic.html
--- a/content/canvas/test/test_2d.shadow.gradient.basic.html
+++ b/content/canvas/test/test_2d.shadow.gradient.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.gradient.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.gradient.transparent.1.html b/content/canvas/test/test_2d.shadow.gradient.transparent.1.html
--- a/content/canvas/test/test_2d.shadow.gradient.transparent.1.html
+++ b/content/canvas/test/test_2d.shadow.gradient.transparent.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.gradient.transparent.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.gradient.transparent.2.html b/content/canvas/test/test_2d.shadow.gradient.transparent.2.html
--- a/content/canvas/test/test_2d.shadow.gradient.transparent.2.html
+++ b/content/canvas/test/test_2d.shadow.gradient.transparent.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.gradient.transparent.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.alpha.html b/content/canvas/test/test_2d.shadow.image.alpha.html
--- a/content/canvas/test/test_2d.shadow.image.alpha.html
+++ b/content/canvas/test/test_2d.shadow.image.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.basic.html b/content/canvas/test/test_2d.shadow.image.basic.html
--- a/content/canvas/test/test_2d.shadow.image.basic.html
+++ b/content/canvas/test/test_2d.shadow.image.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.scale.html b/content/canvas/test/test_2d.shadow.image.scale.html
--- a/content/canvas/test/test_2d.shadow.image.scale.html
+++ b/content/canvas/test/test_2d.shadow.image.scale.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.scale</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.section.html b/content/canvas/test/test_2d.shadow.image.section.html
--- a/content/canvas/test/test_2d.shadow.image.section.html
+++ b/content/canvas/test/test_2d.shadow.image.section.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.section</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.transparent.1.html b/content/canvas/test/test_2d.shadow.image.transparent.1.html
--- a/content/canvas/test/test_2d.shadow.image.transparent.1.html
+++ b/content/canvas/test/test_2d.shadow.image.transparent.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.transparent.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.image.transparent.2.html b/content/canvas/test/test_2d.shadow.image.transparent.2.html
--- a/content/canvas/test/test_2d.shadow.image.transparent.2.html
+++ b/content/canvas/test/test_2d.shadow.image.transparent.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.image.transparent.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.offset.negativeX.html b/content/canvas/test/test_2d.shadow.offset.negativeX.html
--- a/content/canvas/test/test_2d.shadow.offset.negativeX.html
+++ b/content/canvas/test/test_2d.shadow.offset.negativeX.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.offset.negativeX</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.offset.negativeY.html b/content/canvas/test/test_2d.shadow.offset.negativeY.html
--- a/content/canvas/test/test_2d.shadow.offset.negativeY.html
+++ b/content/canvas/test/test_2d.shadow.offset.negativeY.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.offset.negativeY</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.offset.positiveX.html b/content/canvas/test/test_2d.shadow.offset.positiveX.html
--- a/content/canvas/test/test_2d.shadow.offset.positiveX.html
+++ b/content/canvas/test/test_2d.shadow.offset.positiveX.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.offset.positiveX</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.offset.positiveY.html b/content/canvas/test/test_2d.shadow.offset.positiveY.html
--- a/content/canvas/test/test_2d.shadow.offset.positiveY.html
+++ b/content/canvas/test/test_2d.shadow.offset.positiveY.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.offset.positiveY</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.outside.html b/content/canvas/test/test_2d.shadow.outside.html
--- a/content/canvas/test/test_2d.shadow.outside.html
+++ b/content/canvas/test/test_2d.shadow.outside.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.outside</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.pattern.alpha.html b/content/canvas/test/test_2d.shadow.pattern.alpha.html
--- a/content/canvas/test/test_2d.shadow.pattern.alpha.html
+++ b/content/canvas/test/test_2d.shadow.pattern.alpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.pattern.alpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.pattern.basic.html b/content/canvas/test/test_2d.shadow.pattern.basic.html
--- a/content/canvas/test/test_2d.shadow.pattern.basic.html
+++ b/content/canvas/test/test_2d.shadow.pattern.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.pattern.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.pattern.transparent.1.html b/content/canvas/test/test_2d.shadow.pattern.transparent.1.html
--- a/content/canvas/test/test_2d.shadow.pattern.transparent.1.html
+++ b/content/canvas/test/test_2d.shadow.pattern.transparent.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.pattern.transparent.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.pattern.transparent.2.html b/content/canvas/test/test_2d.shadow.pattern.transparent.2.html
--- a/content/canvas/test/test_2d.shadow.pattern.transparent.2.html
+++ b/content/canvas/test/test_2d.shadow.pattern.transparent.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.pattern.transparent.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.basic.html b/content/canvas/test/test_2d.shadow.stroke.basic.html
--- a/content/canvas/test/test_2d.shadow.stroke.basic.html
+++ b/content/canvas/test/test_2d.shadow.stroke.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.cap.1.html b/content/canvas/test/test_2d.shadow.stroke.cap.1.html
--- a/content/canvas/test/test_2d.shadow.stroke.cap.1.html
+++ b/content/canvas/test/test_2d.shadow.stroke.cap.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.cap.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.cap.2.html b/content/canvas/test/test_2d.shadow.stroke.cap.2.html
--- a/content/canvas/test/test_2d.shadow.stroke.cap.2.html
+++ b/content/canvas/test/test_2d.shadow.stroke.cap.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.cap.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.join.1.html b/content/canvas/test/test_2d.shadow.stroke.join.1.html
--- a/content/canvas/test/test_2d.shadow.stroke.join.1.html
+++ b/content/canvas/test/test_2d.shadow.stroke.join.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.join.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.join.2.html b/content/canvas/test/test_2d.shadow.stroke.join.2.html
--- a/content/canvas/test/test_2d.shadow.stroke.join.2.html
+++ b/content/canvas/test/test_2d.shadow.stroke.join.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.join.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.stroke.join.3.html b/content/canvas/test/test_2d.shadow.stroke.join.3.html
--- a/content/canvas/test/test_2d.shadow.stroke.join.3.html
+++ b/content/canvas/test/test_2d.shadow.stroke.join.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.stroke.join.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.transform.1.html b/content/canvas/test/test_2d.shadow.transform.1.html
--- a/content/canvas/test/test_2d.shadow.transform.1.html
+++ b/content/canvas/test/test_2d.shadow.transform.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.transform.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.shadow.transform.2.html b/content/canvas/test/test_2d.shadow.transform.2.html
--- a/content/canvas/test/test_2d.shadow.transform.2.html
+++ b/content/canvas/test/test_2d.shadow.transform.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.shadow.transform.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.state.saverestore.bitmap.html b/content/canvas/test/test_2d.state.saverestore.bitmap.html
--- a/content/canvas/test/test_2d.state.saverestore.bitmap.html
+++ b/content/canvas/test/test_2d.state.saverestore.bitmap.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.bitmap</title>
 <!-- Testing: save()/restore() does not affect the current bitmap -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.state.saverestore.clip.html b/content/canvas/test/test_2d.state.saverestore.clip.html
--- a/content/canvas/test/test_2d.state.saverestore.clip.html
+++ b/content/canvas/test/test_2d.state.saverestore.clip.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.clip</title>
 <!-- Testing: save()/restore() affects the clipping path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.state.saverestore.fillStyle.html b/content/canvas/test/test_2d.state.saverestore.fillStyle.html
--- a/content/canvas/test/test_2d.state.saverestore.fillStyle.html
+++ b/content/canvas/test/test_2d.state.saverestore.fillStyle.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.fillStyle</title>
 <!-- Testing: save()/restore() works for fillStyle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.globalAlpha.html b/content/canvas/test/test_2d.state.saverestore.globalAlpha.html
--- a/content/canvas/test/test_2d.state.saverestore.globalAlpha.html
+++ b/content/canvas/test/test_2d.state.saverestore.globalAlpha.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.globalAlpha</title>
 <!-- Testing: save()/restore() works for globalAlpha -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.globalCompositeOperation.html b/content/canvas/test/test_2d.state.saverestore.globalCompositeOperation.html
--- a/content/canvas/test/test_2d.state.saverestore.globalCompositeOperation.html
+++ b/content/canvas/test/test_2d.state.saverestore.globalCompositeOperation.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.globalCompositeOperation</title>
 <!-- Testing: save()/restore() works for globalCompositeOperation -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.lineCap.html b/content/canvas/test/test_2d.state.saverestore.lineCap.html
--- a/content/canvas/test/test_2d.state.saverestore.lineCap.html
+++ b/content/canvas/test/test_2d.state.saverestore.lineCap.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.lineCap</title>
 <!-- Testing: save()/restore() works for lineCap -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.lineJoin.html b/content/canvas/test/test_2d.state.saverestore.lineJoin.html
--- a/content/canvas/test/test_2d.state.saverestore.lineJoin.html
+++ b/content/canvas/test/test_2d.state.saverestore.lineJoin.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.lineJoin</title>
 <!-- Testing: save()/restore() works for lineJoin -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.lineWidth.html b/content/canvas/test/test_2d.state.saverestore.lineWidth.html
--- a/content/canvas/test/test_2d.state.saverestore.lineWidth.html
+++ b/content/canvas/test/test_2d.state.saverestore.lineWidth.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.lineWidth</title>
 <!-- Testing: save()/restore() works for lineWidth -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.miterLimit.html b/content/canvas/test/test_2d.state.saverestore.miterLimit.html
--- a/content/canvas/test/test_2d.state.saverestore.miterLimit.html
+++ b/content/canvas/test/test_2d.state.saverestore.miterLimit.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.miterLimit</title>
 <!-- Testing: save()/restore() works for miterLimit -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.path.html b/content/canvas/test/test_2d.state.saverestore.path.html
--- a/content/canvas/test/test_2d.state.saverestore.path.html
+++ b/content/canvas/test/test_2d.state.saverestore.path.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.path</title>
 <!-- Testing: save()/restore() does not affect the current path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.state.saverestore.shadowBlur.html b/content/canvas/test/test_2d.state.saverestore.shadowBlur.html
--- a/content/canvas/test/test_2d.state.saverestore.shadowBlur.html
+++ b/content/canvas/test/test_2d.state.saverestore.shadowBlur.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.shadowBlur</title>
 <!-- Testing: save()/restore() works for shadowBlur -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.shadowColor.html b/content/canvas/test/test_2d.state.saverestore.shadowColor.html
--- a/content/canvas/test/test_2d.state.saverestore.shadowColor.html
+++ b/content/canvas/test/test_2d.state.saverestore.shadowColor.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.shadowColor</title>
 <!-- Testing: save()/restore() works for shadowColor -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.shadowOffsetX.html b/content/canvas/test/test_2d.state.saverestore.shadowOffsetX.html
--- a/content/canvas/test/test_2d.state.saverestore.shadowOffsetX.html
+++ b/content/canvas/test/test_2d.state.saverestore.shadowOffsetX.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.shadowOffsetX</title>
 <!-- Testing: save()/restore() works for shadowOffsetX -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.shadowOffsetY.html b/content/canvas/test/test_2d.state.saverestore.shadowOffsetY.html
--- a/content/canvas/test/test_2d.state.saverestore.shadowOffsetY.html
+++ b/content/canvas/test/test_2d.state.saverestore.shadowOffsetY.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.shadowOffsetY</title>
 <!-- Testing: save()/restore() works for shadowOffsetY -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.stack.html b/content/canvas/test/test_2d.state.saverestore.stack.html
--- a/content/canvas/test/test_2d.state.saverestore.stack.html
+++ b/content/canvas/test/test_2d.state.saverestore.stack.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.stack</title>
 <!-- Testing: save()/restore() can be nested as a stack -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.stackdepth.html b/content/canvas/test/test_2d.state.saverestore.stackdepth.html
--- a/content/canvas/test/test_2d.state.saverestore.stackdepth.html
+++ b/content/canvas/test/test_2d.state.saverestore.stackdepth.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.stackdepth</title>
 <!-- Testing: save()/restore() stack depth is not unreasonably limited -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.strokeStyle.html b/content/canvas/test/test_2d.state.saverestore.strokeStyle.html
--- a/content/canvas/test/test_2d.state.saverestore.strokeStyle.html
+++ b/content/canvas/test/test_2d.state.saverestore.strokeStyle.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.strokeStyle</title>
 <!-- Testing: save()/restore() works for strokeStyle -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.state.saverestore.transformation.html b/content/canvas/test/test_2d.state.saverestore.transformation.html
--- a/content/canvas/test/test_2d.state.saverestore.transformation.html
+++ b/content/canvas/test/test_2d.state.saverestore.transformation.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.transformation</title>
 <!-- Testing: save()/restore() affects the current transformation matrix -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.state.saverestore.underflow.html b/content/canvas/test/test_2d.state.saverestore.underflow.html
--- a/content/canvas/test/test_2d.state.saverestore.underflow.html
+++ b/content/canvas/test/test_2d.state.saverestore.underflow.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.state.saverestore.underflow - bug 296821</title>
 <!-- Testing: restore() with an empty stack has no effect -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.strokeRect.basic.html b/content/canvas/test/test_2d.strokeRect.basic.html
--- a/content/canvas/test/test_2d.strokeRect.basic.html
+++ b/content/canvas/test/test_2d.strokeRect.basic.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.basic</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.clip.html b/content/canvas/test/test_2d.strokeRect.clip.html
--- a/content/canvas/test/test_2d.strokeRect.clip.html
+++ b/content/canvas/test/test_2d.strokeRect.clip.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.clip</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.globalalpha.html b/content/canvas/test/test_2d.strokeRect.globalalpha.html
--- a/content/canvas/test/test_2d.strokeRect.globalalpha.html
+++ b/content/canvas/test/test_2d.strokeRect.globalalpha.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.globalalpha</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.globalcomposite.html b/content/canvas/test/test_2d.strokeRect.globalcomposite.html
--- a/content/canvas/test/test_2d.strokeRect.globalcomposite.html
+++ b/content/canvas/test/test_2d.strokeRect.globalcomposite.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.globalcomposite</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.negative.html b/content/canvas/test/test_2d.strokeRect.negative.html
--- a/content/canvas/test/test_2d.strokeRect.negative.html
+++ b/content/canvas/test/test_2d.strokeRect.negative.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.negative</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.nonfinite.html b/content/canvas/test/test_2d.strokeRect.nonfinite.html
--- a/content/canvas/test/test_2d.strokeRect.nonfinite.html
+++ b/content/canvas/test/test_2d.strokeRect.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.nonfinite</title>
 <!-- Testing: strokeRect() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.path.html b/content/canvas/test/test_2d.strokeRect.path.html
--- a/content/canvas/test/test_2d.strokeRect.path.html
+++ b/content/canvas/test/test_2d.strokeRect.path.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.path</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.shadow.html b/content/canvas/test/test_2d.strokeRect.shadow.html
--- a/content/canvas/test/test_2d.strokeRect.shadow.html
+++ b/content/canvas/test/test_2d.strokeRect.shadow.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.shadow</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.transform.html b/content/canvas/test/test_2d.strokeRect.transform.html
--- a/content/canvas/test/test_2d.strokeRect.transform.html
+++ b/content/canvas/test/test_2d.strokeRect.transform.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.transform</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.zero.1.html b/content/canvas/test/test_2d.strokeRect.zero.1.html
--- a/content/canvas/test/test_2d.strokeRect.zero.1.html
+++ b/content/canvas/test/test_2d.strokeRect.zero.1.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.zero.1</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.zero.2.html b/content/canvas/test/test_2d.strokeRect.zero.2.html
--- a/content/canvas/test/test_2d.strokeRect.zero.2.html
+++ b/content/canvas/test/test_2d.strokeRect.zero.2.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.zero.2</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.zero.3.html b/content/canvas/test/test_2d.strokeRect.zero.3.html
--- a/content/canvas/test/test_2d.strokeRect.zero.3.html
+++ b/content/canvas/test/test_2d.strokeRect.zero.3.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.zero.3</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.zero.4.html b/content/canvas/test/test_2d.strokeRect.zero.4.html
--- a/content/canvas/test/test_2d.strokeRect.zero.4.html
+++ b/content/canvas/test/test_2d.strokeRect.zero.4.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.zero.4</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeRect.zero.5.html b/content/canvas/test/test_2d.strokeRect.zero.5.html
--- a/content/canvas/test/test_2d.strokeRect.zero.5.html
+++ b/content/canvas/test/test_2d.strokeRect.zero.5.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeRect.zero.5</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.strokeStyle.default.html b/content/canvas/test/test_2d.strokeStyle.default.html
--- a/content/canvas/test/test_2d.strokeStyle.default.html
+++ b/content/canvas/test/test_2d.strokeStyle.default.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.strokeStyle.default</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.transformation.order.html b/content/canvas/test/test_2d.transformation.order.html
--- a/content/canvas/test/test_2d.transformation.order.html
+++ b/content/canvas/test/test_2d.transformation.order.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.order</title>
 <!-- Testing: Transformations are applied in the right order -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.direction.html b/content/canvas/test/test_2d.transformation.rotate.direction.html
--- a/content/canvas/test/test_2d.transformation.rotate.direction.html
+++ b/content/canvas/test/test_2d.transformation.rotate.direction.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.direction</title>
 <!-- Testing: rotate() is clockwise -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.nonfinite.html b/content/canvas/test/test_2d.transformation.rotate.nonfinite.html
--- a/content/canvas/test/test_2d.transformation.rotate.nonfinite.html
+++ b/content/canvas/test/test_2d.transformation.rotate.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.nonfinite</title>
 <!-- Testing: rotate() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.radians.html b/content/canvas/test/test_2d.transformation.rotate.radians.html
--- a/content/canvas/test/test_2d.transformation.rotate.radians.html
+++ b/content/canvas/test/test_2d.transformation.rotate.radians.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.radians</title>
 <!-- Testing: rotate() uses radians -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.wrap.html b/content/canvas/test/test_2d.transformation.rotate.wrap.html
--- a/content/canvas/test/test_2d.transformation.rotate.wrap.html
+++ b/content/canvas/test/test_2d.transformation.rotate.wrap.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.wrap</title>
 <!-- Testing: rotate() wraps large positive values correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.wrapnegative.html b/content/canvas/test/test_2d.transformation.rotate.wrapnegative.html
--- a/content/canvas/test/test_2d.transformation.rotate.wrapnegative.html
+++ b/content/canvas/test/test_2d.transformation.rotate.wrapnegative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.wrapnegative</title>
 <!-- Testing: rotate() wraps large negative values correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.rotate.zero.html b/content/canvas/test/test_2d.transformation.rotate.zero.html
--- a/content/canvas/test/test_2d.transformation.rotate.zero.html
+++ b/content/canvas/test/test_2d.transformation.rotate.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.rotate.zero</title>
 <!-- Testing: rotate() by 0 does nothing -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.basic.html b/content/canvas/test/test_2d.transformation.scale.basic.html
--- a/content/canvas/test/test_2d.transformation.scale.basic.html
+++ b/content/canvas/test/test_2d.transformation.scale.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.basic</title>
 <!-- Testing: scale() works -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.large.html b/content/canvas/test/test_2d.transformation.scale.large.html
--- a/content/canvas/test/test_2d.transformation.scale.large.html
+++ b/content/canvas/test/test_2d.transformation.scale.large.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.large</title>
 <!-- Testing: scale() with large scale factors works -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.multiple.html b/content/canvas/test/test_2d.transformation.scale.multiple.html
--- a/content/canvas/test/test_2d.transformation.scale.multiple.html
+++ b/content/canvas/test/test_2d.transformation.scale.multiple.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.multiple</title>
 <!-- Testing: Multiple scale()s combine -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.negative.html b/content/canvas/test/test_2d.transformation.scale.negative.html
--- a/content/canvas/test/test_2d.transformation.scale.negative.html
+++ b/content/canvas/test/test_2d.transformation.scale.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.negative</title>
 <!-- Testing: scale() with negative scale factors works -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.nonfinite.html b/content/canvas/test/test_2d.transformation.scale.nonfinite.html
--- a/content/canvas/test/test_2d.transformation.scale.nonfinite.html
+++ b/content/canvas/test/test_2d.transformation.scale.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.nonfinite</title>
 <!-- Testing: scale() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.scale.zero.html b/content/canvas/test/test_2d.transformation.scale.zero.html
--- a/content/canvas/test/test_2d.transformation.scale.zero.html
+++ b/content/canvas/test/test_2d.transformation.scale.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.scale.zero</title>
 <!-- Testing: scale() with a scale factor of zero works -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.setTransform.multiple.html b/content/canvas/test/test_2d.transformation.setTransform.multiple.html
--- a/content/canvas/test/test_2d.transformation.setTransform.multiple.html
+++ b/content/canvas/test/test_2d.transformation.setTransform.multiple.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.setTransform.multiple</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.setTransform.nonfinite.html b/content/canvas/test/test_2d.transformation.setTransform.nonfinite.html
--- a/content/canvas/test/test_2d.transformation.setTransform.nonfinite.html
+++ b/content/canvas/test/test_2d.transformation.setTransform.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.setTransform.nonfinite</title>
 <!-- Testing: setTransform() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.setTransform.skewed.html b/content/canvas/test/test_2d.transformation.setTransform.skewed.html
--- a/content/canvas/test/test_2d.transformation.setTransform.skewed.html
+++ b/content/canvas/test/test_2d.transformation.setTransform.skewed.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.setTransform.skewed</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.transform.identity.html b/content/canvas/test/test_2d.transformation.transform.identity.html
--- a/content/canvas/test/test_2d.transformation.transform.identity.html
+++ b/content/canvas/test/test_2d.transformation.transform.identity.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.transform.identity</title>
 <!-- Testing: transform() with the identity matrix does nothing -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.transform.multiply.html b/content/canvas/test/test_2d.transformation.transform.multiply.html
--- a/content/canvas/test/test_2d.transformation.transform.multiply.html
+++ b/content/canvas/test/test_2d.transformation.transform.multiply.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.transform.multiply</title>
 <!-- Testing: transform() multiplies the CTM -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.transform.nonfinite.html b/content/canvas/test/test_2d.transformation.transform.nonfinite.html
--- a/content/canvas/test/test_2d.transformation.transform.nonfinite.html
+++ b/content/canvas/test/test_2d.transformation.transform.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.transform.nonfinite</title>
 <!-- Testing: transform() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.transform.skewed.html b/content/canvas/test/test_2d.transformation.transform.skewed.html
--- a/content/canvas/test/test_2d.transformation.transform.skewed.html
+++ b/content/canvas/test/test_2d.transformation.transform.skewed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.transform.skewed</title>
 <!-- Testing: transform() with skewy matrix transforms correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.translate.basic.html b/content/canvas/test/test_2d.transformation.translate.basic.html
--- a/content/canvas/test/test_2d.transformation.translate.basic.html
+++ b/content/canvas/test/test_2d.transformation.translate.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.translate.basic</title>
 <!-- Testing: translate() works -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.transformation.translate.nonfinite.html b/content/canvas/test/test_2d.transformation.translate.nonfinite.html
--- a/content/canvas/test/test_2d.transformation.translate.nonfinite.html
+++ b/content/canvas/test/test_2d.transformation.translate.nonfinite.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.transformation.translate.nonfinite</title>
 <!-- Testing: translate() with Infinity/NaN is ignored -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.type.delete.html b/content/canvas/test/test_2d.type.delete.html
--- a/content/canvas/test/test_2d.type.delete.html
+++ b/content/canvas/test/test_2d.type.delete.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.type.delete</title>
 <!-- Testing: window.CanvasRenderingContext2D is DontDelete -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.type.exists.html b/content/canvas/test/test_2d.type.exists.html
--- a/content/canvas/test/test_2d.type.exists.html
+++ b/content/canvas/test/test_2d.type.exists.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.type.exists</title>
 <!-- Testing: The 2D context interface is a property of 'window' -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.type.extend.html b/content/canvas/test/test_2d.type.extend.html
--- a/content/canvas/test/test_2d.type.extend.html
+++ b/content/canvas/test/test_2d.type.extend.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.type.extend</title>
 <!-- Testing: Interface methods can be added -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.type.prototype.html b/content/canvas/test/test_2d.type.prototype.html
--- a/content/canvas/test/test_2d.type.prototype.html
+++ b/content/canvas/test/test_2d.type.prototype.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.type.prototype</title>
 <!-- Testing: window.CanvasRenderingContext2D.prototype is { DontDelete, ReadOnly }, and its methods are not -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_2d.type.replace.html b/content/canvas/test/test_2d.type.replace.html
--- a/content/canvas/test/test_2d.type.replace.html
+++ b/content/canvas/test/test_2d.type.replace.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.type.replace</title>
 <!-- Testing: Interface methods can be overridden -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_2d.voidreturn.html b/content/canvas/test/test_2d.voidreturn.html
--- a/content/canvas/test/test_2d.voidreturn.html
+++ b/content/canvas/test/test_2d.voidreturn.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: 2d.voidreturn</title>
 <!-- Testing: void methods return undefined -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_bug397524.html b/content/canvas/test/test_bug397524.html
--- a/content/canvas/test/test_bug397524.html
+++ b/content/canvas/test/test_bug397524.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=397524
 -->
 <head>
   <title>Test for Bug 397524</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=397524">Mozilla Bug 397524</a>
 <p id="display">
   <canvas id="c1" width="1" height="1"></canvas>
   <canvas id="c2" width="1" height="1"></canvas>
diff --git a/content/canvas/test/test_bug405982.html b/content/canvas/test/test_bug405982.html
--- a/content/canvas/test/test_bug405982.html
+++ b/content/canvas/test/test_bug405982.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.png</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
 
diff --git a/content/canvas/test/test_context.arguments.extra.html b/content/canvas/test/test_context.arguments.extra.html
--- a/content/canvas/test/test_context.arguments.extra.html
+++ b/content/canvas/test/test_context.arguments.extra.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.arguments.extra</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.arguments.missing.html b/content/canvas/test/test_context.arguments.missing.html
--- a/content/canvas/test/test_context.arguments.missing.html
+++ b/content/canvas/test/test_context.arguments.missing.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.arguments.missing</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.casesensitive.html b/content/canvas/test/test_context.casesensitive.html
--- a/content/canvas/test/test_context.casesensitive.html
+++ b/content/canvas/test/test_context.casesensitive.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.casesensitive - bug 401788</title>
 <!-- Testing: Context name "2D" is unrecognised; matching is case sensitive -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.emptystring.html b/content/canvas/test/test_context.emptystring.html
--- a/content/canvas/test/test_context.emptystring.html
+++ b/content/canvas/test/test_context.emptystring.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.emptystring - bug 401788</title>
 <!-- Testing: getContext with empty string returns null -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.unrecognised.badname.html b/content/canvas/test/test_context.unrecognised.badname.html
--- a/content/canvas/test/test_context.unrecognised.badname.html
+++ b/content/canvas/test/test_context.unrecognised.badname.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.unrecognised.badname - bug 401788</title>
 <!-- Testing: getContext with unrecognised context name returns null -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.unrecognised.badsuffix.html b/content/canvas/test/test_context.unrecognised.badsuffix.html
--- a/content/canvas/test/test_context.unrecognised.badsuffix.html
+++ b/content/canvas/test/test_context.unrecognised.badsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.unrecognised.badsuffix - bug 401788</title>
 <!-- Testing: Context name "2d" plus a suffix is unrecognised -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.unrecognised.nullsuffix.html b/content/canvas/test/test_context.unrecognised.nullsuffix.html
--- a/content/canvas/test/test_context.unrecognised.nullsuffix.html
+++ b/content/canvas/test/test_context.unrecognised.nullsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.unrecognised.nullsuffix - bug 401788</title>
 <!-- Testing: Context name "2d" plus a "\0" suffix is unrecognised -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_context.unrecognised.unicode.html b/content/canvas/test/test_context.unrecognised.unicode.html
--- a/content/canvas/test/test_context.unrecognised.unicode.html
+++ b/content/canvas/test/test_context.unrecognised.unicode.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: context.unrecognised.unicode - bug 401788</title>
 <!-- Testing: Context name which kind of looks like "2d" is unrecognised -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_fallback.basic.html b/content/canvas/test/test_fallback.basic.html
--- a/content/canvas/test/test_fallback.basic.html
+++ b/content/canvas/test/test_fallback.basic.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: fallback.basic</title>
 <!-- Testing: Fallback content is inserted into the DOM -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_fallback.multiple.html b/content/canvas/test/test_fallback.multiple.html
--- a/content/canvas/test/test_fallback.multiple.html
+++ b/content/canvas/test/test_fallback.multiple.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: fallback.multiple</title>
 <!-- Testing: Fallback content with multiple elements -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL</p><p class="fallback">FAIL</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_fallback.nested.html b/content/canvas/test/test_fallback.nested.html
--- a/content/canvas/test/test_fallback.nested.html
+++ b/content/canvas/test/test_fallback.nested.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: fallback.nested</title>
 <!-- Testing: Fallback content containing another canvas (mostly testing parsers) -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><canvas><p class="fallback">FAIL (fallback content)</p></canvas><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_initial.colour.html b/content/canvas/test/test_initial.colour.html
--- a/content/canvas/test/test_initial.colour.html
+++ b/content/canvas/test/test_initial.colour.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.colour</title>
 <!-- Testing: Initial state is transparent black -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.2dstate.html b/content/canvas/test/test_initial.reset.2dstate.html
--- a/content/canvas/test/test_initial.reset.2dstate.html
+++ b/content/canvas/test/test_initial.reset.2dstate.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.2dstate</title>
 <!-- Testing: Resetting the canvas state resets 2D state variables -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_initial.reset.clip.html b/content/canvas/test/test_initial.reset.clip.html
--- a/content/canvas/test/test_initial.reset.clip.html
+++ b/content/canvas/test/test_initial.reset.clip.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.clip</title>
 <!-- Testing: Resetting the canvas state resets the current clip region -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #f00"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.different.html b/content/canvas/test/test_initial.reset.different.html
--- a/content/canvas/test/test_initial.reset.different.html
+++ b/content/canvas/test/test_initial.reset.different.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.different</title>
 <!-- Testing: Changing size resets canvas to transparent black -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.gradient.html b/content/canvas/test/test_initial.reset.gradient.html
--- a/content/canvas/test/test_initial.reset.gradient.html
+++ b/content/canvas/test/test_initial.reset.gradient.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.gradient</title>
 <!-- Testing: Resetting the canvas state does not invalidate any existing gradients -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.path.html b/content/canvas/test/test_initial.reset.path.html
--- a/content/canvas/test/test_initial.reset.path.html
+++ b/content/canvas/test/test_initial.reset.path.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.path</title>
 <!-- Testing: Resetting the canvas state resets the current path -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.pattern.html b/content/canvas/test/test_initial.reset.pattern.html
--- a/content/canvas/test/test_initial.reset.pattern.html
+++ b/content/canvas/test/test_initial.reset.pattern.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.pattern</title>
 <!-- Testing: Resetting the canvas state does not invalidate any existing patterns -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.same.html b/content/canvas/test/test_initial.reset.same.html
--- a/content/canvas/test/test_initial.reset.same.html
+++ b/content/canvas/test/test_initial.reset.same.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.same</title>
 <!-- Testing: Setting size (not changing the value) resets canvas to transparent black -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50" style="background: #0f0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_initial.reset.transform.html b/content/canvas/test/test_initial.reset.transform.html
--- a/content/canvas/test/test_initial.reset.transform.html
+++ b/content/canvas/test/test_initial.reset.transform.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: initial.reset.transform</title>
 <!-- Testing: Resetting the canvas state resets the current transformation matrix -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_size.attributes.default.html b/content/canvas/test/test_size.attributes.default.html
--- a/content/canvas/test/test_size.attributes.default.html
+++ b/content/canvas/test/test_size.attributes.default.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.default</title>
 <!-- Testing: Default width/height -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" ><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.html b/content/canvas/test/test_size.attributes.html
--- a/content/canvas/test/test_size.attributes.html
+++ b/content/canvas/test/test_size.attributes.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes</title>
 <!-- Testing: width/height DOM attributes and content attributes -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="120" height="60"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.badsuffix.html b/content/canvas/test/test_size.attributes.parse.badsuffix.html
--- a/content/canvas/test/test_size.attributes.parse.badsuffix.html
+++ b/content/canvas/test/test_size.attributes.parse.badsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.badsuffix</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100foo" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.floatsuffix.html b/content/canvas/test/test_size.attributes.parse.floatsuffix.html
--- a/content/canvas/test/test_size.attributes.parse.floatsuffix.html
+++ b/content/canvas/test/test_size.attributes.parse.floatsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.floatsuffix</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100.9" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.negative.html b/content/canvas/test/test_size.attributes.parse.negative.html
--- a/content/canvas/test/test_size.attributes.parse.negative.html
+++ b/content/canvas/test/test_size.attributes.parse.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.negative</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="-100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.nonnumber.html b/content/canvas/test/test_size.attributes.parse.nonnumber.html
--- a/content/canvas/test/test_size.attributes.parse.nonnumber.html
+++ b/content/canvas/test/test_size.attributes.parse.nonnumber.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.nonnumber</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="foo" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.percentsuffix.html b/content/canvas/test/test_size.attributes.parse.percentsuffix.html
--- a/content/canvas/test/test_size.attributes.parse.percentsuffix.html
+++ b/content/canvas/test/test_size.attributes.parse.percentsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.percentsuffix</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100%" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.whitespace.html b/content/canvas/test/test_size.attributes.parse.whitespace.html
--- a/content/canvas/test/test_size.attributes.parse.whitespace.html
+++ b/content/canvas/test/test_size.attributes.parse.whitespace.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.whitespace</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="   100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.zero.html b/content/canvas/test/test_size.attributes.parse.zero.html
--- a/content/canvas/test/test_size.attributes.parse.zero.html
+++ b/content/canvas/test/test_size.attributes.parse.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.zero</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="0" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.parse.zerosuffix.html b/content/canvas/test/test_size.attributes.parse.zerosuffix.html
--- a/content/canvas/test/test_size.attributes.parse.zerosuffix.html
+++ b/content/canvas/test/test_size.attributes.parse.zerosuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.parse.zerosuffix</title>
 <!-- Testing: Parsing of non-negative integers -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100.0" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.reflect.1.html b/content/canvas/test/test_size.attributes.reflect.1.html
--- a/content/canvas/test/test_size.attributes.reflect.1.html
+++ b/content/canvas/test/test_size.attributes.reflect.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.reflect.1</title>
 <!-- Testing: Setting DOM attributes updates DOM and content attributes -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.reflect.2.html b/content/canvas/test/test_size.attributes.reflect.2.html
--- a/content/canvas/test/test_size.attributes.reflect.2.html
+++ b/content/canvas/test/test_size.attributes.reflect.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.reflect.2</title>
 <!-- Testing: Setting content attributes updates DOM and content attributes -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.removed.html b/content/canvas/test/test_size.attributes.removed.html
--- a/content/canvas/test/test_size.attributes.removed.html
+++ b/content/canvas/test/test_size.attributes.removed.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.removed</title>
 <!-- Testing: Removing content attributes reverts to default size -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="120" height="60"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.badsuffix.html b/content/canvas/test/test_size.attributes.setAttribute.badsuffix.html
--- a/content/canvas/test/test_size.attributes.setAttribute.badsuffix.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.badsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.badsuffix</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.floatsuffix.html b/content/canvas/test/test_size.attributes.setAttribute.floatsuffix.html
--- a/content/canvas/test/test_size.attributes.setAttribute.floatsuffix.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.floatsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.floatsuffix</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.negative.html b/content/canvas/test/test_size.attributes.setAttribute.negative.html
--- a/content/canvas/test/test_size.attributes.setAttribute.negative.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.negative.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.negative</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.nonnumber.html b/content/canvas/test/test_size.attributes.setAttribute.nonnumber.html
--- a/content/canvas/test/test_size.attributes.setAttribute.nonnumber.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.nonnumber.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.nonnumber</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.percentsuffix.html b/content/canvas/test/test_size.attributes.setAttribute.percentsuffix.html
--- a/content/canvas/test/test_size.attributes.setAttribute.percentsuffix.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.percentsuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.percentsuffix</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.whitespace.html b/content/canvas/test/test_size.attributes.setAttribute.whitespace.html
--- a/content/canvas/test/test_size.attributes.setAttribute.whitespace.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.whitespace.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.whitespace</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.zero.html b/content/canvas/test/test_size.attributes.setAttribute.zero.html
--- a/content/canvas/test/test_size.attributes.setAttribute.zero.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.zero.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.zero</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.setAttribute.zerosuffix.html b/content/canvas/test/test_size.attributes.setAttribute.zerosuffix.html
--- a/content/canvas/test/test_size.attributes.setAttribute.zerosuffix.html
+++ b/content/canvas/test/test_size.attributes.setAttribute.zerosuffix.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.setAttribute.zerosuffix</title>
 <!-- Testing: Parsing of non-negative integers in setAttribute -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.style.html b/content/canvas/test/test_size.attributes.style.html
--- a/content/canvas/test/test_size.attributes.style.html
+++ b/content/canvas/test/test_size.attributes.style.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.style</title>
 <!-- Testing: Canvas size is independent of CSS resizing -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="50" height="30" style="width: 100px; height: 50px"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.type.get.html b/content/canvas/test/test_size.attributes.type.get.html
--- a/content/canvas/test/test_size.attributes.type.get.html
+++ b/content/canvas/test/test_size.attributes.type.get.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.type.get</title>
 <!-- Testing: width/height DOM/content attributes - string vs number types -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="120" height="60"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_size.attributes.type.set.html b/content/canvas/test/test_size.attributes.type.set.html
--- a/content/canvas/test/test_size.attributes.type.set.html
+++ b/content/canvas/test/test_size.attributes.type.set.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: size.attributes.type.set</title>
 <!-- Testing: Setting width/height DOM attributes -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_text.font.html b/content/canvas/test/test_text.font.html
--- a/content/canvas/test/test_text.font.html
+++ b/content/canvas/test/test_text.font.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: text.font</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 var _deferred = false;
 
 SimpleTest.waitForExplicitFinish();
diff --git a/content/canvas/test/test_text.measure.html b/content/canvas/test/test_text.measure.html
--- a/content/canvas/test/test_text.measure.html
+++ b/content/canvas/test/test_text.measure.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: text.measure</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 var _deferred = false;
 
 SimpleTest.waitForExplicitFinish();
diff --git a/content/canvas/test/test_text.space.replace.html b/content/canvas/test/test_text.space.replace.html
--- a/content/canvas/test/test_text.space.replace.html
+++ b/content/canvas/test/test_text.space.replace.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: text.space.replace</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 var _deferred = false;
 
 SimpleTest.waitForExplicitFinish();
diff --git a/content/canvas/test/test_text.textAlign.html b/content/canvas/test/test_text.textAlign.html
--- a/content/canvas/test/test_text.textAlign.html
+++ b/content/canvas/test/test_text.textAlign.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: text.textAlign</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 var _deferred = false;
 
 SimpleTest.waitForExplicitFinish();
diff --git a/content/canvas/test/test_text.textBaseline.html b/content/canvas/test/test_text.textBaseline.html
--- a/content/canvas/test/test_text.textBaseline.html
+++ b/content/canvas/test/test_text.textBaseline.html
@@ -1,11 +1,11 @@
 <!DOCTYPE HTML>
 <title>Canvas test: text.textBaseline</title>
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 var _deferred = false;
 
 SimpleTest.waitForExplicitFinish();
diff --git a/content/canvas/test/test_toDataURL.arguments.1.html b/content/canvas/test/test_toDataURL.arguments.1.html
--- a/content/canvas/test/test_toDataURL.arguments.1.html
+++ b/content/canvas/test/test_toDataURL.arguments.1.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.arguments.1 - bug 401795</title>
 <!-- Testing: toDataURL ignores extra arguments -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.arguments.2.html b/content/canvas/test/test_toDataURL.arguments.2.html
--- a/content/canvas/test/test_toDataURL.arguments.2.html
+++ b/content/canvas/test/test_toDataURL.arguments.2.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.arguments.2 - bug 401795</title>
 <!-- Testing: toDataURL ignores extra arguments -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.arguments.3.html b/content/canvas/test/test_toDataURL.arguments.3.html
--- a/content/canvas/test/test_toDataURL.arguments.3.html
+++ b/content/canvas/test/test_toDataURL.arguments.3.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.arguments.3 - bug 401795</title>
 <!-- Testing: toDataURL ignores extra arguments -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.complexcolours.html b/content/canvas/test/test_toDataURL.complexcolours.html
--- a/content/canvas/test/test_toDataURL.complexcolours.html
+++ b/content/canvas/test/test_toDataURL.complexcolours.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.complexcolours</title>
 <!-- Testing: toDataURL handles non-primary and non-solid colours correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_toDataURL.default.html b/content/canvas/test/test_toDataURL.default.html
--- a/content/canvas/test/test_toDataURL.default.html
+++ b/content/canvas/test/test_toDataURL.default.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.default</title>
 <!-- Testing: toDataURL with no arguments returns a PNG -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.lowercase.html b/content/canvas/test/test_toDataURL.lowercase.html
--- a/content/canvas/test/test_toDataURL.lowercase.html
+++ b/content/canvas/test/test_toDataURL.lowercase.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.lowercase - bug 401795</title>
 <!-- Testing: toDataURL type is case-sensitive -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.nocontext.html b/content/canvas/test/test_toDataURL.nocontext.html
--- a/content/canvas/test/test_toDataURL.nocontext.html
+++ b/content/canvas/test/test_toDataURL.nocontext.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.nocontext</title>
 <!-- Testing: toDataURL works before any context has been got -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.png.html b/content/canvas/test/test_toDataURL.png.html
--- a/content/canvas/test/test_toDataURL.png.html
+++ b/content/canvas/test/test_toDataURL.png.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.png</title>
 <!-- Testing: toDataURL with image/png returns a PNG -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.primarycolours.html b/content/canvas/test/test_toDataURL.primarycolours.html
--- a/content/canvas/test/test_toDataURL.primarycolours.html
+++ b/content/canvas/test/test_toDataURL.primarycolours.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.primarycolours</title>
 <!-- Testing: toDataURL handles simple colours correctly -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 function isPixel(ctx, x,y, r,g,b,a, pos, colour, d) {
     var pixel = ctx.getImageData(x, y, 1, 1);
     var pr = pixel.data[0],
diff --git a/content/canvas/test/test_toDataURL.unrecognised.html b/content/canvas/test/test_toDataURL.unrecognised.html
--- a/content/canvas/test/test_toDataURL.unrecognised.html
+++ b/content/canvas/test/test_toDataURL.unrecognised.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.unrecognised - bug 401795</title>
 <!-- Testing: toDataURL with an unhandled type returns a PNG -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_toDataURL.zerosize.html b/content/canvas/test/test_toDataURL.zerosize.html
--- a/content/canvas/test/test_toDataURL.zerosize.html
+++ b/content/canvas/test/test_toDataURL.zerosize.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: toDataURL.zerosize</title>
 <!-- Testing: toDataURL on zero-size canvas returns 'data:,' -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="0" height="0"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.delete.html b/content/canvas/test/test_type.delete.html
--- a/content/canvas/test/test_type.delete.html
+++ b/content/canvas/test/test_type.delete.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.delete</title>
 <!-- Testing: window.HTMLCanvasElement interface object is DontDelete -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.exists.html b/content/canvas/test/test_type.exists.html
--- a/content/canvas/test/test_type.exists.html
+++ b/content/canvas/test/test_type.exists.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.exists</title>
 <!-- Testing: HTMLCanvasElement is a property of window -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.extend.html b/content/canvas/test/test_type.extend.html
--- a/content/canvas/test/test_type.extend.html
+++ b/content/canvas/test/test_type.extend.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.extend</title>
 <!-- Testing: HTMLCanvasElement methods can be added, and the new methods used by canvases -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.name.html b/content/canvas/test/test_type.name.html
--- a/content/canvas/test/test_type.name.html
+++ b/content/canvas/test/test_type.name.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.name</title>
 <!-- Testing: HTMLCanvasElement type and toString -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.prototype.html b/content/canvas/test/test_type.prototype.html
--- a/content/canvas/test/test_type.prototype.html
+++ b/content/canvas/test/test_type.prototype.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.prototype</title>
 <!-- Testing: window.HTMLCanvasElement has prototype, which is { ReadOnly, DontDelete }. prototype has getContext, which is not -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/canvas/test/test_type.replace.html b/content/canvas/test/test_type.replace.html
--- a/content/canvas/test/test_type.replace.html
+++ b/content/canvas/test/test_type.replace.html
@@ -1,12 +1,12 @@
 <!DOCTYPE HTML>
 <title>Canvas test: type.replace</title>
 <!-- Testing: HTMLCanvasElement methods can be replaced, and the replacement methods used by canvases -->
-<script src="/MochiKit/MochiKit.js"></script>
+<script src="/MochiKit/packed.js"></script>
 <script src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" href="/tests/SimpleTest/test.css">
 <body>
 <canvas id="c" width="100" height="50"><p class="fallback">FAIL (fallback content)</p></canvas>
 <script>
 
 SimpleTest.waitForExplicitFinish();
 MochiKit.DOM.addLoadEvent(function () {
diff --git a/content/events/test/test_bug238987.html b/content/events/test/test_bug238987.html
--- a/content/events/test/test_bug238987.html
+++ b/content/events/test/test_bug238987.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=238987
 -->
 <head>
   <title>Test for Bug 238987</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=238987">Mozilla Bug 238987</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug288392.html b/content/events/test/test_bug288392.html
--- a/content/events/test/test_bug288392.html
+++ b/content/events/test/test_bug288392.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=288392
 -->
 <head>
   <title>Test for Bug 288392</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=288392">Mozilla Bug 288392</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <div id="mutationTarget">
diff --git a/content/events/test/test_bug328885.html b/content/events/test/test_bug328885.html
--- a/content/events/test/test_bug328885.html
+++ b/content/events/test/test_bug328885.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=328885
 -->
 <head>
   <title>Test for Bug 328885</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=328885">Mozilla Bug 328885</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug336682_1.html b/content/events/test/test_bug336682_1.html
--- a/content/events/test/test_bug336682_1.html
+++ b/content/events/test/test_bug336682_1.html
@@ -3,17 +3,17 @@
 <!--
 Bug 336682: online/offline events tests.
 
 Any copyright is dedicated to the Public Domain.
 http://creativecommons.org/licenses/publicdomain/
 -->
 <head>
   <title>Test for Bug 336682 (online/offline events)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body ononline="trace('<body ononline=...>');
                 bodyOnonline(this, event)"
       onoffline="trace('<body onoffline=...>'); bodyOnoffline(this, event)"
       >
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=336682">Mozilla Bug 336682</a>
diff --git a/content/events/test/test_bug367781.html b/content/events/test/test_bug367781.html
--- a/content/events/test/test_bug367781.html
+++ b/content/events/test/test_bug367781.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=367781
 -->
 <head>
   <title>Test for Bug 367781</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=367781">Mozilla Bug 367781</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug368835.html b/content/events/test/test_bug368835.html
--- a/content/events/test/test_bug368835.html
+++ b/content/events/test/test_bug368835.html
@@ -3,17 +3,17 @@
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=368835
 -->
   <head>
     <title>Test for Bug 368835</title>
 
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   </head>
 
   <body>
     <a target="_blank"
        href="https://bugzilla.mozilla.org/show_bug.cgi?id=368835">
       Mozilla Bug 368835
     </a>
diff --git a/content/events/test/test_bug379120.html b/content/events/test/test_bug379120.html
--- a/content/events/test/test_bug379120.html
+++ b/content/events/test/test_bug379120.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=379120
 -->
 <head>
   <title>Test for Bug 379120</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=379120">Mozilla Bug 379120</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug402089.html b/content/events/test/test_bug402089.html
--- a/content/events/test/test_bug402089.html
+++ b/content/events/test/test_bug402089.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402089
 -->
 <head>
   <title>Test for Bug 402089</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=402089">Mozilla Bug 402089</a>
 <p id="display"></p>
 <div id="content">
diff --git a/content/events/test/test_bug405632.html b/content/events/test/test_bug405632.html
--- a/content/events/test/test_bug405632.html
+++ b/content/events/test/test_bug405632.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=405632
 -->
 <head>
   <title>Test for Bug 405632</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=405632">Mozilla Bug 405632</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug409604.html b/content/events/test/test_bug409604.html
--- a/content/events/test/test_bug409604.html
+++ b/content/events/test/test_bug409604.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=409604
 -->
 <head>
   <title>Test for Bug 409604</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body id="body">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=409604">Mozilla Bug 409604</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug412567.html b/content/events/test/test_bug412567.html
--- a/content/events/test/test_bug412567.html
+++ b/content/events/test/test_bug412567.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=412567
 -->
 <head>
   <title>Test for Bug 412567</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="testRedispatching(event);">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=412567">Mozilla Bug 412567</a>
 <p id="display"></p>
 <div id="content" style="display: none" onload="redispatchinHandler(event)">
   
diff --git a/content/events/test/test_bug428988.html b/content/events/test/test_bug428988.html
--- a/content/events/test/test_bug428988.html
+++ b/content/events/test/test_bug428988.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=428988
 -->
 <head>
   <title>Test for Bug 428988</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=428988">Mozilla Bug 428988</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug443985.html b/content/events/test/test_bug443985.html
--- a/content/events/test/test_bug443985.html
+++ b/content/events/test/test_bug443985.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=443985
 -->
 <head>
   <title>Test for Bug 443985</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=443985">Mozilla Bug 443985</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug447736.html b/content/events/test/test_bug447736.html
--- a/content/events/test/test_bug447736.html
+++ b/content/events/test/test_bug447736.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=447736
 -->
 <head>
   <title>Test for Bug 447736</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=447736">Mozilla Bug 447736</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug450876.html b/content/events/test/test_bug450876.html
--- a/content/events/test/test_bug450876.html
+++ b/content/events/test/test_bug450876.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=450876
 -->
 <head>
   <title>Test for Bug 450876 - Crash [@ nsEventStateManager::GetNextTabbableMapArea] with img usemap and tabindex</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450876">Mozilla Bug 450876</a>
 <p id="display"><a href="#" id="a">link to focus from</a><img usemap="#a" tabindex="1"></p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug456273.html b/content/events/test/test_bug456273.html
--- a/content/events/test/test_bug456273.html
+++ b/content/events/test/test_bug456273.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=456273
 -->
 <head>
   <title>Test for Bug 456273</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=456273">Mozilla Bug 456273</a>
 <p id="display">PASS if Firefox does not crash.</p>
 <div id="content" style="display: none">
   
diff --git a/content/events/test/test_bug457672.html b/content/events/test/test_bug457672.html
--- a/content/events/test/test_bug457672.html
+++ b/content/events/test/test_bug457672.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=457672
 -->
 <head>
   <title>Test for Bug 457672</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=457672">Mozilla Bug 457672</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug100533.html b/content/html/content/test/test_bug100533.html
--- a/content/html/content/test/test_bug100533.html
+++ b/content/html/content/test/test_bug100533.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=100533
 -->
 <head>
   <title>Test for Bug 100533</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=100533">Mozilla Bug 100533</a>
 <p id="display"></p>
 <div id="content" >
 
diff --git a/content/html/content/test/test_bug1297.html b/content/html/content/test/test_bug1297.html
--- a/content/html/content/test/test_bug1297.html
+++ b/content/html/content/test/test_bug1297.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=1297
 -->
 <head>
   <title>Test for Bug 1297</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1297">Mozilla Bug 1297</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <table border=1>
diff --git a/content/html/content/test/test_bug1366.html b/content/html/content/test/test_bug1366.html
--- a/content/html/content/test/test_bug1366.html
+++ b/content/html/content/test/test_bug1366.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=1366
 -->
 <head>
   <title>Test for Bug 1366</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1366">Mozilla Bug 1366</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <table id="testtable" width=150 border>
diff --git a/content/html/content/test/test_bug1400.html b/content/html/content/test/test_bug1400.html
--- a/content/html/content/test/test_bug1400.html
+++ b/content/html/content/test/test_bug1400.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=1400
 -->
 <head>
   <title>Test for Bug 1400</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1400">Mozilla Bug 1400</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug143220.html b/content/html/content/test/test_bug143220.html
--- a/content/html/content/test/test_bug143220.html
+++ b/content/html/content/test/test_bug143220.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=143220
 -->
 <head>
   <title>Test for Bug 143220</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=143220">Mozilla Bug 143220</a>
 <p id="display">
   <input type="file" id="i1">
   <input type="file" id="i2">
diff --git a/content/html/content/test/test_bug2082.html b/content/html/content/test/test_bug2082.html
--- a/content/html/content/test/test_bug2082.html
+++ b/content/html/content/test/test_bug2082.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=2082
 -->
 <head>
   <title>Test for Bug 2082</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=2082">Mozilla Bug 2082</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <FORM name="gui" id="gui">
diff --git a/content/html/content/test/test_bug237071.html b/content/html/content/test/test_bug237071.html
--- a/content/html/content/test/test_bug237071.html
+++ b/content/html/content/test/test_bug237071.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=237071
 -->
 <head>
   <title>Test for Bug 237071</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=237071">Mozilla Bug 237071</a>
 <p id="display"></p>
 <div id="content" >
   <ol id="theOL" start="22">
diff --git a/content/html/content/test/test_bug242709.html b/content/html/content/test/test_bug242709.html
--- a/content/html/content/test/test_bug242709.html
+++ b/content/html/content/test/test_bug242709.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=242709
 -->
 <head>
   <title>Test for Bug 242709</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=242709">Mozilla Bug 242709</a>
 <p id="display"></p>
 <div id="content">
 <iframe src="bug242709_iframe.html" id="a"></iframe> 
diff --git a/content/html/content/test/test_bug24958.html b/content/html/content/test/test_bug24958.html
--- a/content/html/content/test/test_bug24958.html
+++ b/content/html/content/test/test_bug24958.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=24958
 -->
 <head>
   <title>Test for Bug 24958</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <SCRIPT id="foo" TYPE="text/javascript">/*This space intentionally left blank*/</SCRIPT>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=24958">Mozilla Bug 24958</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/html/content/test/test_bug277724.html b/content/html/content/test/test_bug277724.html
--- a/content/html/content/test/test_bug277724.html
+++ b/content/html/content/test/test_bug277724.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=277724
 -->
 <head>
   <title>Test for Bug 277724</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=277724">Mozilla Bug 277724</a>
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/html/content/test/test_bug277890.html b/content/html/content/test/test_bug277890.html
--- a/content/html/content/test/test_bug277890.html
+++ b/content/html/content/test/test_bug277890.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=277890
 -->
 <head>
   <title>Test for Bug 277890</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=277890">Mozilla Bug 277890</a>
 <p id="display"></p>
 <div id="content">
 <iframe src="bug277890_iframe.html" id="a"></iframe> 
diff --git a/content/html/content/test/test_bug287465.html b/content/html/content/test/test_bug287465.html
--- a/content/html/content/test/test_bug287465.html
+++ b/content/html/content/test/test_bug287465.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=287465
 -->
 <head>
   <title>Test for Bug 287465</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doTest()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=287465">Mozilla Bug 287465</a>
 <p id="display"></p>
 <div id="content" style="display:none">
 
diff --git a/content/html/content/test/test_bug295561.html b/content/html/content/test/test_bug295561.html
--- a/content/html/content/test/test_bug295561.html
+++ b/content/html/content/test/test_bug295561.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=295561
 -->
 <head>
   <title>Test for Bug 295561</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=295561">Mozilla Bug 295561</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/html/content/test/test_bug300691-1.html b/content/html/content/test/test_bug300691-1.html
--- a/content/html/content/test/test_bug300691-1.html
+++ b/content/html/content/test/test_bug300691-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=300691
 -->
 <head>
   <title>Test for Bug 300691</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=300691">Mozilla Bug 300691</a>
 <p id="display">
   <textarea id="target"></textarea>
diff --git a/content/html/content/test/test_bug300691-2.html b/content/html/content/test/test_bug300691-2.html
--- a/content/html/content/test/test_bug300691-2.html
+++ b/content/html/content/test/test_bug300691-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=300691
 -->
 <head>
   <title>Test for Bug 300691</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=300691">Mozilla Bug 300691</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug330705-1.html b/content/html/content/test/test_bug330705-1.html
--- a/content/html/content/test/test_bug330705-1.html
+++ b/content/html/content/test/test_bug330705-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=330705
 -->
 <head>
   <title>Test for Bug 330705</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script>
   /* variable is true if the element is focused, false otherwise */
   var inputFocused = false;
   </script>
 </head>
 <body>
diff --git a/content/html/content/test/test_bug332246.html b/content/html/content/test/test_bug332246.html
--- a/content/html/content/test/test_bug332246.html
+++ b/content/html/content/test/test_bug332246.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=332246
 -->
 <head>
   <title>Test for Bug 332246 - scrollIntoView(false) doesn't work correctly for inline elements that wrap at multiple lines</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=332246">Mozilla Bug 332246</a>
 <p id="display"></p>
 <div id="content">
 
diff --git a/content/html/content/test/test_bug3348.html b/content/html/content/test/test_bug3348.html
--- a/content/html/content/test/test_bug3348.html
+++ b/content/html/content/test/test_bug3348.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=3348
 -->
 <head>
   <title>Test for Bug 3348</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=3348">Mozilla Bug 3348</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/html/content/test/test_bug340800.html b/content/html/content/test/test_bug340800.html
--- a/content/html/content/test/test_bug340800.html
+++ b/content/html/content/test/test_bug340800.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=340800
 -->
 <head>
   <title>Test for Bug 340800</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=340800">Mozilla Bug 340800</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <h1>iframe text/plain as DOM test</h1>
diff --git a/content/html/content/test/test_bug347174.html b/content/html/content/test/test_bug347174.html
--- a/content/html/content/test/test_bug347174.html
+++ b/content/html/content/test/test_bug347174.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=347174
 -->
 <head>
   <title>Test for Bug 347174</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=347174">Mozilla Bug 347174</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug347174_write.html b/content/html/content/test/test_bug347174_write.html
--- a/content/html/content/test/test_bug347174_write.html
+++ b/content/html/content/test/test_bug347174_write.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=347174
 -->
 <head>
   <title>Test for Bug 347174</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=347174">Mozilla Bug 347174</a>
 <p id="display"></p>
 
 <div id="content" style="display: none">
diff --git a/content/html/content/test/test_bug347174_xsl.html b/content/html/content/test/test_bug347174_xsl.html
--- a/content/html/content/test/test_bug347174_xsl.html
+++ b/content/html/content/test/test_bug347174_xsl.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=347174
 -->
 <head>
   <title>Test for Bug 347174</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=347174">Mozilla Bug 347174</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <iframe src="347174transformable.xml" id="iframe"></iframe>
diff --git a/content/html/content/test/test_bug347174_xslp.html b/content/html/content/test/test_bug347174_xslp.html
--- a/content/html/content/test/test_bug347174_xslp.html
+++ b/content/html/content/test/test_bug347174_xslp.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=347174
 -->
 <head>
   <title>Test for Bug 347174</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=347174">Mozilla Bug 347174</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/html/content/test/test_bug371375.html b/content/html/content/test/test_bug371375.html
--- a/content/html/content/test/test_bug371375.html
+++ b/content/html/content/test/test_bug371375.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=371375
 -->
 <head>
   <title>Test for Bug 371375</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=371375">Mozilla Bug 371375</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug372098.html b/content/html/content/test/test_bug372098.html
--- a/content/html/content/test/test_bug372098.html
+++ b/content/html/content/test/test_bug372098.html
@@ -1,15 +1,15 @@
 <html xmlns="http://www.w3.org/1999/xhtml">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=372098
 -->
 <head>
   <title>Test for Bug 372098</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <base target="bug372098"></base>
 </head>
 <body onload="handle_load();">
   <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372098">Mozilla Bug 372098</a>
   <p id="display"></p>
diff --git a/content/html/content/test/test_bug373589.html b/content/html/content/test/test_bug373589.html
--- a/content/html/content/test/test_bug373589.html
+++ b/content/html/content/test/test_bug373589.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=373589
 -->
 <head>
   <title>Test for Bug 373589</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=373589">Mozilla Bug 373589</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/content/html/content/test/test_bug375003-1.html b/content/html/content/test/test_bug375003-1.html
--- a/content/html/content/test/test_bug375003-1.html
+++ b/content/html/content/test/test_bug375003-1.html
@@ -2,17 +2,17 @@
 <html id="html">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375003
 -->
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
     <title>Test 1 for bug 375003</title>
 
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
     <style type="text/css">
 
         html,body {
             color:black; background-color:white; font-size:16px; padding:0; margin:0;
         }
diff --git a/content/html/content/test/test_bug375003-2.html b/content/html/content/test/test_bug375003-2.html
--- a/content/html/content/test/test_bug375003-2.html
+++ b/content/html/content/test/test_bug375003-2.html
@@ -2,17 +2,17 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375003
 -->
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
     <title>Test 2 for bug 375003</title>
 
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
     <style type="text/css">
 
         html {
              padding:0; margin:0;
         }
diff --git a/content/html/content/test/test_bug384419.html b/content/html/content/test/test_bug384419.html
--- a/content/html/content/test/test_bug384419.html
+++ b/content/html/content/test/test_bug384419.html
@@ -2,17 +2,17 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384419
 -->
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
     <title>Test for bug 384419</title>
 
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
     <style type="text/css">
         html,body {
              color:black; background-color:white; font-size:16px; padding:0; margin:0;
         }
         body { margin: 10px; }
diff --git a/content/html/content/test/test_bug386496.html b/content/html/content/test/test_bug386496.html
--- a/content/html/content/test/test_bug386496.html
+++ b/content/html/content/test/test_bug386496.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=386496
 -->
 <head>
   <title>Test for Bug 386496</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=386496">Mozilla Bug 386496</a>
 <p id="display"></p>
 <div id="content">
diff --git a/content/html/content/test/test_bug386728.html b/content/html/content/test/test_bug386728.html
--- a/content/html/content/test/test_bug386728.html
+++ b/content/html/content/test/test_bug386728.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=386728
 -->
 <head>
   <title>Test for Bug 386728</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=386728">Mozilla Bug 386728</a>
 <p id="display"></p>
 <div id="content">
   <div id="frameContent">
diff --git a/content/html/content/test/test_bug386996.html b/content/html/content/test/test_bug386996.html
--- a/content/html/content/test/test_bug386996.html
+++ b/content/html/content/test/test_bug386996.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=386996
 -->
 <head>
   <title>Test for Bug 386996</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=386996">Mozilla Bug 386996</a>
 <p id="display"></p>
 <div id="content">
diff --git a/content/html/content/test/test_bug388558.html b/content/html/content/test/test_bug388558.html
--- a/content/html/content/test/test_bug388558.html
+++ b/content/html/content/test/test_bug388558.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=388558
 -->
 <head>
   <title>Test for Bug 388558</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=388558">Mozilla Bug 388558</a>
 <p id="display"></p>
 <div id="content">
   <input type="text" id="input" onchange="++inputChange;">
diff --git a/content/html/content/test/test_bug388746.html b/content/html/content/test/test_bug388746.html
--- a/content/html/content/test/test_bug388746.html
+++ b/content/html/content/test/test_bug388746.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=388746
 -->
 <head>
   <title>Test for Bug 388746</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=388746">Mozilla Bug 388746</a>
 <p id="display"></p>
 <div id="content">
   <input>
diff --git a/content/html/content/test/test_bug388794.html b/content/html/content/test/test_bug388794.html
--- a/content/html/content/test/test_bug388794.html
+++ b/content/html/content/test/test_bug388794.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=388794
 -->
 <head>
   <title>Test for Bug 388794</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <style>
     input { padding: 0; margin: 0; border: none; }
   </style>
 </head>
 <body>
diff --git a/content/html/content/test/test_bug389797.html b/content/html/content/test/test_bug389797.html
--- a/content/html/content/test/test_bug389797.html
+++ b/content/html/content/test/test_bug389797.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=389797
 -->
 <head>
   <title>Test for Bug 389797</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=389797">Mozilla Bug 389797</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug390975.html b/content/html/content/test/test_bug390975.html
--- a/content/html/content/test/test_bug390975.html
+++ b/content/html/content/test/test_bug390975.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=390975
 -->
 <head>
   <title>Test for Bug 390975</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=390975">Mozilla Bug 390975</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <table id="table1">
diff --git a/content/html/content/test/test_bug391994.html b/content/html/content/test/test_bug391994.html
--- a/content/html/content/test/test_bug391994.html
+++ b/content/html/content/test/test_bug391994.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391994
 -->
 <head>
   <title>Test for Bug 391994</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391994">Mozilla Bug 391994</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug392567.html b/content/html/content/test/test_bug392567.html
--- a/content/html/content/test/test_bug392567.html
+++ b/content/html/content/test/test_bug392567.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392567
 -->
 <head>
   <title>Test for Bug 392567</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=392567">Mozilla Bug 392567</a>
 <p id="display"><iframe name="testFrame" id="testFrame" style="visibility: hidden;"></iframe></p>
 <div id="content" style="display: none">
   <form name="testForm" target="testFrame">
diff --git a/content/html/content/test/test_bug394700.html b/content/html/content/test/test_bug394700.html
--- a/content/html/content/test/test_bug394700.html
+++ b/content/html/content/test/test_bug394700.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=394700
 -->
 <head>
   <title>Test for Bug 394700</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=394700">Mozilla Bug 394700</a>
 <p id="display"></p>
 <div id="content">
   <select><option id="A">A</option><option id="B">B</option></select>
diff --git a/content/html/content/test/test_bug395107.html b/content/html/content/test/test_bug395107.html
--- a/content/html/content/test/test_bug395107.html
+++ b/content/html/content/test/test_bug395107.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=395107
 -->
 <head>
   <title>Test for Bug 395107</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=395107">Mozilla Bug 395107</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug406596.html b/content/html/content/test/test_bug406596.html
--- a/content/html/content/test/test_bug406596.html
+++ b/content/html/content/test/test_bug406596.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=406596
 -->
 <head>
   <title>Test for Bug 406596</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=406596">Mozilla Bug 406596</a>
 <div id="content">
   <div id="edit" contenteditable="true">This text is editable, you can change its content <a href="#" id="a" tabindex="0">ABCDEFGHIJKLMNOPQRSTUV</a> <input type="submit" value="abcd" id="b"></input> <img src="foo.png" id="c"></div>
diff --git a/content/html/content/test/test_bug408231.html b/content/html/content/test/test_bug408231.html
--- a/content/html/content/test/test_bug408231.html
+++ b/content/html/content/test/test_bug408231.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=408231
 -->
 <head>
   <title>Test for Bug 408231</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=408231">Mozilla Bug 408231</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/content/test/test_bug418756.html b/content/html/content/test/test_bug418756.html
--- a/content/html/content/test/test_bug418756.html
+++ b/content/html/content/test/test_bug418756.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=418756
 -->
 <head>
   <title>Test for Bug 418756</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=418756">Mozilla Bug 418756</a>
 <p id="display"></p>
 <div id="content">
   <form id="f1">
diff --git a/content/html/content/test/test_bug421640.html b/content/html/content/test/test_bug421640.html
--- a/content/html/content/test/test_bug421640.html
+++ b/content/html/content/test/test_bug421640.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=421640
 -->
 <head>
   <title>Test for Bug 421640</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=421640">Mozilla Bug 421640</a>
 <div id="content">
   <div id="edit" contenteditable="true">This text is editable</div>
diff --git a/content/html/content/test/test_bug424698.html b/content/html/content/test/test_bug424698.html
--- a/content/html/content/test/test_bug424698.html
+++ b/content/html/content/test/test_bug424698.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=424698
 -->
 <head>
   <title>Test for Bug 424698</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=424698">Mozilla Bug 424698</a>
 <p id="display">
 <input id="i1">
diff --git a/content/html/content/test/test_bug430392.html b/content/html/content/test/test_bug430392.html
--- a/content/html/content/test/test_bug430392.html
+++ b/content/html/content/test/test_bug430392.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=430392
 -->
 <head>
   <title>Test for Bug 430392</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=430392">Mozilla Bug 430392</a>
 <p id="display"></p>
 <div id="content">
diff --git a/content/html/content/test/test_bug441930.html b/content/html/content/test/test_bug441930.html
--- a/content/html/content/test/test_bug441930.html
+++ b/content/html/content/test/test_bug441930.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441930
 -->
 <head>
   <title>Test for Bug 441930</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441930">Mozilla Bug 441930</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/content/html/content/test/test_bug442801.html b/content/html/content/test/test_bug442801.html
--- a/content/html/content/test/test_bug442801.html
+++ b/content/html/content/test/test_bug442801.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=442801
 -->
 <head>
   <title>Test for Bug 442801</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=442801">Mozilla Bug 442801</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/html/content/test/test_bug448166.html b/content/html/content/test/test_bug448166.html
--- a/content/html/content/test/test_bug448166.html
+++ b/content/html/content/test/test_bug448166.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448166
 -->
 <head>
   <title>Test for Bug 448166</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448166">Mozilla Bug 448166</a>
 <p id="display">
   <a id="test" href="http://www.moz&#xdc00;illa.org">should not be Mozilla</a>
   <a id="control" href="http://www.mozilla.org">should not be Mozilla</a>
diff --git a/content/html/content/test/test_bug460568.html b/content/html/content/test/test_bug460568.html
--- a/content/html/content/test/test_bug460568.html
+++ b/content/html/content/test/test_bug460568.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=460568
 -->
 <head>
   <title>Test for Bug 460568</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=460568">Mozilla Bug 460568</a>
 <p id="display"><a href="" id="anchor">a[href]</a></p>
 <div id="editor">
diff --git a/content/html/content/test/test_bug589.html b/content/html/content/test/test_bug589.html
--- a/content/html/content/test/test_bug589.html
+++ b/content/html/content/test/test_bug589.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=589
 -->
 <head>
   <title>Test for Bug 589</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
 <style type="text/css">
 .letters {list-style-type: upper-alpha;}
 .numbers {list-style-type: decimal;}
 </style>
 
diff --git a/content/html/content/test/test_bug6296.html b/content/html/content/test/test_bug6296.html
--- a/content/html/content/test/test_bug6296.html
+++ b/content/html/content/test/test_bug6296.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=6296
 -->
 <head>
   <title>Test for Bug 6296</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=6296">Mozilla Bug 6296</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <A HREF="../testdata/test.gif" id="foo" NAME="anchor1" ALT="this is a test of the image
diff --git a/content/html/content/test/test_bug691.html b/content/html/content/test/test_bug691.html
--- a/content/html/content/test/test_bug691.html
+++ b/content/html/content/test/test_bug691.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=691
 -->
 <head>
   <title>Test for Bug 691</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <script type="text/javascript">
 
 function show(what) {
   var stage = document.getElementById("stage");
   if (what == "modularity") {
     var spaghetti = document.createElement("IMG",null);
diff --git a/content/html/content/test/test_bug694.html b/content/html/content/test/test_bug694.html
--- a/content/html/content/test/test_bug694.html
+++ b/content/html/content/test/test_bug694.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=694
 -->
 <head>
   <title>Test for Bug 694</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=694">Mozilla Bug 694</a>
 <p id="display"></p>
 <div id="content" >
 <img src="/missing_on_purpose" width=123 height=25 alt="Hello, &quot;Quotes&quot; how are you?" id="testimg">  
diff --git a/content/html/content/test/test_bug696.html b/content/html/content/test/test_bug696.html
--- a/content/html/content/test/test_bug696.html
+++ b/content/html/content/test/test_bug696.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=696
 -->
 <head>
   <title>Test for Bug 696</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=696">Mozilla Bug 696</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <table><tr id="mytr"><td>Foo</td><td>Bar</td></tr></table>
diff --git a/content/html/document/test/test_bug1682.html b/content/html/document/test/test_bug1682.html
--- a/content/html/document/test/test_bug1682.html
+++ b/content/html/document/test/test_bug1682.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=1682
 -->
 <head>
   <title>Test for Bug 1682</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1682">Mozilla Bug 1682</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/document/test/test_bug172261.html b/content/html/document/test/test_bug172261.html
--- a/content/html/document/test/test_bug172261.html
+++ b/content/html/document/test/test_bug172261.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=172261
 -->
 <head>
   <title>Test for Bug 172261</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=172261">Mozilla Bug 172261</a>
 <p id="display">
   <iframe id="test"></iframe>
 </p>
diff --git a/content/html/document/test/test_bug1823.html b/content/html/document/test/test_bug1823.html
--- a/content/html/document/test/test_bug1823.html
+++ b/content/html/document/test/test_bug1823.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=1823
 -->
 <head>
   <title>Test for Bug 1823</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=1823">Mozilla Bug 1823</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/document/test/test_bug196523.html b/content/html/document/test/test_bug196523.html
--- a/content/html/document/test/test_bug196523.html
+++ b/content/html/document/test/test_bug196523.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=196523
 -->
 <head>
   <title>Test for Bug 196523</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=196523">Mozilla Bug 196523</a>
 <script>
   var expectedMessages = 2;
   SimpleTest.waitForExplicitFinish();
diff --git a/content/html/document/test/test_bug199692.html b/content/html/document/test/test_bug199692.html
--- a/content/html/document/test/test_bug199692.html
+++ b/content/html/document/test/test_bug199692.html
@@ -1,17 +1,17 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=199692
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Test for Bug 199692</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
   <script type="text/javascript">
     SimpleTest.waitForExplicitFinish();
 
     // The popup calls MochiTest methods in this window through window.opener
diff --git a/content/html/document/test/test_bug255820.html b/content/html/document/test/test_bug255820.html
--- a/content/html/document/test/test_bug255820.html
+++ b/content/html/document/test/test_bug255820.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=255820
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Test for Bug 255820</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=255820">Mozilla Bug 255820</a>
 <p id="display">
   <iframe id="f1"></iframe>
   <iframe id="f2"></iframe>
diff --git a/content/html/document/test/test_bug259332.html b/content/html/document/test/test_bug259332.html
--- a/content/html/document/test/test_bug259332.html
+++ b/content/html/document/test/test_bug259332.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=259332
 -->
 <head>
   <title>Test for Bug 259332</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=259332">Mozilla Bug 259332</a>
 <p id="display"></p>
 <div id="content">
   <div id="a">a
diff --git a/content/html/document/test/test_bug311681.html b/content/html/document/test/test_bug311681.html
--- a/content/html/document/test/test_bug311681.html
+++ b/content/html/document/test/test_bug311681.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=311681
 -->
 <head>
   <title>Test for Bug 311681</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=311681">Mozilla Bug 311681</a>
 <script class="testbody" type="text/javascript">
   // Setup script
   SimpleTest.waitForExplicitFinish();
diff --git a/content/html/document/test/test_bug324378.html b/content/html/document/test/test_bug324378.html
--- a/content/html/document/test/test_bug324378.html
+++ b/content/html/document/test/test_bug324378.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html id="a" id="b">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=324378
 -->
 <head id="c" id="d">
     <head id="j" foo="k" foo="l">
   <title>Test for Bug 324378</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body id="e" id="f">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=324378">Mozilla Bug 324378</a>
 <script>
   var html = document.documentElement;
   is(document.getElementsByTagName("html").length, 1,
diff --git a/content/html/document/test/test_bug359657.html b/content/html/document/test/test_bug359657.html
--- a/content/html/document/test/test_bug359657.html
+++ b/content/html/document/test/test_bug359657.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=359657
 -->
 <head>
   <title>Test for Bug 359657</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=359657">Mozilla Bug 359657</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/document/test/test_bug369370.html b/content/html/document/test/test_bug369370.html
--- a/content/html/document/test/test_bug369370.html
+++ b/content/html/document/test/test_bug369370.html
@@ -1,17 +1,17 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=369370
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Test for Bug 369370</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
   <script type="text/javascript">
     /*
      * Test strategy:
      */
diff --git a/content/html/document/test/test_bug380383.html b/content/html/document/test/test_bug380383.html
--- a/content/html/document/test/test_bug380383.html
+++ b/content/html/document/test/test_bug380383.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=380383
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Test for Bug 380383</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=380383">Mozilla Bug 380383</a>
 <p id="display">
   <iframe id="f1" name="f1"></iframe>
   <iframe id="f2" name="f2"></iframe>
diff --git a/content/html/document/test/test_bug386495.html b/content/html/document/test/test_bug386495.html
--- a/content/html/document/test/test_bug386495.html
+++ b/content/html/document/test/test_bug386495.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=386495
 -->
 <head>
   <title>Test for Bug 386495</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=386495">Mozilla Bug 386495</a>
 <p id="display"></p>
 <div id="content">
   <iframe id="testIframe"></iframe>
diff --git a/content/html/document/test/test_bug391777.html b/content/html/document/test/test_bug391777.html
--- a/content/html/document/test/test_bug391777.html
+++ b/content/html/document/test/test_bug391777.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391777
 -->
 <head>
   <title>Test for Bug 391777</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391777">Mozilla Bug 391777</a>
 <p id="display"></p>
 <script class="testbody" type="text/javascript">
 
diff --git a/content/html/document/test/test_bug402680.html b/content/html/document/test/test_bug402680.html
--- a/content/html/document/test/test_bug402680.html
+++ b/content/html/document/test/test_bug402680.html
@@ -3,17 +3,17 @@
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402680
 -->
 <head>
   <title>Test for Bug 402680</title>
   <script>
     var activeElementIsNull = (document.activeElement == null);
   </script>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=402680">Mozilla Bug 402680</a>
 <p id="display"></p>
 <div id="content">
   <input type="text">
diff --git a/content/html/document/test/test_bug403868.html b/content/html/document/test/test_bug403868.html
--- a/content/html/document/test/test_bug403868.html
+++ b/content/html/document/test/test_bug403868.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=403868
 -->
 <head>
   <title>Test for Bug 403868</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=403868">Mozilla Bug 403868</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/html/document/test/test_bug404320.html b/content/html/document/test/test_bug404320.html
--- a/content/html/document/test/test_bug404320.html
+++ b/content/html/document/test/test_bug404320.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=404320
 -->
 <head>
   <title>Test for Bug 404320</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=404320">Mozilla Bug 404320</a>
 <p id="display"></p>
 <div id="content">
   <iframe id="testIframe"></iframe>
diff --git a/content/html/document/test/test_bug445004.html b/content/html/document/test/test_bug445004.html
--- a/content/html/document/test/test_bug445004.html
+++ b/content/html/document/test/test_bug445004.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445004
 -->
 <head>
   <title>Test for Bug 445004</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=445004">Mozilla Bug 445004</a>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/html/document/test/test_bug446483.html b/content/html/document/test/test_bug446483.html
--- a/content/html/document/test/test_bug446483.html
+++ b/content/html/document/test/test_bug446483.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=446483
 -->
 <head>
   <title>Test for Bug 446483</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=446483">Mozilla Bug 446483</a>
 <p id="display">
 <iframe src="bug446483-iframe.html"></iframe>
 <iframe src="bug446483-iframe.html"></iframe>
diff --git a/content/html/document/test/test_bug448564.html b/content/html/document/test/test_bug448564.html
--- a/content/html/document/test/test_bug448564.html
+++ b/content/html/document/test/test_bug448564.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448564
 -->
 <head>
   <title>Test for Bug 448564</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   
   <script type="text/javascript;version=1.8">
     var toCheck = [];
 
     function flush() {
       if (!check)
diff --git a/content/html/document/test/test_bug468353.html b/content/html/document/test/test_bug468353.html
--- a/content/html/document/test/test_bug468353.html
+++ b/content/html/document/test/test_bug468353.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468353
 -->
 <head>
   <title>Test for Bug 468353</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468353">Mozilla Bug 468353</a>
 <p id="display"></p>
 <div id="content">
   <iframe></iframe>
diff --git a/content/html/document/test/test_bug481440.html b/content/html/document/test/test_bug481440.html
--- a/content/html/document/test/test_bug481440.html
+++ b/content/html/document/test/test_bug481440.html
@@ -1,16 +1,16 @@
 <!--Test must be in quirks mode for document.all to work-->
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=481440
 -->
 <head>
   <title>Test for Bug 481440</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=481440">Mozilla Bug 481440</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <input name="x" id="y">
diff --git a/content/html/document/test/test_bug481647.html b/content/html/document/test/test_bug481647.html
--- a/content/html/document/test/test_bug481647.html
+++ b/content/html/document/test/test_bug481647.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=481647
 -->
 <head>
   <title>Test for Bug 481647</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=481647">Mozilla Bug 481647</a>
 <p id="display">
   <iframe src="javascript:'aaa'"></iframe>
   <iframe src="javascript:document.write('aaa'); document.close();"></iframe>
diff --git a/content/html/document/test/test_bug482659.html b/content/html/document/test/test_bug482659.html
--- a/content/html/document/test/test_bug482659.html
+++ b/content/html/document/test/test_bug482659.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=482659
 -->
 <head>
   <title>Test for Bug 482659</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=482659">Mozilla Bug 482659</a>
 <p id="display">
   <iframe></iframe>
   <iframe src="about:blank"></iframe>
diff --git a/content/html/document/test/test_bug57600.html b/content/html/document/test/test_bug57600.html
--- a/content/html/document/test/test_bug57600.html
+++ b/content/html/document/test/test_bug57600.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=57600
 -->
 <head>
   <title>Test for Bug 57600</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=57600">Mozilla Bug 57600</a>
 <div id="content" style="display: none">
   
 </div>
diff --git a/content/html/document/test/test_documentAll.html b/content/html/document/test/test_documentAll.html
--- a/content/html/document/test/test_documentAll.html
+++ b/content/html/document/test/test_documentAll.html
@@ -1,16 +1,16 @@
 <html>
 <!--
 Tests for document.all
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Tests for document.all</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=259332">Mozilla Bug 259332</a>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=393629">Mozilla Bug 393629</a>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448904">Mozilla Bug 448904</a>
 <p id="display">
diff --git a/content/html/document/test/test_form-parsing.html b/content/html/document/test/test_form-parsing.html
--- a/content/html/document/test/test_form-parsing.html
+++ b/content/html/document/test/test_form-parsing.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Form parsing</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <div id="content" style="display: none">
   <div>
     <form name="test" action="test" id="test">
                     <input type="text" name="text1" id="text1" />
diff --git a/content/html/document/test/test_viewport.html b/content/html/document/test/test_viewport.html
--- a/content/html/document/test/test_viewport.html
+++ b/content/html/document/test/test_viewport.html
@@ -3,17 +3,17 @@
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=436083
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta name="viewport" content="height=398, width=4224, minimum-scale=0.1,
   initial-scale=2.3, maximum-scale=45.2, user-scalable=no">
   <title>Test for Viewport META Tag Parsing</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank"
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=436083">Mozilla Bug 436083</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/media/video/test/test_access_control.html b/content/media/video/test/test_access_control.html
--- a/content/media/video/test/test_access_control.html
+++ b/content/media/video/test/test_access_control.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=451958
 -->
 <head>
   <title>Test for Bug 451958</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=451958">Mozilla Bug 451958</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/media/video/test/test_audioDocumentTitle.html b/content/media/video/test/test_audioDocumentTitle.html
--- a/content/media/video/test/test_audioDocumentTitle.html
+++ b/content/media/video/test/test_audioDocumentTitle.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=463830
 -->
 <head>
   <title>Test for Bug 463830</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=463830">Mozilla Bug 463830</a>
 <p id="display"></p>
 <iframe id="i"></iframe>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_autoplay.html b/content/media/video/test/test_autoplay.html
--- a/content/media/video/test/test_autoplay.html
+++ b/content/media/video/test/test_autoplay.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: autoplay attribute</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <video id='v2' onerror="event.stopPropagation();" autoplay></video><audio id='a2' onerror="event.stopPropagation();"autoplay></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/media/video/test/test_bug448534.html b/content/media/video/test/test_bug448534.html
--- a/content/media/video/test/test_bug448534.html
+++ b/content/media/video/test/test_bug448534.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448534
 -->
 
 <head>
   <title>Test for Bug 448534</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448535">Mozilla Bug 448534</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v;
diff --git a/content/media/video/test/test_bug461281.html b/content/media/video/test/test_bug461281.html
--- a/content/media/video/test/test_bug461281.html
+++ b/content/media/video/test/test_bug461281.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: Bug 461281 - Ogg Streams with eof marker</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event occurs with media without an eos marker
 var endPassed = false;
diff --git a/content/media/video/test/test_bug465498.html b/content/media/video/test/test_bug465498.html
--- a/content/media/video/test/test_bug465498.html
+++ b/content/media/video/test/test_bug465498.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: Bug 465498 - Seeking after playback ended</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=465498">Mozilla Bug 465498</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var haveSeeked = false;
diff --git a/content/media/video/test/test_bug468190.html b/content/media/video/test/test_bug468190.html
--- a/content/media/video/test/test_bug468190.html
+++ b/content/media/video/test/test_bug468190.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468190
 -->
 <head>
   <title>Test for bug 468190</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468190">Mozilla Bug 468190</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if video can be replayed after ended.
diff --git a/content/media/video/test/test_bug468190_wav.html b/content/media/video/test/test_bug468190_wav.html
--- a/content/media/video/test/test_bug468190_wav.html
+++ b/content/media/video/test/test_bug468190_wav.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468190
 -->
 <head>
   <title>Test for bug 468190</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468190">Mozilla Bug 468190</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if video can be replayed after ended.
diff --git a/content/media/video/test/test_bug482461.html b/content/media/video/test/test_bug482461.html
--- a/content/media/video/test/test_bug482461.html
+++ b/content/media/video/test/test_bug482461.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=482461
 -->
 
 <head>
   <title>Media test: Bug 482461 - Play oggz-chop streams</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=482461">Mozilla Bug 482461</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v;
diff --git a/content/media/video/test/test_can_play_type.html b/content/media/video/test/test_can_play_type.html
--- a/content/media/video/test/test_can_play_type.html
+++ b/content/media/video/test/test_can_play_type.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=469247
 -->
 <head>
   <title>Test for Bug 469247</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=469247">Mozill
 a Bug 469247</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_can_play_type_ogg.html b/content/media/video/test/test_can_play_type_ogg.html
--- a/content/media/video/test/test_can_play_type_ogg.html
+++ b/content/media/video/test/test_can_play_type_ogg.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=469247
 -->
 <head>
   <title>Test for Bug 469247: Ogg backend</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=469247">Mozill
 a Bug 469247</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_can_play_type_wave.html b/content/media/video/test/test_can_play_type_wave.html
--- a/content/media/video/test/test_can_play_type_wave.html
+++ b/content/media/video/test/test_can_play_type_wave.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=469247
 -->
 <head>
   <title>Test for Bug 469247: WAVE backend</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=469247">Mozill
 a Bug 469247</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_constants.html b/content/media/video/test/test_constants.html
--- a/content/media/video/test/test_constants.html
+++ b/content/media/video/test/test_constants.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
   Adapted from:
   http://simon.html5.org/test/html/dom/interfaces/htmlelement/htmlmediaelement/const-unsigned-short/001.htm
 -->
 <head>
   <title>Media test: constants</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video onerror="event.stopPropagation();"><source></video><audio onerror="event.stopPropagation();"><source></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 is(HTMLElement.NETWORK_EMPTY, undefined);
diff --git a/content/media/video/test/test_contentDuration1.html b/content/media/video/test/test_contentDuration1.html
--- a/content/media/video/test/test_contentDuration1.html
+++ b/content/media/video/test/test_contentDuration1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_contentDuration2.html b/content/media/video/test/test_contentDuration2.html
--- a/content/media/video/test/test_contentDuration2.html
+++ b/content/media/video/test/test_contentDuration2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_contentDuration3.html b/content/media/video/test/test_contentDuration3.html
--- a/content/media/video/test/test_contentDuration3.html
+++ b/content/media/video/test/test_contentDuration3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_contentDuration4.html b/content/media/video/test/test_contentDuration4.html
--- a/content/media/video/test/test_contentDuration4.html
+++ b/content/media/video/test/test_contentDuration4.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_contentDuration5.html b/content/media/video/test/test_contentDuration5.html
--- a/content/media/video/test/test_contentDuration5.html
+++ b/content/media/video/test/test_contentDuration5.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_contentDuration6.html b/content/media/video/test/test_contentDuration6.html
--- a/content/media/video/test/test_contentDuration6.html
+++ b/content/media/video/test/test_contentDuration6.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 function on_metadataloaded() {
diff --git a/content/media/video/test/test_controls.html b/content/media/video/test/test_controls.html
--- a/content/media/video/test/test_controls.html
+++ b/content/media/video/test/test_controls.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: controls</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <video id='v2' onerror="event.stopPropagation();" controls></video><audio id='a2' onerror="event.stopPropagation();" controls></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/media/video/test/test_currentTime.html b/content/media/video/test/test_currentTime.html
--- a/content/media/video/test/test_currentTime.html
+++ b/content/media/video/test/test_currentTime.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: currentTime</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v1 = document.getElementById('v1');
diff --git a/content/media/video/test/test_decoder_disable.html b/content/media/video/test/test_decoder_disable.html
--- a/content/media/video/test/test_decoder_disable.html
+++ b/content/media/video/test/test_decoder_disable.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448600
 -->
 <head>
   <title>Test for Bug 448600</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448600">Mozilla Bug 448600</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/content/media/video/test/test_delay_load.html b/content/media/video/test/test_delay_load.html
--- a/content/media/video/test/test_delay_load.html
+++ b/content/media/video/test/test_delay_load.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=479711
 -->
 <head>
   <title>Test for Bug 479711</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script>
   
   var gRegisteredElements = [];
   var gLog = false;
   var gTestWindow;
 
diff --git a/content/media/video/test/test_duration1.html b/content/media/video/test/test_duration1.html
--- a/content/media/video/test/test_duration1.html
+++ b/content/media/video/test/test_duration1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test that getting the duration from a file works
 var completed = false;
diff --git a/content/media/video/test/test_ended1.html b/content/media/video/test/test_ended1.html
--- a/content/media/video/test/test_ended1.html
+++ b/content/media/video/test/test_ended1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: ended</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var v;
diff --git a/content/media/video/test/test_ended2.html b/content/media/video/test/test_ended2.html
--- a/content/media/video/test/test_ended2.html
+++ b/content/media/video/test/test_ended2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: ended and replaying</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if video can be replayed after ended.
 var completed = false;
diff --git a/content/media/video/test/test_error_on_404.html b/content/media/video/test/test_error_on_404.html
--- a/content/media/video/test/test_error_on_404.html
+++ b/content/media/video/test/test_error_on_404.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=476731
 -->
 <head>
   <title>Test for Bug 476731</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=476731">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/media/video/test/test_info_leak.html b/content/media/video/test/test_info_leak.html
--- a/content/media/video/test/test_info_leak.html
+++ b/content/media/video/test/test_info_leak.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478957
 -->
 <head>
   <title>Test for Bug 478957</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478957">Mozilla Bug 478957</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/media/video/test/test_load.html b/content/media/video/test/test_load.html
--- a/content/media/video/test/test_load.html
+++ b/content/media/video/test/test_load.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=479859
 -->
 <head>
   <title>Test for Bug 479859</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=479859">Mozilla Bug 479859</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/media/video/test/test_load_candidates.html b/content/media/video/test/test_load_candidates.html
--- a/content/media/video/test/test_load_candidates.html
+++ b/content/media/video/test/test_load_candidates.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=465458
 -->
 <head>
   <title>Test for Bug 465458</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=465458">Mozilla Bug 465458</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/media/video/test/test_media_selection.html b/content/media/video/test/test_media_selection.html
--- a/content/media/video/test/test_media_selection.html
+++ b/content/media/video/test/test_media_selection.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: media selection</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 SimpleTest.waitForExplicitFinish();
 
diff --git a/content/media/video/test/test_networkState.html b/content/media/video/test/test_networkState.html
--- a/content/media/video/test/test_networkState.html
+++ b/content/media/video/test/test_networkState.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: networkState</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v1 = document.getElementById('v1');
diff --git a/content/media/video/test/test_onloadedmetadata.html b/content/media/video/test/test_onloadedmetadata.html
--- a/content/media/video/test/test_onloadedmetadata.html
+++ b/content/media/video/test/test_onloadedmetadata.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467972
 -->
 <head>
   <title>Test for Bug 467972</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467972">Mozilla Bug 467972</a>
 
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_paused.html b/content/media/video/test/test_paused.html
--- a/content/media/video/test/test_paused.html
+++ b/content/media/video/test/test_paused.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: paused</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v1 = document.getElementById('v1');
diff --git a/content/media/video/test/test_paused_after_ended.html b/content/media/video/test/test_paused_after_ended.html
--- a/content/media/video/test/test_paused_after_ended.html
+++ b/content/media/video/test/test_paused_after_ended.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: paused</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 SimpleTest.waitForExplicitFinish();
 
diff --git a/content/media/video/test/test_play.html b/content/media/video/test/test_play.html
--- a/content/media/video/test/test_play.html
+++ b/content/media/video/test/test_play.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: play() method</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <video id="v" onerror="event.stopPropagation();"></video>
 <script>
 SimpleTest.waitForExplicitFinish();
diff --git a/content/media/video/test/test_progress1.html b/content/media/video/test/test_progress1.html
--- a/content/media/video/test/test_progress1.html
+++ b/content/media/video/test/test_progress1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: progress events</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script src="use_large_cache.js"></script>
 <script class="testbody" type="text/javascript">
 var completed = false;
diff --git a/content/media/video/test/test_progress2.html b/content/media/video/test/test_progress2.html
--- a/content/media/video/test/test_progress2.html
+++ b/content/media/video/test/test_progress2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: progress events</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script src="use_large_cache.js"></script>
 <script class="testbody" type="text/javascript">
 // Test progress events with wav backend
diff --git a/content/media/video/test/test_progress3.html b/content/media/video/test/test_progress3.html
--- a/content/media/video/test/test_progress3.html
+++ b/content/media/video/test/test_progress3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: progress events</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script src="use_large_cache.js"></script>
 <script class="testbody" type="text/javascript">
 // Same as test_progress1 but uses a smaller file to test resource loaded
diff --git a/content/media/video/test/test_progress4.html b/content/media/video/test/test_progress4.html
--- a/content/media/video/test/test_progress4.html
+++ b/content/media/video/test/test_progress4.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: progress events</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script src="use_large_cache.js"></script>
 <script class="testbody" type="text/javascript">
 // Test progress events with wav backend
diff --git a/content/media/video/test/test_readyState.html b/content/media/video/test/test_readyState.html
--- a/content/media/video/test/test_readyState.html
+++ b/content/media/video/test/test_readyState.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: readyState</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var v1 = document.getElementById('v1');
diff --git a/content/media/video/test/test_seek1.html b/content/media/video/test/test_seek1.html
--- a/content/media/video/test/test_seek1.html
+++ b/content/media/video/test/test_seek1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var startPassed = false;
 var endPassed = false;
diff --git a/content/media/video/test/test_seek2.html b/content/media/video/test/test_seek2.html
--- a/content/media/video/test/test_seek2.html
+++ b/content/media/video/test/test_seek2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 2</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v' onerror="event.stopPropagation();"></video>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // http://www.whatwg.org/specs/web-apps/current-work/#dom-media-seek
diff --git a/content/media/video/test/test_seek3.html b/content/media/video/test/test_seek3.html
--- a/content/media/video/test/test_seek3.html
+++ b/content/media/video/test/test_seek3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 3</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test seeking works if current time is set before video is
 // playing.
diff --git a/content/media/video/test/test_seek4.html b/content/media/video/test/test_seek4.html
--- a/content/media/video/test/test_seek4.html
+++ b/content/media/video/test/test_seek4.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 4</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v'
        src='seek.ogv'
        onloadedmetadata='return startTest();'
        onseeking='return seekStarted();'
diff --git a/content/media/video/test/test_seek5.html b/content/media/video/test/test_seek5.html
--- a/content/media/video/test/test_seek5.html
+++ b/content/media/video/test/test_seek5.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 5</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id='v'
        src='seek.ogv'
        onloadedmetadata='return startTest();'
        onseeking='return seekStarted();'
diff --git a/content/media/video/test/test_seek6.html b/content/media/video/test/test_seek6.html
--- a/content/media/video/test/test_seek6.html
+++ b/content/media/video/test/test_seek6.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 6</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test for a seek, followed by a play before the seek completes, ensure we play at the end of the seek.
 var startPassed = false;
diff --git a/content/media/video/test/test_seek7.html b/content/media/video/test/test_seek7.html
--- a/content/media/video/test/test_seek7.html
+++ b/content/media/video/test/test_seek7.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 7</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test for bug identified by Chris Pearce in comment 40 on
 // bug 449159.
diff --git a/content/media/video/test/test_seek8.html b/content/media/video/test/test_seek8.html
--- a/content/media/video/test/test_seek8.html
+++ b/content/media/video/test/test_seek8.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: seek test 8</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // If a NaN is passed to currentTime, make sure this is caught
 // otherwise an infinite loop in the Ogg backend occurs.
diff --git a/content/media/video/test/test_source.html b/content/media/video/test/test_source.html
--- a/content/media/video/test/test_source.html
+++ b/content/media/video/test/test_source.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: append source child</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <video id="v1" onerror="event.stopPropagation();"></video>
 <audio id="a1" onerror="event.stopPropagation();"></audio>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/content/media/video/test/test_source_write.html b/content/media/video/test/test_source_write.html
--- a/content/media/video/test/test_source_write.html
+++ b/content/media/video/test/test_source_write.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=462455
 -->
 <head>
   <title>Test for Bug 462455</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=462455">Mozilla Bug 462455</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/content/media/video/test/test_standalone.html b/content/media/video/test/test_standalone.html
--- a/content/media/video/test/test_standalone.html
+++ b/content/media/video/test/test_standalone.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: standalone video documents</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doTest()">
 
 <iframe id="i" src="320x240.ogv"></iframe>
 
 <pre id="test">
diff --git a/content/media/video/test/test_timeupdate1.html b/content/media/video/test/test_timeupdate1.html
--- a/content/media/video/test/test_timeupdate1.html
+++ b/content/media/video/test/test_timeupdate1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: timeupdate during playback</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if timeupdate is dispatched and the current time during the
 // update is increasing.
diff --git a/content/media/video/test/test_timeupdate2.html b/content/media/video/test/test_timeupdate2.html
--- a/content/media/video/test/test_timeupdate2.html
+++ b/content/media/video/test/test_timeupdate2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: timeupdate and size</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the media size during the first timeupdate is correct.
 var completed = false;
diff --git a/content/media/video/test/test_timeupdate3.html b/content/media/video/test/test_timeupdate3.html
--- a/content/media/video/test/test_timeupdate3.html
+++ b/content/media/video/test/test_timeupdate3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: timeupdate and size</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the media size during the first timeupdate is correct.
 var completed = false;
diff --git a/content/media/video/test/test_videoDocumentTitle.html b/content/media/video/test/test_videoDocumentTitle.html
--- a/content/media/video/test/test_videoDocumentTitle.html
+++ b/content/media/video/test/test_videoDocumentTitle.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=463830
 -->
 <head>
   <title>Test for Bug 463830</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=463830">Mozilla Bug 463830</a>
 <p id="display"></p>
 <iframe id="i"></iframe>
 <div id="content" style="display: none">
diff --git a/content/media/video/test/test_volume.html b/content/media/video/test/test_volume.html
--- a/content/media/video/test/test_volume.html
+++ b/content/media/video/test/test_volume.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: volume attribute set</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <video id='v1' onerror="event.stopPropagation();"></video><audio id='a1' onerror="event.stopPropagation();"></audio>
 
 <pre id="test">
diff --git a/content/media/video/test/test_wav_8bit.html b/content/media/video/test/test_wav_8bit.html
--- a/content/media/video/test/test_wav_8bit.html
+++ b/content/media/video/test/test_wav_8bit.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: 8-bit sample format</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_ended1.html b/content/media/video/test/test_wav_ended1.html
--- a/content/media/video/test/test_wav_ended1.html
+++ b/content/media/video/test/test_wav_ended1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: ended</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_ended2.html b/content/media/video/test/test_wav_ended2.html
--- a/content/media/video/test/test_wav_ended2.html
+++ b/content/media/video/test/test_wav_ended2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: ended and replaying</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <!-- try with autoplay and no v.play in starttest, also with both -->
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if audio can be replayed after ended.
diff --git a/content/media/video/test/test_wav_list.html b/content/media/video/test/test_wav_list.html
--- a/content/media/video/test/test_wav_list.html
+++ b/content/media/video/test/test_wav_list.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: playback of file with list chunk</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_onloadedmetadata.html b/content/media/video/test/test_wav_onloadedmetadata.html
--- a/content/media/video/test/test_wav_onloadedmetadata.html
+++ b/content/media/video/test/test_wav_onloadedmetadata.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467972
 -->
 <head>
   <title>Wav Test for Bug 467972</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467972">Mozilla Bug 467972</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/media/video/test/test_wav_seek1.html b/content/media/video/test/test_wav_seek1.html
--- a/content/media/video/test/test_wav_seek1.html
+++ b/content/media/video/test/test_wav_seek1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 1</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var startPassed = false;
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_seek3.html b/content/media/video/test/test_wav_seek3.html
--- a/content/media/video/test/test_wav_seek3.html
+++ b/content/media/video/test/test_wav_seek3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 3</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test seeking works if current time is set before audio is
 // playing.
diff --git a/content/media/video/test/test_wav_seek4.html b/content/media/video/test/test_wav_seek4.html
--- a/content/media/video/test/test_wav_seek4.html
+++ b/content/media/video/test/test_wav_seek4.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 4</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test seeking works if current time is set but audio is not played.
 var startPassed = false;
diff --git a/content/media/video/test/test_wav_seek5.html b/content/media/video/test/test_wav_seek5.html
--- a/content/media/video/test/test_wav_seek5.html
+++ b/content/media/video/test/test_wav_seek5.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 5</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test for a seek, followed by another seek before the first is complete.
 var startPassed = false;
diff --git a/content/media/video/test/test_wav_seek6.html b/content/media/video/test/test_wav_seek6.html
--- a/content/media/video/test/test_wav_seek6.html
+++ b/content/media/video/test/test_wav_seek6.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 6</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test for a seek, followed by a play before the seek completes, ensure we play at the end of the seek.
 var startPassed = false;
diff --git a/content/media/video/test/test_wav_seek7.html b/content/media/video/test/test_wav_seek7.html
--- a/content/media/video/test/test_wav_seek7.html
+++ b/content/media/video/test/test_wav_seek7.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 7</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript;version=1.7">
 // Test for bug identified by Chris Pearce in comment 40 on
 // bug 449159.
diff --git a/content/media/video/test/test_wav_seek8.html b/content/media/video/test/test_wav_seek8.html
--- a/content/media/video/test/test_wav_seek8.html
+++ b/content/media/video/test/test_wav_seek8.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek test 8</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // If a NaN is passed to currentTime, make sure this is caught
 // otherwise an infinite loop in the Wave backend occurs.
diff --git a/content/media/video/test/test_wav_seek_past_end.html b/content/media/video/test/test_wav_seek_past_end.html
--- a/content/media/video/test/test_wav_seek_past_end.html
+++ b/content/media/video/test/test_wav_seek_past_end.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek after file end</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_seek_then_play.html b/content/media/video/test/test_wav_seek_then_play.html
--- a/content/media/video/test/test_wav_seek_then_play.html
+++ b/content/media/video/test/test_wav_seek_then_play.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seek then play</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_standalone.html b/content/media/video/test/test_wav_standalone.html
--- a/content/media/video/test/test_wav_standalone.html
+++ b/content/media/video/test/test_wav_standalone.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Media test: standalone video documents</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doTest()">
 
 <iframe id="i" src="r11025_u8_c1.wav"></iframe>
 
 <pre id="test">
diff --git a/content/media/video/test/test_wav_timeupdate1.html b/content/media/video/test/test_wav_timeupdate1.html
--- a/content/media/video/test/test_wav_timeupdate1.html
+++ b/content/media/video/test/test_wav_timeupdate1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: timeupdate during playback</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if timeupdate is dispatched and the current time during the
 // update is increasing.
diff --git a/content/media/video/test/test_wav_timeupdate2.html b/content/media/video/test/test_wav_timeupdate2.html
--- a/content/media/video/test/test_wav_timeupdate2.html
+++ b/content/media/video/test/test_wav_timeupdate2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: timeupdate after seeking</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 var completed = false;
 var seeking = false;
diff --git a/content/media/video/test/test_wav_trailing.html b/content/media/video/test/test_wav_trailing.html
--- a/content/media/video/test/test_wav_trailing.html
+++ b/content/media/video/test/test_wav_trailing.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: playback ends when file has trailing non-PCM data</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_trunc.html b/content/media/video/test/test_wav_trunc.html
--- a/content/media/video/test/test_wav_trunc.html
+++ b/content/media/video/test/test_wav_trunc.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: playback ends when file is truncated</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/media/video/test/test_wav_trunc_seek.html b/content/media/video/test/test_wav_trunc_seek.html
--- a/content/media/video/test/test_wav_trunc_seek.html
+++ b/content/media/video/test/test_wav_trunc_seek.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Wave Media test: seeking in truncated file</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 // Test if the ended event works correctly.
 var endPassed = false;
diff --git a/content/xbl/test/test_bug310107.html b/content/xbl/test/test_bug310107.html
--- a/content/xbl/test/test_bug310107.html
+++ b/content/xbl/test/test_bug310107.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=310107
 -->
 <head>
   <title>Test for Bug 310107</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=310107">Mozilla Bug 310107</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xbl/test/test_bug366770.html b/content/xbl/test/test_bug366770.html
--- a/content/xbl/test/test_bug366770.html
+++ b/content/xbl/test/test_bug366770.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=366770
 -->
 <head>
   <title>Test for Bug 366770</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
   <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=366770">Mozilla Bug 366770</a>
   <p id="display"></p>
   <div id="content" style="display: none"></div>
 
diff --git a/content/xbl/test/test_bug379959.html b/content/xbl/test/test_bug379959.html
--- a/content/xbl/test/test_bug379959.html
+++ b/content/xbl/test/test_bug379959.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=366770
 -->
 <head>
   <title>Test for Bug 366770</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="gen.next();">
   <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=366770">Mozilla Bug 366770</a>
   <p id="display">
     Note: In order to re-run this test correctly you need to shift-reload
     rather than simply reload. If you just reload we will restore the
diff --git a/content/xbl/test/test_bug481558.html b/content/xbl/test/test_bug481558.html
--- a/content/xbl/test/test_bug481558.html
+++ b/content/xbl/test/test_bug481558.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=481558
 -->
 <head>
   <title>Test for Bug 481558</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
   <link rel="stylesheet" type="text/css"
         href="file_bug481558css.sjs?id=id1">
   <link rel="stylesheet" type="text/css"
         href="file_bug481558css.sjs?id=id2&server=example.com">
   <link rel="stylesheet" type="text/css" href="http://example.com/tests/content/xbl/test/file_bug481558css.sjs?id=id3">
   <link rel="stylesheet" type="text/css" href="http://example.com/tests/content/xbl/test/file_bug481558css.sjs?id=id4&server=localhost:8888">
diff --git a/content/xml/document/test/test_bug392338.html b/content/xml/document/test/test_bug392338.html
--- a/content/xml/document/test/test_bug392338.html
+++ b/content/xml/document/test/test_bug392338.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392338
 -->
 <head>
   <title>Test for Bug 392338</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=392338">Mozilla Bug 392338</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xml/document/test/test_bug445330.html b/content/xml/document/test/test_bug445330.html
--- a/content/xml/document/test/test_bug445330.html
+++ b/content/xml/document/test/test_bug445330.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445330
 -->
 <head>
   <title>Test for Bug 445330</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=445330">Mozilla Bug 445330</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xslt/tests/mochitest/test_bug427060.html b/content/xslt/tests/mochitest/test_bug427060.html
--- a/content/xslt/tests/mochitest/test_bug427060.html
+++ b/content/xslt/tests/mochitest/test_bug427060.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=427060
 -->
 <head>
   <title>Test for Bug 427060</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=427060">Mozilla Bug 427060</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xslt/tests/mochitest/test_bug440974.html b/content/xslt/tests/mochitest/test_bug440974.html
--- a/content/xslt/tests/mochitest/test_bug440974.html
+++ b/content/xslt/tests/mochitest/test_bug440974.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=440974
 -->
 <head>
   <title>Test for Bug 440974</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=440974">Mozilla Bug 440974</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xslt/tests/mochitest/test_bug453441.html b/content/xslt/tests/mochitest/test_bug453441.html
--- a/content/xslt/tests/mochitest/test_bug453441.html
+++ b/content/xslt/tests/mochitest/test_bug453441.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=453441
 -->
 <head>
   <title>Test for Bug 453441</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=453441">Mozilla Bug 453441</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/content/xslt/tests/mochitest/test_bug468208.html b/content/xslt/tests/mochitest/test_bug468208.html
--- a/content/xslt/tests/mochitest/test_bug468208.html
+++ b/content/xslt/tests/mochitest/test_bug468208.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468208
 -->
 <head>
   <title>Test for Bug 468208</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468208">Mozilla Bug 468208</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/docshell/test/bug94514-postpage.html b/docshell/test/bug94514-postpage.html
--- a/docshell/test/bug94514-postpage.html
+++ b/docshell/test/bug94514-postpage.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=94514
 Specifically, this is a test page that actually submits a form.
 -->
 <head>
   <title>Test Page for Bug 94515</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
 </head>
 <body>
 <form id="testForm" method="POST">
   <input type="submit" id="send"/>
 </form>
 
 <script class="testbody" type="text/javascript">
 
diff --git a/docshell/test/navigation/test_bug13871.html b/docshell/test/navigation/test_bug13871.html
--- a/docshell/test/navigation/test_bug13871.html
+++ b/docshell/test/navigation/test_bug13871.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_bug270414.html b/docshell/test/navigation/test_bug270414.html
--- a/docshell/test/navigation/test_bug270414.html
+++ b/docshell/test/navigation/test_bug270414.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_bug278916.html b/docshell/test/navigation/test_bug278916.html
--- a/docshell/test/navigation/test_bug278916.html
+++ b/docshell/test/navigation/test_bug278916.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>
 <script>
 window.onload = function () {
   document.getElementById("link0").href = target_url;
   sendMouseEvent({type:"click"}, "link0");
diff --git a/docshell/test/navigation/test_bug279495.html b/docshell/test/navigation/test_bug279495.html
--- a/docshell/test/navigation/test_bug279495.html
+++ b/docshell/test/navigation/test_bug279495.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>
 <script>
 window.onload = function () {
   document.getElementById("link0").href = target_url;
   document.getElementById("link1").href = target_url;
diff --git a/docshell/test/navigation/test_bug386782.html b/docshell/test/navigation/test_bug386782.html
--- a/docshell/test/navigation/test_bug386782.html
+++ b/docshell/test/navigation/test_bug386782.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=386782
 -->
 <head>
   <title>Test for Bug 386782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   
   <script>
 
     // This tests if we can load a document whose root is in designMode,
     // edit it, navigate to a new page, navigate back, still edit, and still
diff --git a/docshell/test/navigation/test_bug430624.html b/docshell/test/navigation/test_bug430624.html
--- a/docshell/test/navigation/test_bug430624.html
+++ b/docshell/test/navigation/test_bug430624.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=430624
 -->
 <head>
   <title>Test for Bug 430624</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>  
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=430624">Mozilla Bug 430624</a>
 <p id="display"></p>
 
diff --git a/docshell/test/navigation/test_bug430723.html b/docshell/test/navigation/test_bug430723.html
--- a/docshell/test/navigation/test_bug430723.html
+++ b/docshell/test/navigation/test_bug430723.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=430723
 -->
 <head>
   <title>Test for Bug 430723</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>  
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=430723">Mozilla Bug 430723</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/docshell/test/navigation/test_child.html b/docshell/test/navigation/test_child.html
--- a/docshell/test/navigation/test_child.html
+++ b/docshell/test/navigation/test_child.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_grandchild.html b/docshell/test/navigation/test_grandchild.html
--- a/docshell/test/navigation/test_grandchild.html
+++ b/docshell/test/navigation/test_grandchild.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 200px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_not-opener.html b/docshell/test/navigation/test_not-opener.html
--- a/docshell/test/navigation/test_not-opener.html
+++ b/docshell/test/navigation/test_not-opener.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_opener.html b/docshell/test/navigation/test_opener.html
--- a/docshell/test/navigation/test_opener.html
+++ b/docshell/test/navigation/test_opener.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_popup-navigates-children.html b/docshell/test/navigation/test_popup-navigates-children.html
--- a/docshell/test/navigation/test_popup-navigates-children.html
+++ b/docshell/test/navigation/test_popup-navigates-children.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_reserved.html b/docshell/test/navigation/test_reserved.html
--- a/docshell/test/navigation/test_reserved.html
+++ b/docshell/test/navigation/test_reserved.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 200px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_sibling-matching-parent.html b/docshell/test/navigation/test_sibling-matching-parent.html
--- a/docshell/test/navigation/test_sibling-matching-parent.html
+++ b/docshell/test/navigation/test_sibling-matching-parent.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/navigation/test_sibling-off-domain.html b/docshell/test/navigation/test_sibling-off-domain.html
--- a/docshell/test/navigation/test_sibling-off-domain.html
+++ b/docshell/test/navigation/test_sibling-off-domain.html
@@ -1,12 +1,12 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
     <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <script type="text/javascript" src="NavigationUtils.js"></script>        
     <style type="text/css">
       iframe { width: 90%; height: 50px; }
     </style>
 <script>
diff --git a/docshell/test/test_bug123696.html b/docshell/test/test_bug123696.html
--- a/docshell/test/test_bug123696.html
+++ b/docshell/test/test_bug123696.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=123696
 -->
 <head>
   <title>Test for Bug 123696</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=123696">Mozilla Bug 123696</a>
 <p id="display">
   <iframe src="bug123696-subframe.html"></iframe>
 </p>
diff --git a/docshell/test/test_bug344861.html b/docshell/test/test_bug344861.html
--- a/docshell/test/test_bug344861.html
+++ b/docshell/test/test_bug344861.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=344861
 -->
 <head>
   <title>Test for Bug 344861</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=344861">Mozilla Bug 344861</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/docshell/test/test_bug369814.html b/docshell/test/test_bug369814.html
--- a/docshell/test/test_bug369814.html
+++ b/docshell/test/test_bug369814.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=369814
 -->
 <head>
   <title>Test for Bug 369814</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384014">Mozilla Bug 369814</a>
 
 <p>
diff --git a/docshell/test/test_bug384014.html b/docshell/test/test_bug384014.html
--- a/docshell/test/test_bug384014.html
+++ b/docshell/test/test_bug384014.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384014
 -->
 <head>
   <title>Test for Bug 384014</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384014">Mozilla Bug 384014</a>
 <p id="display">
 <iframe id="f" src="javascript:try { window.x = 'PASS'; s = 'PASS' } catch(e) { s = 'FAIL' } s;"></iframe>
 </p>
diff --git a/docshell/test/test_bug387979.html b/docshell/test/test_bug387979.html
--- a/docshell/test/test_bug387979.html
+++ b/docshell/test/test_bug387979.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=387979
 -->
 <head>
   <title>Test for Bug 387979</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=387979">Mozilla Bug 387979</a>
 <div id="content" style="display: none">
   
 </div>
diff --git a/docshell/test/test_bug402210.html b/docshell/test/test_bug402210.html
--- a/docshell/test/test_bug402210.html
+++ b/docshell/test/test_bug402210.html
@@ -11,17 +11,17 @@ for this kind of thing.
 
 If we rely on it, we might as well test for it, even if it isn't the
 problem 402210 was meant to fix.
 
 https://bugzilla.mozilla.org/show_bug.cgi?id=402210
 -->
 <head>
   <title>Test for Bug 402210</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=402210">Mozilla Bug 402210</a>
 <p id="display">
   <a id="testlink">Test Link</a>
 </p>
diff --git a/docshell/test/test_bug404548.html b/docshell/test/test_bug404548.html
--- a/docshell/test/test_bug404548.html
+++ b/docshell/test/test_bug404548.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=404548
 -->
 <head>
   <title>Test for Bug 404548</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=404548">Mozilla Bug 404548</a>
 <p id="display">
 </p>
 <div id="content" style="display: none">
diff --git a/docshell/test/test_bug413310.html b/docshell/test/test_bug413310.html
--- a/docshell/test/test_bug413310.html
+++ b/docshell/test/test_bug413310.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=413310
 -->
 <head>
   <title>Test for Bug 413310</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=413310">Mozilla Bug 413310</a>
 <p id="display">
 <script class="testbody" type="text/javascript">
 
diff --git a/docshell/test/test_bug475636.html b/docshell/test/test_bug475636.html
--- a/docshell/test/test_bug475636.html
+++ b/docshell/test/test_bug475636.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=475636
 Test that refresh to data: URIs don't inherit the principal
 -->
 <head>
   <title>Test for Bug 475636</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
 
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="gen.next()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=475636">Mozilla Bug 475636</a>
 
 <div id="content" style="display: none">
diff --git a/docshell/test/test_bug94514.html b/docshell/test/test_bug94514.html
--- a/docshell/test/test_bug94514.html
+++ b/docshell/test/test_bug94514.html
@@ -2,17 +2,17 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=94514
 Specifically, this tests that a page that is obtained via a post request does
 not get added to global history.
 -->
 <head>
   <title>Test for Bug 94515</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
 
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=94514">Mozilla Bug 94514</a>
 
 <div id="content" style="display: none">
diff --git a/dom/src/json/test/test_json.html b/dom/src/json/test/test_json.html
--- a/dom/src/json/test/test_json.html
+++ b/dom/src/json/test/test_json.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=408838
 -->
 <head>
   <title>Test for Bug 408838</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=408838">Mozilla Bug 408838</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/jsurl/test/test_bug351633-1.html b/dom/src/jsurl/test/test_bug351633-1.html
--- a/dom/src/jsurl/test/test_bug351633-1.html
+++ b/dom/src/jsurl/test/test_bug351633-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=351633
 -->
 <head>
   <title>Test for Bug 351633: Form submission</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=351633">Mozilla Bug 351633</a>
 <p id="display">
   <iframe id="frame" src="form-submit.html"></iframe>
 </p>
diff --git a/dom/src/jsurl/test/test_bug351633-2.html b/dom/src/jsurl/test/test_bug351633-2.html
--- a/dom/src/jsurl/test/test_bug351633-2.html
+++ b/dom/src/jsurl/test/test_bug351633-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=351633
 -->
 <head>
   <title>Test for Bug 351633</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=351633">Mozilla Bug 351633</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/dom/src/jsurl/test/test_bug351633-3.html b/dom/src/jsurl/test/test_bug351633-3.html
--- a/dom/src/jsurl/test/test_bug351633-3.html
+++ b/dom/src/jsurl/test/test_bug351633-3.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=351633
 -->
 <head>
   <title>Test for Bug 351633</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=351633">Mozilla Bug 351633</a>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/dom/src/jsurl/test/test_bug351633-4.html b/dom/src/jsurl/test/test_bug351633-4.html
--- a/dom/src/jsurl/test/test_bug351633-4.html
+++ b/dom/src/jsurl/test/test_bug351633-4.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=351633
 -->
 <head>
   <title>Test for Bug 351633</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=351633">Mozilla Bug 351633</a>
 <p id="display">
   <iframe name="x" id="x"></iframe>
 </p>
diff --git a/dom/src/jsurl/test/test_bug384981.html b/dom/src/jsurl/test/test_bug384981.html
--- a/dom/src/jsurl/test/test_bug384981.html
+++ b/dom/src/jsurl/test/test_bug384981.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384981
 -->
 <head>
   <title>Test for Bug 384981</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <!-- Make sure we wait for the stylesheet load -->
   <script>document.documentElement.offsetWidth</script>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384981">Mozilla Bug 384981</a>
 <p id="display">
diff --git a/dom/src/threads/test/test_404.html b/dom/src/threads/test/test_404.html
--- a/dom/src/threads/test/test_404.html
+++ b/dom/src/threads/test/test_404.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
   var worker = new Worker("nonexistent_worker.js");
diff --git a/dom/src/threads/test/test_close.html b/dom/src/threads/test/test_close.html
--- a/dom/src/threads/test/test_close.html
+++ b/dom/src/threads/test/test_close.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/dom/src/threads/test/test_closeOnGC.html b/dom/src/threads/test/test_closeOnGC.html
--- a/dom/src/threads/test/test_closeOnGC.html
+++ b/dom/src/threads/test/test_closeOnGC.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/dom/src/threads/test/test_errorPropagation.html b/dom/src/threads/test/test_errorPropagation.html
--- a/dom/src/threads/test/test_errorPropagation.html
+++ b/dom/src/threads/test/test_errorPropagation.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
   netscape.security.PrivilegeManager.enablePrivilege('UniversalXPConnect');
diff --git a/dom/src/threads/test/test_fibonacci.html b/dom/src/threads/test/test_fibonacci.html
--- a/dom/src/threads/test/test_fibonacci.html
+++ b/dom/src/threads/test/test_fibonacci.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads with Fibonacci
 -->
 <head>
   <title>Test for DOM Worker Threads with Fibonacci</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450452">DOM Worker Threads Fibonacci</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/dom/src/threads/test/test_functionHandlers.html b/dom/src/threads/test/test_functionHandlers.html
--- a/dom/src/threads/test/test_functionHandlers.html
+++ b/dom/src/threads/test/test_functionHandlers.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads Recursion</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_importScripts.html b/dom/src/threads/test/test_importScripts.html
--- a/dom/src/threads/test/test_importScripts.html
+++ b/dom/src/threads/test/test_importScripts.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads (Bug 437152)
 -->
 <head>
   <title>Test for DOM Worker Threads (Bug 437152)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=437152">DOM Worker Threads Bug 437152</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/threads/test/test_json.html b/dom/src/threads/test/test_json.html
--- a/dom/src/threads/test/test_json.html
+++ b/dom/src/threads/test/test_json.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker JSON messages
 -->
 <head>
   <title>Test for DOM Worker Navigator</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_longThread.html b/dom/src/threads/test/test_longThread.html
--- a/dom/src/threads/test/test_longThread.html
+++ b/dom/src/threads/test/test_longThread.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads (Bug 437152)
 -->
 <head>
   <title>Test for DOM Worker Threads (Bug 437152)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=437152">DOM Worker Threads Bug 437152</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/threads/test/test_navigator.html b/dom/src/threads/test/test_navigator.html
--- a/dom/src/threads/test/test_navigator.html
+++ b/dom/src/threads/test/test_navigator.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Navigator
 -->
 <head>
   <title>Test for DOM Worker Navigator</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_recursion.html b/dom/src/threads/test/test_recursion.html
--- a/dom/src/threads/test/test_recursion.html
+++ b/dom/src/threads/test/test_recursion.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads Recursion</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_regExpStatics.html b/dom/src/threads/test/test_regExpStatics.html
--- a/dom/src/threads/test/test_regExpStatics.html
+++ b/dom/src/threads/test/test_regExpStatics.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads RegExp statics
 -->
 <head>
   <title>Test for DOM Worker Threads RegExp statics</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_relativeLoad.html b/dom/src/threads/test/test_relativeLoad.html
--- a/dom/src/threads/test/test_relativeLoad.html
+++ b/dom/src/threads/test/test_relativeLoad.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads relative load
 -->
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
   var index = -1;
diff --git a/dom/src/threads/test/test_scopeOnerror.html b/dom/src/threads/test/test_scopeOnerror.html
--- a/dom/src/threads/test/test_scopeOnerror.html
+++ b/dom/src/threads/test/test_scopeOnerror.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
   var errors = [
diff --git a/dom/src/threads/test/test_simpleThread.html b/dom/src/threads/test/test_simpleThread.html
--- a/dom/src/threads/test/test_simpleThread.html
+++ b/dom/src/threads/test/test_simpleThread.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads (Bug 437152)
 -->
 <head>
   <title>Test for DOM Worker Threads (Bug 437152)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=437152">DOM Worker Threads Bug 437152</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/threads/test/test_terminate.html b/dom/src/threads/test/test_terminate.html
--- a/dom/src/threads/test/test_terminate.html
+++ b/dom/src/threads/test/test_terminate.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker terminate feature
 -->
 <head>
   <title>Test for DOM Worker Navigator</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_threadErrors.html b/dom/src/threads/test/test_threadErrors.html
--- a/dom/src/threads/test/test_threadErrors.html
+++ b/dom/src/threads/test/test_threadErrors.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads (Bug 437152)
 -->
 <head>
   <title>Test for DOM Worker Threads (Bug 437152)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=437152">DOM Worker Threads Bug 437152</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/threads/test/test_threadTimeouts.html b/dom/src/threads/test/test_threadTimeouts.html
--- a/dom/src/threads/test/test_threadTimeouts.html
+++ b/dom/src/threads/test/test_threadTimeouts.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads (Bug 437152)
 -->
 <head>
   <title>Test for DOM Worker Threads (Bug 437152)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=437152">DOM Worker Threads Bug 437152</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/src/threads/test/test_throwingOnerror.html b/dom/src/threads/test/test_throwingOnerror.html
--- a/dom/src/threads/test/test_throwingOnerror.html
+++ b/dom/src/threads/test/test_throwingOnerror.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads
 -->
 <head>
   <title>Test for DOM Worker Threads Recursion</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
diff --git a/dom/src/threads/test/test_xhr.html b/dom/src/threads/test/test_xhr.html
--- a/dom/src/threads/test/test_xhr.html
+++ b/dom/src/threads/test/test_xhr.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads XHR(Bug 450452 )
 -->
 <head>
   <title>Test for DOM Worker Threads XHR (Bug 450452 )</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450452">DOM Worker Threads XHR (Bug 450452)</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/dom/src/threads/test/test_xhrAbort.html b/dom/src/threads/test/test_xhrAbort.html
--- a/dom/src/threads/test/test_xhrAbort.html
+++ b/dom/src/threads/test/test_xhrAbort.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 Tests of DOM Worker Threads XHR(Bug 450452 )
 -->
 <head>
   <title>Test for DOM Worker Threads XHR (Bug 450452 )</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450452">DOM Worker Threads XHR (Bug 450452)</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/dom/tests/mochitest/bugs/test_bug132255.html b/dom/tests/mochitest/bugs/test_bug132255.html
--- a/dom/tests/mochitest/bugs/test_bug132255.html
+++ b/dom/tests/mochitest/bugs/test_bug132255.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=132255
 -->
 <head>
   <title>Test for Bug 132255</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <base href="http://localhost:8888/tests/dom/tests/mochitest/">
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=132255">Mozilla Bug 132255</a>
 <p id="display">
   <iframe src="javascript:'<a href=\'foo.html\'>test-anchor</a>'"></iframe>
diff --git a/dom/tests/mochitest/bugs/test_bug159849.html b/dom/tests/mochitest/bugs/test_bug159849.html
--- a/dom/tests/mochitest/bugs/test_bug159849.html
+++ b/dom/tests/mochitest/bugs/test_bug159849.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=159849
 -->
 <head>
   <title>Test for Bug 159849</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=159849">Mozilla Bug 159849</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug291377.html b/dom/tests/mochitest/bugs/test_bug291377.html
--- a/dom/tests/mochitest/bugs/test_bug291377.html
+++ b/dom/tests/mochitest/bugs/test_bug291377.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=291377
 -->
 <head>
   <title>Test for Bug 291377</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=291377">Mozilla Bug 291377</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug308856.html b/dom/tests/mochitest/bugs/test_bug308856.html
--- a/dom/tests/mochitest/bugs/test_bug308856.html
+++ b/dom/tests/mochitest/bugs/test_bug308856.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=308856
 -->
 <head>
   <title>Test for Bug 308856</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=308856">Mozilla Bug 308856</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug317448.html b/dom/tests/mochitest/bugs/test_bug317448.html
--- a/dom/tests/mochitest/bugs/test_bug317448.html
+++ b/dom/tests/mochitest/bugs/test_bug317448.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=317448
 -->
 <head>
   <title>Test for Bug 317448</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=317448">Mozilla Bug 317448</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug327891.html b/dom/tests/mochitest/bugs/test_bug327891.html
--- a/dom/tests/mochitest/bugs/test_bug327891.html
+++ b/dom/tests/mochitest/bugs/test_bug327891.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=327891
 -->
 <head>
   <title>Test for Bug 327891</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=327891">Mozilla Bug 327891</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug333983.html b/dom/tests/mochitest/bugs/test_bug333983.html
--- a/dom/tests/mochitest/bugs/test_bug333983.html
+++ b/dom/tests/mochitest/bugs/test_bug333983.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=333983
 -->
 <head>
   <title>Test for Bug 333983</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=333983">Mozilla Bug 333983</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug342448.html b/dom/tests/mochitest/bugs/test_bug342448.html
--- a/dom/tests/mochitest/bugs/test_bug342448.html
+++ b/dom/tests/mochitest/bugs/test_bug342448.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=342448
 -->
 <head>
   <title>Test for Bug 342448</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=342448">Mozilla Bug 342448</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug345521.html b/dom/tests/mochitest/bugs/test_bug345521.html
--- a/dom/tests/mochitest/bugs/test_bug345521.html
+++ b/dom/tests/mochitest/bugs/test_bug345521.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=345521
 -->
 <head>
   <title>Test for Bug 345521</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=345521">Mozilla Bug 345521</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <a id="testlink" onclick="return 0">test</a><br />
diff --git a/dom/tests/mochitest/bugs/test_bug346659.html b/dom/tests/mochitest/bugs/test_bug346659.html
--- a/dom/tests/mochitest/bugs/test_bug346659.html
+++ b/dom/tests/mochitest/bugs/test_bug346659.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=346659
 -->
 <head>
   <title>Test for Bug 346659</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=346659">Mozilla Bug 346659</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug351601.html b/dom/tests/mochitest/bugs/test_bug351601.html
--- a/dom/tests/mochitest/bugs/test_bug351601.html
+++ b/dom/tests/mochitest/bugs/test_bug351601.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=351601
 -->
 <head>
   <title>Test for Bug 351601</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=351601">Mozilla Bug 351601</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug370098.html b/dom/tests/mochitest/bugs/test_bug370098.html
--- a/dom/tests/mochitest/bugs/test_bug370098.html
+++ b/dom/tests/mochitest/bugs/test_bug370098.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=370098
 -->
 <head>
   <title>Test for Bug 370098</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=370098">Mozilla Bug 370098</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug375457.html b/dom/tests/mochitest/bugs/test_bug375457.html
--- a/dom/tests/mochitest/bugs/test_bug375457.html
+++ b/dom/tests/mochitest/bugs/test_bug375457.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375457
 -->
 <head>
   <title>Test for Bug 375457</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=375457">Mozilla Bug 159849</a>
 <p id="display"></p>
 <div id="content" style="display: none">
     <canvas id="canvas" width="10" height="10"> </canvas>
diff --git a/dom/tests/mochitest/bugs/test_bug377539.html b/dom/tests/mochitest/bugs/test_bug377539.html
--- a/dom/tests/mochitest/bugs/test_bug377539.html
+++ b/dom/tests/mochitest/bugs/test_bug377539.html
@@ -2,17 +2,17 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=377539
 -->
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
     <title>Testcase for bug 377539</title>
 
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=377539">Mozilla Bug 377539</a>
 
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/dom/tests/mochitest/bugs/test_bug384122.html b/dom/tests/mochitest/bugs/test_bug384122.html
--- a/dom/tests/mochitest/bugs/test_bug384122.html
+++ b/dom/tests/mochitest/bugs/test_bug384122.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384122
 -->
 <head>
   <title>Test for Bug 384122</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384122">Mozilla Bug 384122</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug389366.html b/dom/tests/mochitest/bugs/test_bug389366.html
--- a/dom/tests/mochitest/bugs/test_bug389366.html
+++ b/dom/tests/mochitest/bugs/test_bug389366.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=389366
 -->
 <head>
   <title>Test for Bug 389366</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=389366">Mozilla Bug 389366</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <h4>Canvas testcase</h4>
diff --git a/dom/tests/mochitest/bugs/test_bug393974.html b/dom/tests/mochitest/bugs/test_bug393974.html
--- a/dom/tests/mochitest/bugs/test_bug393974.html
+++ b/dom/tests/mochitest/bugs/test_bug393974.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=393974
 -->
 <head>
   <title>Test for Bug 393974</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=393974">Mozilla Bug 393974</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug396843.html b/dom/tests/mochitest/bugs/test_bug396843.html
--- a/dom/tests/mochitest/bugs/test_bug396843.html
+++ b/dom/tests/mochitest/bugs/test_bug396843.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=396843
 -->
 <head>
   <title>Test for Bug 396843</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=396843">Mozilla Bug 396843</a>
 <p id="display">
   <iframe src="http://example.org:80/" id="t"></iframe>
 </p>
diff --git a/dom/tests/mochitest/bugs/test_bug397571.html b/dom/tests/mochitest/bugs/test_bug397571.html
--- a/dom/tests/mochitest/bugs/test_bug397571.html
+++ b/dom/tests/mochitest/bugs/test_bug397571.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=397571
 -->
 <head>
   <title>Test for Bug 397571</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank"
   href="https://bugzilla.mozilla.org/show_bug.cgi?id=397571">
   Mozilla Bug 397571</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/bugs/test_bug400204.html b/dom/tests/mochitest/bugs/test_bug400204.html
--- a/dom/tests/mochitest/bugs/test_bug400204.html
+++ b/dom/tests/mochitest/bugs/test_bug400204.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=400204
 -->
 <head>
   <title>Test for Bug 400204</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=400204">Mozilla Bug 400204</a>
 <p id="display"></p>
 <iframe id="content" src="about:blank" style="display: none"></iframe>
 <pre id="test">
diff --git a/dom/tests/mochitest/bugs/test_bug404748.html b/dom/tests/mochitest/bugs/test_bug404748.html
--- a/dom/tests/mochitest/bugs/test_bug404748.html
+++ b/dom/tests/mochitest/bugs/test_bug404748.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=404748
 -->
 <head>
   <title>Test for Bug 404748</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=404748">Mozilla Bug 404748</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug407839.html b/dom/tests/mochitest/bugs/test_bug407839.html
--- a/dom/tests/mochitest/bugs/test_bug407839.html
+++ b/dom/tests/mochitest/bugs/test_bug407839.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=407839
 -->
 <head>
   <title>Test for Bug 407839</title>
   <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=407839">Mozilla Bug 407839</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug409349.html b/dom/tests/mochitest/bugs/test_bug409349.html
--- a/dom/tests/mochitest/bugs/test_bug409349.html
+++ b/dom/tests/mochitest/bugs/test_bug409349.html
@@ -1,13 +1,13 @@
 <!DOCTYPE html>
 <html>
 <head>
   <title>Cannot get globalStorage objects for partial IP addresses</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/dom/tests/mochitest/bugs/test_bug411103.html b/dom/tests/mochitest/bugs/test_bug411103.html
--- a/dom/tests/mochitest/bugs/test_bug411103.html
+++ b/dom/tests/mochitest/bugs/test_bug411103.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=411103
 -->
 <head>
   <title>Test for Bug 411103</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=411103">Mozilla Bug 411103</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/bugs/test_bug414291.html b/dom/tests/mochitest/bugs/test_bug414291.html
--- a/dom/tests/mochitest/bugs/test_bug414291.html
+++ b/dom/tests/mochitest/bugs/test_bug414291.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=414291
 -->
 <head>
   <title>Test for Bug 414291</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=414291">Mozilla Bug 414291</a>
 <script class="testbody" type="text/javascript">
 
 /** Test for Bug 414291 **/
diff --git a/dom/tests/mochitest/bugs/test_bug424093.html b/dom/tests/mochitest/bugs/test_bug424093.html
--- a/dom/tests/mochitest/bugs/test_bug424093.html
+++ b/dom/tests/mochitest/bugs/test_bug424093.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=424093
 -->
 <head>
   <title>Test for Bug 424093</title>
   <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=424093">Mozilla Bug 424093</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug427744.html b/dom/tests/mochitest/bugs/test_bug427744.html
--- a/dom/tests/mochitest/bugs/test_bug427744.html
+++ b/dom/tests/mochitest/bugs/test_bug427744.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=427744
 -->
 <head>
   <title>Test for Bug 427744</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=427744">Mozilla Bug 427744</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug42976.html b/dom/tests/mochitest/bugs/test_bug42976.html
--- a/dom/tests/mochitest/bugs/test_bug42976.html
+++ b/dom/tests/mochitest/bugs/test_bug42976.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=42976
 -->
 <head>
   <title>Test for Bug 42976</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=42976">Mozilla Bug 42976</a>
 <p id="display"></p>
 <div id="content">
     <iframe id=specialtest src="data:text/html,<meta http-equiv='Content-Language' content='ja-JP'><base href='http://www.mozilla.org'><p>asdf"></iframe>;
diff --git a/dom/tests/mochitest/bugs/test_bug430276.html b/dom/tests/mochitest/bugs/test_bug430276.html
--- a/dom/tests/mochitest/bugs/test_bug430276.html
+++ b/dom/tests/mochitest/bugs/test_bug430276.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=430276
 -->
 <head>
   <title>Test for Bug 430276</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=430276">Mozilla Bug 430276</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug437361.html b/dom/tests/mochitest/bugs/test_bug437361.html
--- a/dom/tests/mochitest/bugs/test_bug437361.html
+++ b/dom/tests/mochitest/bugs/test_bug437361.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=437361
 -->
 <head>
   <title>Test for Bug 437361</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/mozprefs.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   
   <script class="testbody" type="text/javascript">
 
   /** Test for Bug 437361 **/
 
diff --git a/dom/tests/mochitest/bugs/test_bug440572.html b/dom/tests/mochitest/bugs/test_bug440572.html
--- a/dom/tests/mochitest/bugs/test_bug440572.html
+++ b/dom/tests/mochitest/bugs/test_bug440572.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=440572
 -->
 <head>
   <title>Test for Bug 440572</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="runtests()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=440572">Mozilla Bug 440572</a>
 
 <script class="testbody" type="text/javascript">
 
diff --git a/dom/tests/mochitest/bugs/test_bug458091.html b/dom/tests/mochitest/bugs/test_bug458091.html
--- a/dom/tests/mochitest/bugs/test_bug458091.html
+++ b/dom/tests/mochitest/bugs/test_bug458091.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=458091
 -->
 <head>
   <title>Test for Bug 458091</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=458091">Mozilla Bug 458091</a>
 
 <div id="content" style="display: none">
diff --git a/dom/tests/mochitest/bugs/test_bug459848.html b/dom/tests/mochitest/bugs/test_bug459848.html
--- a/dom/tests/mochitest/bugs/test_bug459848.html
+++ b/dom/tests/mochitest/bugs/test_bug459848.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=459848
 -->
 <head>
   <title>Test for Bug 459848</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=459848">Mozilla Bug 459848</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug463000.html b/dom/tests/mochitest/bugs/test_bug463000.html
--- a/dom/tests/mochitest/bugs/test_bug463000.html
+++ b/dom/tests/mochitest/bugs/test_bug463000.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=463000
 -->
 <head>
   <title>Test for Bug 463000</title>
   <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=463000">Mozilla Bug 463000</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/dom/tests/mochitest/bugs/test_bug465263.html b/dom/tests/mochitest/bugs/test_bug465263.html
--- a/dom/tests/mochitest/bugs/test_bug465263.html
+++ b/dom/tests/mochitest/bugs/test_bug465263.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=465263
 -->
 <head>
   <title>Test for Bug 465263</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=465263">Mozilla Bug 465263</a>
 <p id="display">
   <iframe src="http://localhost:8888/"></iframe>
   <iframe src="http://localhost:8888/"></iframe>
diff --git a/dom/tests/mochitest/bugs/test_bug479143.html b/dom/tests/mochitest/bugs/test_bug479143.html
--- a/dom/tests/mochitest/bugs/test_bug479143.html
+++ b/dom/tests/mochitest/bugs/test_bug479143.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=479143
 -->
 <head>
   <title>Test for Bug 411103</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=479143">Mozilla Bug 479143</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/bugs/test_bug49312.html b/dom/tests/mochitest/bugs/test_bug49312.html
--- a/dom/tests/mochitest/bugs/test_bug49312.html
+++ b/dom/tests/mochitest/bugs/test_bug49312.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=49312
 -->
 <head>
   <title>Test for Bug 49312</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script>
     // Hack to set things up so that parent.fakeOpener works the same way for
     // both test subframes.
     var framesToLoad = 2;
     function subframeLoaded(win) {
       is(win.location.href
diff --git a/dom/tests/mochitest/dom-level0/test_crossdomainprops.html b/dom/tests/mochitest/dom-level0/test_crossdomainprops.html
--- a/dom/tests/mochitest/dom-level0/test_crossdomainprops.html
+++ b/dom/tests/mochitest/dom-level0/test_crossdomainprops.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="runTest()">
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/dom/tests/mochitest/dom-level0/test_setting_document.domain_idn.html b/dom/tests/mochitest/dom-level0/test_setting_document.domain_idn.html
--- a/dom/tests/mochitest/dom-level0/test_setting_document.domain_idn.html
+++ b/dom/tests/mochitest/dom-level0/test_setting_document.domain_idn.html
@@ -1,14 +1,14 @@
 <!DOCTYPE html>
 <html>
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <title>Setting document.domain and IDN</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/dom/tests/mochitest/dom-level0/test_setting_document.domain_to_shortened_ipaddr.html b/dom/tests/mochitest/dom-level0/test_setting_document.domain_to_shortened_ipaddr.html
--- a/dom/tests/mochitest/dom-level0/test_setting_document.domain_to_shortened_ipaddr.html
+++ b/dom/tests/mochitest/dom-level0/test_setting_document.domain_to_shortened_ipaddr.html
@@ -1,13 +1,13 @@
 <!DOCTYPE html>
 <html>
 <head>
   <title>document.domain can't be meaningfully set on pages at IP address hosts</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/dom/tests/mochitest/general/test_domWindowUtils.html b/dom/tests/mochitest/general/test_domWindowUtils.html
--- a/dom/tests/mochitest/general/test_domWindowUtils.html
+++ b/dom/tests/mochitest/general/test_domWindowUtils.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>nsIDOMWindowUtils::elementFromPoint test</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
   <style>
     html, body, div {
       padding: 0;
       margin: 0;
     }
     
diff --git a/dom/tests/mochitest/general/test_domWindowUtils_scrollXY.html b/dom/tests/mochitest/general/test_domWindowUtils_scrollXY.html
--- a/dom/tests/mochitest/general/test_domWindowUtils_scrollXY.html
+++ b/dom/tests/mochitest/general/test_domWindowUtils_scrollXY.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>nsIDOMWindowUtils::elementFromPoint test</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
   <style>
     body {
       /* Make room for scrolling */
     }
   </style>
 </head>
diff --git a/dom/tests/mochitest/general/test_offsets.html b/dom/tests/mochitest/general/test_offsets.html
--- a/dom/tests/mochitest/general/test_offsets.html
+++ b/dom/tests/mochitest/general/test_offsets.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html style="margin: 5px; border: 0; padding: 1px;">
 <head>
   <title>HTML Tests for offset/client/scroll properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="test_offsets.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 
 </head>
 <body id="body" onload="setTimeout(testElements, 0, 'testelements', SimpleTest.finish);"
       style="margin: 1px; border: 2px solid black; padding: 4px;">
 
diff --git a/dom/tests/mochitest/geolocation/test_allowCurrent.html b/dom/tests/mochitest/geolocation/test_allowCurrent.html
--- a/dom/tests/mochitest/geolocation/test_allowCurrent.html
+++ b/dom/tests/mochitest/geolocation/test_allowCurrent.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for getCurrentPosition </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/geolocation/test_allowWatch.html b/dom/tests/mochitest/geolocation/test_allowWatch.html
--- a/dom/tests/mochitest/geolocation/test_allowWatch.html
+++ b/dom/tests/mochitest/geolocation/test_allowWatch.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for watchPosition </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/geolocation/test_cancelCurrent.html b/dom/tests/mochitest/geolocation/test_cancelCurrent.html
--- a/dom/tests/mochitest/geolocation/test_cancelCurrent.html
+++ b/dom/tests/mochitest/geolocation/test_cancelCurrent.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for getCurrentPosition </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/geolocation/test_cancelWatch.html b/dom/tests/mochitest/geolocation/test_cancelWatch.html
--- a/dom/tests/mochitest/geolocation/test_cancelWatch.html
+++ b/dom/tests/mochitest/geolocation/test_cancelWatch.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for watchPosition </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/geolocation/test_clearWatch.html b/dom/tests/mochitest/geolocation/test_clearWatch.html
--- a/dom/tests/mochitest/geolocation/test_clearWatch.html
+++ b/dom/tests/mochitest/geolocation/test_clearWatch.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for watchPosition and clearWatch</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/geolocation/test_clearWatch_invalid.html b/dom/tests/mochitest/geolocation/test_clearWatch_invalid.html
--- a/dom/tests/mochitest/geolocation/test_clearWatch_invalid.html
+++ b/dom/tests/mochitest/geolocation/test_clearWatch_invalid.html
@@ -1,16 +1,16 @@
  <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=463039
 -->
 <head>
   <title>Test for Bug 463039</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=463039">Mozilla Bug 463039</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/dom/tests/mochitest/geolocation/test_manyWindows.html b/dom/tests/mochitest/geolocation/test_manyWindows.html
--- a/dom/tests/mochitest/geolocation/test_manyWindows.html
+++ b/dom/tests/mochitest/geolocation/test_manyWindows.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478911
 -->
 <head>
   <title>Test for many windows </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank"
 href="https://bugzilla.mozilla.org/show_bug.cgi?id=478911">Crash in Multiple Windows</a>
diff --git a/dom/tests/mochitest/geolocation/test_optional_api_params.html b/dom/tests/mochitest/geolocation/test_optional_api_params.html
--- a/dom/tests/mochitest/geolocation/test_optional_api_params.html
+++ b/dom/tests/mochitest/geolocation/test_optional_api_params.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=452566
 -->
 <head>
   <title>Test for Bug 452566</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=452566">Mozilla Bug 452566</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/dom/tests/mochitest/geolocation/test_timeoutWatch.html b/dom/tests/mochitest/geolocation/test_timeoutWatch.html
--- a/dom/tests/mochitest/geolocation/test_timeoutWatch.html
+++ b/dom/tests/mochitest/geolocation/test_timeoutWatch.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=455327
 -->
 <head>
   <title>Test for timeout option </title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="geolocation_common.js"></script>
 
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=455327">Mozilla Bug 478911</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/whatwg/test_MessageEvent.html b/dom/tests/mochitest/whatwg/test_MessageEvent.html
--- a/dom/tests/mochitest/whatwg/test_MessageEvent.html
+++ b/dom/tests/mochitest/whatwg/test_MessageEvent.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>MessageEvent tests</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/dom/tests/mochitest/whatwg/test_MessageEvent_dispatchToOther.html b/dom/tests/mochitest/whatwg/test_MessageEvent_dispatchToOther.html
--- a/dom/tests/mochitest/whatwg/test_MessageEvent_dispatchToOther.html
+++ b/dom/tests/mochitest/whatwg/test_MessageEvent_dispatchToOther.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>Dispatching MessageEvent across origins</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/whatwg/test_postMessage.html b/dom/tests/mochitest/whatwg/test_postMessage.html
--- a/dom/tests/mochitest/whatwg/test_postMessage.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>Basic postMessage tests</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_basehref.html b/dom/tests/mochitest/whatwg/test_postMessage_basehref.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_basehref.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_basehref.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=414815
 -->
 <head>
   <title>postMessage's interaction with a &lt;base&gt; tag</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <base href="http://example.com/" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=414815">Mozilla Bug 414815</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_closed.html b/dom/tests/mochitest/whatwg/test_postMessage_closed.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_closed.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_closed.html
@@ -1,13 +1,13 @@
 <!DOCTYPE html>
 <html>
 <head>
   <title>postMessage's interaction with closed windows</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=417075">Bug 417075</a></p>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_hash.html b/dom/tests/mochitest/whatwg/test_postMessage_hash.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_hash.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_hash.html
@@ -1,13 +1,13 @@
 <!DOCTYPE html>
 <html>
 <head>
   <title>postMessage's interaction with hash URIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <base href="http://example.com/" />
 </head>
 <body>
 <p>(no bug; this is a preemptive test)</p>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_jar.html b/dom/tests/mochitest/whatwg/test_postMessage_jar.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_jar.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_jar.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=430251
 -->
 <head>
   <title>postMessage's interaction with pages at jar: URIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <base href="http://example.com/" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=430251">Mozilla Bug 430251</a>
 <p id="display"></p>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_joined.html b/dom/tests/mochitest/whatwg/test_postMessage_joined.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_joined.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_joined.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>postMessage with document.domain setting to join origins</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="browserFu.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_onOther.html b/dom/tests/mochitest/whatwg/test_postMessage_onOther.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_onOther.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_onOther.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>postMessage called through a different same-origin page</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_override.html b/dom/tests/mochitest/whatwg/test_postMessage_override.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_override.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_override.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>postMessage override test</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_throw.html b/dom/tests/mochitest/whatwg/test_postMessage_throw.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_throw.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_throw.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage
 -->
 <head>
   <title>postMessage with a thrown exception</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=postMessage">Mozilla Bug 387706</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/dom/tests/mochitest/whatwg/test_postMessage_userpass.html b/dom/tests/mochitest/whatwg/test_postMessage_userpass.html
--- a/dom/tests/mochitest/whatwg/test_postMessage_userpass.html
+++ b/dom/tests/mochitest/whatwg/test_postMessage_userpass.html
@@ -1,16 +1,16 @@
 <!DOCTYPE html>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=417075
 -->
 <head>
   <title>postMessage from a page with username/password in its URI</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=417075">Mozilla Bug 417075</a>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 
diff --git a/editor/composer/test/test_bug348497.html b/editor/composer/test/test_bug348497.html
--- a/editor/composer/test/test_bug348497.html
+++ b/editor/composer/test/test_bug348497.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=348497
 -->
 <head>
   <title>Test for Bug 348497</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=348497">Mozilla Bug 348497</a>
 <p id="display"></p>
 <div id="content">
   This page should not crash Mozilla<br>
diff --git a/editor/composer/test/test_bug384147.html b/editor/composer/test/test_bug384147.html
--- a/editor/composer/test/test_bug384147.html
+++ b/editor/composer/test/test_bug384147.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384147
 -->
 <head>
   <title>Test for Bug 384147</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384147">Mozilla Bug 384147</a>
 <p id="display"></p>
 <div id="content" style="display: block">
diff --git a/editor/composer/test/test_bug389350.html b/editor/composer/test/test_bug389350.html
--- a/editor/composer/test/test_bug389350.html
+++ b/editor/composer/test/test_bug389350.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=389350
 -->
 <head>
 <title>Test for Bug 389350</title>
-<script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+<script type="text/javascript" src="/MochiKit/packed.js"></script>
 <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
 <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
 <script type="text/javascript">
 
 function runTest() {
   var e = document.getElementById("edit");
diff --git a/editor/libeditor/html/tests/test_bug366682.html b/editor/libeditor/html/tests/test_bug366682.html
--- a/editor/libeditor/html/tests/test_bug366682.html
+++ b/editor/libeditor/html/tests/test_bug366682.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=366682
 -->
 <head>
   <title>Test for Bug 366682</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>  
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=366682">Mozilla Bug 366682</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/editor/libeditor/html/tests/test_bug432225.html b/editor/libeditor/html/tests/test_bug432225.html
--- a/editor/libeditor/html/tests/test_bug432225.html
+++ b/editor/libeditor/html/tests/test_bug432225.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=432225
 -->
 <head>
   <title>Test for Bug 432225</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>  
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=432225">Mozilla Bug 432225</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/editor/libeditor/text/tests/test_bug471722.html b/editor/libeditor/text/tests/test_bug471722.html
--- a/editor/libeditor/text/tests/test_bug471722.html
+++ b/editor/libeditor/text/tests/test_bug471722.html
@@ -37,17 +37,17 @@
    - ***** END LICENSE BLOCK ***** -->
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=471722
 -->
 
 <head>
   <title>Test for Bug 471722</head>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>  
 </head>
 
 <body onload="doTest();">
   <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=471722">Mozilla Bug 471722</a>
   <p id="display"></p>
diff --git a/embedding/test/test_bug293834.html b/embedding/test/test_bug293834.html
--- a/embedding/test/test_bug293834.html
+++ b/embedding/test/test_bug293834.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=293834
 -->
 <head>
   <title>Test for Bug 293834</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=293834">Mozilla Bug 293834</a>
 <p id="display">
 
 </p>
diff --git a/embedding/test/test_nsFind.html b/embedding/test/test_nsFind.html
--- a/embedding/test/test_nsFind.html
+++ b/embedding/test/test_nsFind.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=450048
 -->
 <head>
   <title>Test for nsFind::Find()</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450048">Mozilla Bug 450048</a>
 <p id="display">This is the text to search i<b>n&shy;t</b>o</p>
 <div id="content" style="display: none">
   
diff --git a/extensions/cookie/test/test_differentdomain.html b/extensions/cookie/test/test_differentdomain.html
--- a/extensions/cookie/test/test_differentdomain.html
+++ b/extensions/cookie/test/test_differentdomain.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://example.com/tests/extensions/cookie/test/file_domain_inner.html', 3, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_image.html b/extensions/cookie/test/test_image.html
--- a/extensions/cookie/test/test_image.html
+++ b/extensions/cookie/test/test_image.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://example.org/tests/extensions/cookie/test/file_image_inner.html', 7, 3)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js"></script>
 </pre>
diff --git a/extensions/cookie/test/test_same_base_domain.html b/extensions/cookie/test/test_same_base_domain.html
--- a/extensions/cookie/test/test_same_base_domain.html
+++ b/extensions/cookie/test/test_same_base_domain.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://test1.example.org/tests/extensions/cookie/test/file_domain_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_same_base_domain_2.html b/extensions/cookie/test/test_same_base_domain_2.html
--- a/extensions/cookie/test/test_same_base_domain_2.html
+++ b/extensions/cookie/test/test_same_base_domain_2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://test1.example.org/tests/extensions/cookie/test/file_subdomain_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_same_base_domain_3.html b/extensions/cookie/test/test_same_base_domain_3.html
--- a/extensions/cookie/test/test_same_base_domain_3.html
+++ b/extensions/cookie/test/test_same_base_domain_3.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://example.org/tests/extensions/cookie/test/file_subdomain_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_same_base_domain_4.html b/extensions/cookie/test/test_same_base_domain_4.html
--- a/extensions/cookie/test/test_same_base_domain_4.html
+++ b/extensions/cookie/test/test_same_base_domain_4.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://localhost:8888/tests/extensions/cookie/test/file_localhost_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_same_base_domain_5.html b/extensions/cookie/test/test_same_base_domain_5.html
--- a/extensions/cookie/test/test_same_base_domain_5.html
+++ b/extensions/cookie/test/test_same_base_domain_5.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://sub1.test1.example.org/tests/extensions/cookie/test/file_subdomain_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_same_base_domain_6.html b/extensions/cookie/test/test_same_base_domain_6.html
--- a/extensions/cookie/test/test_same_base_domain_6.html
+++ b/extensions/cookie/test/test_same_base_domain_6.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://127.0.0.1:8888/tests/extensions/cookie/test/file_loopback_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/cookie/test/test_samedomain.html b/extensions/cookie/test/test_samedomain.html
--- a/extensions/cookie/test/test_samedomain.html
+++ b/extensions/cookie/test/test_samedomain.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Cross domain access to properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="setupTest('http://example.org/tests/extensions/cookie/test/file_domain_inner.html', 5, 2)">
 <p id="display"></p>
 <pre id="test">
 <script class="testbody" type="text/javascript" src="file_testcommon.js">
 </script>
diff --git a/extensions/universalchardet/tests/test_bug171813.html b/extensions/universalchardet/tests/test_bug171813.html
--- a/extensions/universalchardet/tests/test_bug171813.html
+++ b/extensions/universalchardet/tests/test_bug171813.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=171813
 -->
 <head>
   <title>Test for Bug 171813</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=171813">Mozilla Bug 171813</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug306272.html b/extensions/universalchardet/tests/test_bug306272.html
--- a/extensions/universalchardet/tests/test_bug306272.html
+++ b/extensions/universalchardet/tests/test_bug306272.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=306272
 -->
 <head>
   <title>Test for Bug 306272</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=306272">Mozilla Bug 306272</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug421271.html b/extensions/universalchardet/tests/test_bug421271.html
--- a/extensions/universalchardet/tests/test_bug421271.html
+++ b/extensions/universalchardet/tests/test_bug421271.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=421271
 -->
 <head>
   <title>Test for Bug 421271</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=421271">Mozilla Bug 421271</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug426271-euc-jp.html b/extensions/universalchardet/tests/test_bug426271-euc-jp.html
--- a/extensions/universalchardet/tests/test_bug426271-euc-jp.html
+++ b/extensions/universalchardet/tests/test_bug426271-euc-jp.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=426271
 -->
 <head>
   <title>Test for Bug 426271</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426271">Mozilla Bug 426271</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug426271-utf-8.html b/extensions/universalchardet/tests/test_bug426271-utf-8.html
--- a/extensions/universalchardet/tests/test_bug426271-utf-8.html
+++ b/extensions/universalchardet/tests/test_bug426271-utf-8.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=426271
 -->
 <head>
   <title>Test for Bug 426271</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426271">Mozilla Bug 426271</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug431054-japanese.html b/extensions/universalchardet/tests/test_bug431054-japanese.html
--- a/extensions/universalchardet/tests/test_bug431054-japanese.html
+++ b/extensions/universalchardet/tests/test_bug431054-japanese.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=431054
 -->
 <head>
   <title>Test for Bug 431054</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426271">Mozilla Bug 431054</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug431054.html b/extensions/universalchardet/tests/test_bug431054.html
--- a/extensions/universalchardet/tests/test_bug431054.html
+++ b/extensions/universalchardet/tests/test_bug431054.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=431054
 -->
 <head>
   <title>Test for Bug 431054</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=426271">Mozilla Bug 431054</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/extensions/universalchardet/tests/test_bug9357.html b/extensions/universalchardet/tests/test_bug9357.html
--- a/extensions/universalchardet/tests/test_bug9357.html
+++ b/extensions/universalchardet/tests/test_bug9357.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=9357
 -->
 <head>
   <title>Test for Bug 9357</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="CharsetDetectionTests.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=9357">Mozilla Bug 9357</a>
 <p id="display"></p>
 <div id="content" style="display: none">  
diff --git a/intl/uconv/tests/test_bug335816.html b/intl/uconv/tests/test_bug335816.html
--- a/intl/uconv/tests/test_bug335816.html
+++ b/intl/uconv/tests/test_bug335816.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=335816
 -->
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
   <title>Test for Bug 335816</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="test()">
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 /** Test for Bug 335816 **/
diff --git a/intl/uconv/tests/test_unicode_noncharacterescapes.html b/intl/uconv/tests/test_unicode_noncharacterescapes.html
--- a/intl/uconv/tests/test_unicode_noncharacterescapes.html
+++ b/intl/uconv/tests/test_unicode_noncharacterescapes.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445886
 -->
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
   <title>Test for Unicode non-characters</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="Inject()">
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 /** Test that unicode non-characters are not discarded **/
diff --git a/intl/uconv/tests/test_unicode_noncharacters_gb18030.html b/intl/uconv/tests/test_unicode_noncharacters_gb18030.html
--- a/intl/uconv/tests/test_unicode_noncharacters_gb18030.html
+++ b/intl/uconv/tests/test_unicode_noncharacters_gb18030.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445886
 -->
   <meta http-equiv="Content-type" content="text/html; charset=gb18030">
   <title>Test for Unicode non-characters</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css"
  href="/tests/SimpleTest/test.css">
 </head>
 <body onload="Inject()">
 <pre id="test"><script class="testbody" type="text/javascript">
 
 /** Test that unicode non-characters are not discarded **/
diff --git a/intl/uconv/tests/test_unicode_noncharacters_utf8.html b/intl/uconv/tests/test_unicode_noncharacters_utf8.html
--- a/intl/uconv/tests/test_unicode_noncharacters_utf8.html
+++ b/intl/uconv/tests/test_unicode_noncharacters_utf8.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445886
 -->
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
   <title>Test for Unicode non-characters</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="Inject()">
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
 /** Test that unicode non-characters are not discarded **/
diff --git a/intl/uconv/tests/test_utf8_overconsumption.html b/intl/uconv/tests/test_utf8_overconsumption.html
--- a/intl/uconv/tests/test_utf8_overconsumption.html
+++ b/intl/uconv/tests/test_utf8_overconsumption.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445886
 -->
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
   <title>Test for Unicode non-characters</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="text/javascript">
 function Inject()
 {
   $("display").innerHTML = "Evil";
 }
   </script>
diff --git a/js/src/xpconnect/tests/mochitest/test_bug390488.html b/js/src/xpconnect/tests/mochitest/test_bug390488.html
--- a/js/src/xpconnect/tests/mochitest/test_bug390488.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug390488.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=390488
 -->
 <head>
   <title>Test for Bug 390488</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=390488">Mozilla Bug 390488</a>
 <p id="display">
   <div id="testdiv" onclick="checkForStacks();" style="visibility:hidden">
   </div>
diff --git a/js/src/xpconnect/tests/mochitest/test_bug393269.html b/js/src/xpconnect/tests/mochitest/test_bug393269.html
--- a/js/src/xpconnect/tests/mochitest/test_bug393269.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug393269.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=393269
 -->
 <head>
   <title>Test for Bug 393269</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=393269">Mozilla Bug 393269</a>
 <iframe id="ifr"></iframe>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/js/src/xpconnect/tests/mochitest/test_bug396851.html b/js/src/xpconnect/tests/mochitest/test_bug396851.html
--- a/js/src/xpconnect/tests/mochitest/test_bug396851.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug396851.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=396851
 -->
 <head>
   <title>Test for Bug 396851</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 
   <script type="text/javascript">
   function go() {
     var iframe = $("ifr");
     var win = iframe.contentWindow;
     try {
diff --git a/js/src/xpconnect/tests/mochitest/test_bug428021.html b/js/src/xpconnect/tests/mochitest/test_bug428021.html
--- a/js/src/xpconnect/tests/mochitest/test_bug428021.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug428021.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=428021
 -->
 <head>
   <title>Test for Bug 428021</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=428021">Mozilla Bug 428021</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/js/src/xpconnect/tests/mochitest/test_bug446584.html b/js/src/xpconnect/tests/mochitest/test_bug446584.html
--- a/js/src/xpconnect/tests/mochitest/test_bug446584.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug446584.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=446584
 -->
 <head>
   <title>Test for Bug 446584</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=446584">Mozilla Bug 446584</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/js/src/xpconnect/tests/mochitest/test_bug448587.html b/js/src/xpconnect/tests/mochitest/test_bug448587.html
--- a/js/src/xpconnect/tests/mochitest/test_bug448587.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug448587.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448587
 -->
 <head>
   <title>Test for Bug 448587</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=448587">Mozilla Bug 448587</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/js/src/xpconnect/tests/mochitest/test_bug462428.html b/js/src/xpconnect/tests/mochitest/test_bug462428.html
--- a/js/src/xpconnect/tests/mochitest/test_bug462428.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug462428.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=462428
 -->
 <head>
   <title>Test for Bug 462428</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=462428">Mozilla Bug 462428</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/js/src/xpconnect/tests/mochitest/test_bug478438.html b/js/src/xpconnect/tests/mochitest/test_bug478438.html
--- a/js/src/xpconnect/tests/mochitest/test_bug478438.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug478438.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478438
 -->
 <head>
   <title>Test for Bug 478438</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <script type="application/javascript;version=1.8">
     function fail(s, e) { ok(false, s + e) }
     function pass(s, e) { ok(true, s) }
     (pass.opposite = fail).opposite = pass;
 
     function test() {
diff --git a/js/src/xpconnect/tests/mochitest/test_bug484107.html b/js/src/xpconnect/tests/mochitest/test_bug484107.html
--- a/js/src/xpconnect/tests/mochitest/test_bug484107.html
+++ b/js/src/xpconnect/tests/mochitest/test_bug484107.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=484107
 -->
 <head>
   <title>Test for Bug 484107</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=484107">Mozilla Bug 484107</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/base/tests/test_bug114649.html b/layout/base/tests/test_bug114649.html
--- a/layout/base/tests/test_bug114649.html
+++ b/layout/base/tests/test_bug114649.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=114649
 -->
 <head>
   <title>Test for Bug 114649</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=114649">Mozilla Bug 114649</a>
 <iframe id="display" style="width: 500px; height: 500px;"></iframe>
 <pre id="test">
 <script type="application/javascript">
diff --git a/layout/base/tests/test_bug332655-1.html b/layout/base/tests/test_bug332655-1.html
--- a/layout/base/tests/test_bug332655-1.html
+++ b/layout/base/tests/test_bug332655-1.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=332655
 -->
 <head>
   <title>Test for Bug 332655</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="test()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=332655">Mozilla Bug 332655</a>
 <p id="display"></p>
diff --git a/layout/base/tests/test_bug332655-2.html b/layout/base/tests/test_bug332655-2.html
--- a/layout/base/tests/test_bug332655-2.html
+++ b/layout/base/tests/test_bug332655-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=332655
 -->
 <head>
   <title>Test for Bug 332655</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="test()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=332655">Mozilla Bug 332655</a>
 <p id="display"></p>
diff --git a/layout/base/tests/test_bug388019.html b/layout/base/tests/test_bug388019.html
--- a/layout/base/tests/test_bug388019.html
+++ b/layout/base/tests/test_bug388019.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=388019
 -->
 <head>
   <title>Test for Bug 388019</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=388019">Mozilla Bug 388019</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/base/tests/test_bug394057.html b/layout/base/tests/test_bug394057.html
--- a/layout/base/tests/test_bug394057.html
+++ b/layout/base/tests/test_bug394057.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html lang="en">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=394057
 -->
 <head>
   <title>Test for Bug 394057</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   #display { background: yellow; color: black; font-family: serif; }
 
   </style>
 </head>
diff --git a/layout/base/tests/test_bug396024.html b/layout/base/tests/test_bug396024.html
--- a/layout/base/tests/test_bug396024.html
+++ b/layout/base/tests/test_bug396024.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=396024
 -->
 <head>
   <title>Test for Bug 396024</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=396024">Mozilla Bug 396024</a>
 
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/layout/base/tests/test_bug399284.html b/layout/base/tests/test_bug399284.html
--- a/layout/base/tests/test_bug399284.html
+++ b/layout/base/tests/test_bug399284.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=399284
 -->
 <head>
   <title>Test for Bug 399284</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=399284">Mozilla Bug 399284</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/layout/base/tests/test_bug399951.html b/layout/base/tests/test_bug399951.html
--- a/layout/base/tests/test_bug399951.html
+++ b/layout/base/tests/test_bug399951.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=399951
 -->
 <head>
   <title>Test for Bug 399951</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body style="direction: rtl" onload="document.body.style.direction = 'ltr';">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=399951">Mozilla Bug 399951</a>
 <div style="white-space: pre;">
 .i
   h
diff --git a/layout/base/tests/test_bug416896.html b/layout/base/tests/test_bug416896.html
--- a/layout/base/tests/test_bug416896.html
+++ b/layout/base/tests/test_bug416896.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=416896
 -->
 <head>
   <title>Test for Bug 416896</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <link rel="stylesheet" type="text/css" id="l"
         href="data:text/css,a { color: green }"/>
   <style type="text/css" id="i"> a { color: blue; } </style>
    
 </head>
 <body>
diff --git a/layout/base/tests/test_bug423523.html b/layout/base/tests/test_bug423523.html
--- a/layout/base/tests/test_bug423523.html
+++ b/layout/base/tests/test_bug423523.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=423523
 -->
 <head>
   <title>Test for Bug 423523</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
 </head>
 <body onload="setTimeout(runtests, 200)">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=423523">Mozilla Bug 423523</a>
 <p id="display"></p>
 
diff --git a/layout/base/tests/test_bug435293-interaction.html b/layout/base/tests/test_bug435293-interaction.html
--- a/layout/base/tests/test_bug435293-interaction.html
+++ b/layout/base/tests/test_bug435293-interaction.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=435293
 -->
 <head>
   <title>Test for Bug 435293</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <style>
     #test1 {
       background: green;
       height: 100px;
diff --git a/layout/base/tests/test_bug435293-scale.html b/layout/base/tests/test_bug435293-scale.html
--- a/layout/base/tests/test_bug435293-scale.html
+++ b/layout/base/tests/test_bug435293-scale.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=435293
 -->
 <head>
   <title>Test for Bug 435293</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <style>
     .test {
       background: green;
       height: 100px;
       width: 100px;
diff --git a/layout/base/tests/test_bug435293-skew.html b/layout/base/tests/test_bug435293-skew.html
--- a/layout/base/tests/test_bug435293-skew.html
+++ b/layout/base/tests/test_bug435293-skew.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=435293
 -->
 <head>
   <title>Test for Bug 435293</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <style>
     .test {
       background: green;
       height: 100px;
       width: 100px;
diff --git a/layout/base/tests/test_bug441782-1a.html b/layout/base/tests/test_bug441782-1a.html
--- a/layout/base/tests/test_bug441782-1a.html
+++ b/layout/base/tests/test_bug441782-1a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-1b.html b/layout/base/tests/test_bug441782-1b.html
--- a/layout/base/tests/test_bug441782-1b.html
+++ b/layout/base/tests/test_bug441782-1b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-1c.html b/layout/base/tests/test_bug441782-1c.html
--- a/layout/base/tests/test_bug441782-1c.html
+++ b/layout/base/tests/test_bug441782-1c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-1d.html b/layout/base/tests/test_bug441782-1d.html
--- a/layout/base/tests/test_bug441782-1d.html
+++ b/layout/base/tests/test_bug441782-1d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-1e.html b/layout/base/tests/test_bug441782-1e.html
--- a/layout/base/tests/test_bug441782-1e.html
+++ b/layout/base/tests/test_bug441782-1e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-2a.html b/layout/base/tests/test_bug441782-2a.html
--- a/layout/base/tests/test_bug441782-2a.html
+++ b/layout/base/tests/test_bug441782-2a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-2b.html b/layout/base/tests/test_bug441782-2b.html
--- a/layout/base/tests/test_bug441782-2b.html
+++ b/layout/base/tests/test_bug441782-2b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-2c.html b/layout/base/tests/test_bug441782-2c.html
--- a/layout/base/tests/test_bug441782-2c.html
+++ b/layout/base/tests/test_bug441782-2c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-2d.html b/layout/base/tests/test_bug441782-2d.html
--- a/layout/base/tests/test_bug441782-2d.html
+++ b/layout/base/tests/test_bug441782-2d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-2e.html b/layout/base/tests/test_bug441782-2e.html
--- a/layout/base/tests/test_bug441782-2e.html
+++ b/layout/base/tests/test_bug441782-2e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-3a.html b/layout/base/tests/test_bug441782-3a.html
--- a/layout/base/tests/test_bug441782-3a.html
+++ b/layout/base/tests/test_bug441782-3a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-3b.html b/layout/base/tests/test_bug441782-3b.html
--- a/layout/base/tests/test_bug441782-3b.html
+++ b/layout/base/tests/test_bug441782-3b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-3c.html b/layout/base/tests/test_bug441782-3c.html
--- a/layout/base/tests/test_bug441782-3c.html
+++ b/layout/base/tests/test_bug441782-3c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-3d.html b/layout/base/tests/test_bug441782-3d.html
--- a/layout/base/tests/test_bug441782-3d.html
+++ b/layout/base/tests/test_bug441782-3d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-3e.html b/layout/base/tests/test_bug441782-3e.html
--- a/layout/base/tests/test_bug441782-3e.html
+++ b/layout/base/tests/test_bug441782-3e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-4a.html b/layout/base/tests/test_bug441782-4a.html
--- a/layout/base/tests/test_bug441782-4a.html
+++ b/layout/base/tests/test_bug441782-4a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-4b.html b/layout/base/tests/test_bug441782-4b.html
--- a/layout/base/tests/test_bug441782-4b.html
+++ b/layout/base/tests/test_bug441782-4b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-4c.html b/layout/base/tests/test_bug441782-4c.html
--- a/layout/base/tests/test_bug441782-4c.html
+++ b/layout/base/tests/test_bug441782-4c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-4d.html b/layout/base/tests/test_bug441782-4d.html
--- a/layout/base/tests/test_bug441782-4d.html
+++ b/layout/base/tests/test_bug441782-4d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-4e.html b/layout/base/tests/test_bug441782-4e.html
--- a/layout/base/tests/test_bug441782-4e.html
+++ b/layout/base/tests/test_bug441782-4e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-5a.html b/layout/base/tests/test_bug441782-5a.html
--- a/layout/base/tests/test_bug441782-5a.html
+++ b/layout/base/tests/test_bug441782-5a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-5b.html b/layout/base/tests/test_bug441782-5b.html
--- a/layout/base/tests/test_bug441782-5b.html
+++ b/layout/base/tests/test_bug441782-5b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-5c.html b/layout/base/tests/test_bug441782-5c.html
--- a/layout/base/tests/test_bug441782-5c.html
+++ b/layout/base/tests/test_bug441782-5c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-5d.html b/layout/base/tests/test_bug441782-5d.html
--- a/layout/base/tests/test_bug441782-5d.html
+++ b/layout/base/tests/test_bug441782-5d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug441782-5e.html b/layout/base/tests/test_bug441782-5e.html
--- a/layout/base/tests/test_bug441782-5e.html
+++ b/layout/base/tests/test_bug441782-5e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=441782
 -->
 <head>
   <title>Test for Bug 441782</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=441782">Mozilla Bug 441782</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug445810.html b/layout/base/tests/test_bug445810.html
--- a/layout/base/tests/test_bug445810.html
+++ b/layout/base/tests/test_bug445810.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=445810
 -->
 <head>
   <title>Test for Bug 445810</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=445810">Mozilla Bug 445810</a>
 <div><p id="display"></p></div>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/layout/base/tests/test_bug449781.html b/layout/base/tests/test_bug449781.html
--- a/layout/base/tests/test_bug449781.html
+++ b/layout/base/tests/test_bug449781.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=449781
 -->
 <head>
   <title>Test for Bug 449781</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=449781">Mozilla Bug 449781</a>
 <p id="display">Canary</p>
 <iframe src="about:blank" id="ourFrame" style="visibility: hidden">
diff --git a/layout/base/tests/test_bug458898.html b/layout/base/tests/test_bug458898.html
--- a/layout/base/tests/test_bug458898.html
+++ b/layout/base/tests/test_bug458898.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=458898
 -->
 <head>
   <title>Test for Bug 458898</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=458898">Mozilla Bug 458898</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/layout/base/tests/test_bug467672-1a.html b/layout/base/tests/test_bug467672-1a.html
--- a/layout/base/tests/test_bug467672-1a.html
+++ b/layout/base/tests/test_bug467672-1a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1b.html b/layout/base/tests/test_bug467672-1b.html
--- a/layout/base/tests/test_bug467672-1b.html
+++ b/layout/base/tests/test_bug467672-1b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1c.html b/layout/base/tests/test_bug467672-1c.html
--- a/layout/base/tests/test_bug467672-1c.html
+++ b/layout/base/tests/test_bug467672-1c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1d.html b/layout/base/tests/test_bug467672-1d.html
--- a/layout/base/tests/test_bug467672-1d.html
+++ b/layout/base/tests/test_bug467672-1d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1e.html b/layout/base/tests/test_bug467672-1e.html
--- a/layout/base/tests/test_bug467672-1e.html
+++ b/layout/base/tests/test_bug467672-1e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1f.html b/layout/base/tests/test_bug467672-1f.html
--- a/layout/base/tests/test_bug467672-1f.html
+++ b/layout/base/tests/test_bug467672-1f.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-1g.html b/layout/base/tests/test_bug467672-1g.html
--- a/layout/base/tests/test_bug467672-1g.html
+++ b/layout/base/tests/test_bug467672-1g.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2a.html b/layout/base/tests/test_bug467672-2a.html
--- a/layout/base/tests/test_bug467672-2a.html
+++ b/layout/base/tests/test_bug467672-2a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2b.html b/layout/base/tests/test_bug467672-2b.html
--- a/layout/base/tests/test_bug467672-2b.html
+++ b/layout/base/tests/test_bug467672-2b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2c.html b/layout/base/tests/test_bug467672-2c.html
--- a/layout/base/tests/test_bug467672-2c.html
+++ b/layout/base/tests/test_bug467672-2c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2d.html b/layout/base/tests/test_bug467672-2d.html
--- a/layout/base/tests/test_bug467672-2d.html
+++ b/layout/base/tests/test_bug467672-2d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2e.html b/layout/base/tests/test_bug467672-2e.html
--- a/layout/base/tests/test_bug467672-2e.html
+++ b/layout/base/tests/test_bug467672-2e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2f.html b/layout/base/tests/test_bug467672-2f.html
--- a/layout/base/tests/test_bug467672-2f.html
+++ b/layout/base/tests/test_bug467672-2f.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-2g.html b/layout/base/tests/test_bug467672-2g.html
--- a/layout/base/tests/test_bug467672-2g.html
+++ b/layout/base/tests/test_bug467672-2g.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3a.html b/layout/base/tests/test_bug467672-3a.html
--- a/layout/base/tests/test_bug467672-3a.html
+++ b/layout/base/tests/test_bug467672-3a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3b.html b/layout/base/tests/test_bug467672-3b.html
--- a/layout/base/tests/test_bug467672-3b.html
+++ b/layout/base/tests/test_bug467672-3b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3c.html b/layout/base/tests/test_bug467672-3c.html
--- a/layout/base/tests/test_bug467672-3c.html
+++ b/layout/base/tests/test_bug467672-3c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3d.html b/layout/base/tests/test_bug467672-3d.html
--- a/layout/base/tests/test_bug467672-3d.html
+++ b/layout/base/tests/test_bug467672-3d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3e.html b/layout/base/tests/test_bug467672-3e.html
--- a/layout/base/tests/test_bug467672-3e.html
+++ b/layout/base/tests/test_bug467672-3e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3f.html b/layout/base/tests/test_bug467672-3f.html
--- a/layout/base/tests/test_bug467672-3f.html
+++ b/layout/base/tests/test_bug467672-3f.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-3g.html b/layout/base/tests/test_bug467672-3g.html
--- a/layout/base/tests/test_bug467672-3g.html
+++ b/layout/base/tests/test_bug467672-3g.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4a.html b/layout/base/tests/test_bug467672-4a.html
--- a/layout/base/tests/test_bug467672-4a.html
+++ b/layout/base/tests/test_bug467672-4a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4b.html b/layout/base/tests/test_bug467672-4b.html
--- a/layout/base/tests/test_bug467672-4b.html
+++ b/layout/base/tests/test_bug467672-4b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4c.html b/layout/base/tests/test_bug467672-4c.html
--- a/layout/base/tests/test_bug467672-4c.html
+++ b/layout/base/tests/test_bug467672-4c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4d.html b/layout/base/tests/test_bug467672-4d.html
--- a/layout/base/tests/test_bug467672-4d.html
+++ b/layout/base/tests/test_bug467672-4d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4e.html b/layout/base/tests/test_bug467672-4e.html
--- a/layout/base/tests/test_bug467672-4e.html
+++ b/layout/base/tests/test_bug467672-4e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4f.html b/layout/base/tests/test_bug467672-4f.html
--- a/layout/base/tests/test_bug467672-4f.html
+++ b/layout/base/tests/test_bug467672-4f.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-4g.html b/layout/base/tests/test_bug467672-4g.html
--- a/layout/base/tests/test_bug467672-4g.html
+++ b/layout/base/tests/test_bug467672-4g.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5a.html b/layout/base/tests/test_bug467672-5a.html
--- a/layout/base/tests/test_bug467672-5a.html
+++ b/layout/base/tests/test_bug467672-5a.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5b.html b/layout/base/tests/test_bug467672-5b.html
--- a/layout/base/tests/test_bug467672-5b.html
+++ b/layout/base/tests/test_bug467672-5b.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5c.html b/layout/base/tests/test_bug467672-5c.html
--- a/layout/base/tests/test_bug467672-5c.html
+++ b/layout/base/tests/test_bug467672-5c.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5d.html b/layout/base/tests/test_bug467672-5d.html
--- a/layout/base/tests/test_bug467672-5d.html
+++ b/layout/base/tests/test_bug467672-5d.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5e.html b/layout/base/tests/test_bug467672-5e.html
--- a/layout/base/tests/test_bug467672-5e.html
+++ b/layout/base/tests/test_bug467672-5e.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5f.html b/layout/base/tests/test_bug467672-5f.html
--- a/layout/base/tests/test_bug467672-5f.html
+++ b/layout/base/tests/test_bug467672-5f.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug467672-5g.html b/layout/base/tests/test_bug467672-5g.html
--- a/layout/base/tests/test_bug467672-5g.html
+++ b/layout/base/tests/test_bug467672-5g.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=467672
 -->
 <head>
   <title>Test for Bug 467672</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=467672">Mozilla Bug 467672</a>
 
 <pre id="test">
diff --git a/layout/base/tests/test_bug469170.html b/layout/base/tests/test_bug469170.html
--- a/layout/base/tests/test_bug469170.html
+++ b/layout/base/tests/test_bug469170.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=469170
 -->
 <head>
   <title>Test for Bug 469170</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <p><a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=469170">Mozilla Bug 469170</a></p>
 
 <iframe id="source" width="50" height="50"
        src="data:text/html,%3Chtml%3E%3C%2Fhtml%3E"></iframe>
diff --git a/layout/base/tests/test_bug471126.html b/layout/base/tests/test_bug471126.html
--- a/layout/base/tests/test_bug471126.html
+++ b/layout/base/tests/test_bug471126.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=471126
 -->
 <head>
   <title>Test for Bug 471126</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=471126">Mozilla Bug 471126</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/base/tests/test_bug482976.html b/layout/base/tests/test_bug482976.html
--- a/layout/base/tests/test_bug482976.html
+++ b/layout/base/tests/test_bug482976.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=482976
 -->
 <head>
   <title>Test for Bug 482976</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=482976">Mozilla Bug 482976</a>
 
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/layout/base/tests/test_bug66619.html b/layout/base/tests/test_bug66619.html
--- a/layout/base/tests/test_bug66619.html
+++ b/layout/base/tests/test_bug66619.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=66619
 -->
 <head>
   <title>Test for Bug 66619</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=66619">Mozilla Bug 66619</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/base/tests/test_printpreview.html b/layout/base/tests/test_printpreview.html
--- a/layout/base/tests/test_printpreview.html
+++ b/layout/base/tests/test_printpreview.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Test for print preview</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>
     table {
       border: 1px solid black;
     }
   </style>
 </head>
diff --git a/layout/forms/test/test_bug287446.html b/layout/forms/test/test_bug287446.html
--- a/layout/forms/test/test_bug287446.html
+++ b/layout/forms/test/test_bug287446.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=287446
 -->
 <head>
   <title>Test for Bug 287446</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=287446">Mozilla Bug 287446</a>
 <p id="display">
   <iframe id="i"
           src="http://example.com/tests/layout/forms/test/bug287446_subframe.html"></iframe>
diff --git a/layout/forms/test/test_bug345267.html b/layout/forms/test/test_bug345267.html
--- a/layout/forms/test/test_bug345267.html
+++ b/layout/forms/test/test_bug345267.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=345267
 -->
 <head>
   <title>Test for Bug 345267</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=345267">Mozilla Bug 345267</a>
 <p id="display">
  <input id="d1" maxlength="3" value="abcde">
diff --git a/layout/forms/test/test_bug348236.html b/layout/forms/test/test_bug348236.html
--- a/layout/forms/test/test_bug348236.html
+++ b/layout/forms/test/test_bug348236.html
@@ -1,17 +1,17 @@
 ﻿<!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=348236
 -->
 <head>
 
   <title>Test for Bug 348236</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
   #eSelect {
     position: fixed; top:0; left: 350px; font-size: 24px; width: 100px
   }
   #eSelect option {
     margin: 0; padding: 0; height: 24px
diff --git a/layout/forms/test/test_bug378670.html b/layout/forms/test/test_bug378670.html
--- a/layout/forms/test/test_bug378670.html
+++ b/layout/forms/test/test_bug378670.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=378670
 -->
 <head>
   <title>Test for Bug 378670</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=378670">Mozilla Bug 378670</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/forms/test/test_bug402198.html b/layout/forms/test/test_bug402198.html
--- a/layout/forms/test/test_bug402198.html
+++ b/layout/forms/test/test_bug402198.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402198
 -->
 <head>
   <title>Test for Bug 402198</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=402198">Mozilla Bug 402198</a>
 <p id="display">
   <select></select>
diff --git a/layout/forms/test/test_bug411236.html b/layout/forms/test/test_bug411236.html
--- a/layout/forms/test/test_bug411236.html
+++ b/layout/forms/test/test_bug411236.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=411236
 -->
 <head>
   <title>Test for Bug 411236</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=411236">Mozilla Bug 411236</a>
 <p id="display"></p>
 <div id="content">
   <input type="file" onfocus="window.oTarget = event.originalTarget;"
diff --git a/layout/forms/test/test_bug446663.html b/layout/forms/test/test_bug446663.html
--- a/layout/forms/test/test_bug446663.html
+++ b/layout/forms/test/test_bug446663.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=446663
 -->
 <head>
   <title>Test for Bug 446663</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=446663">Mozilla Bug 446663</a>
 <p id="display">
 <style>#bug446663_a:focus{overflow:hidden}</style>
diff --git a/layout/forms/test/test_bug476308.html b/layout/forms/test/test_bug476308.html
--- a/layout/forms/test/test_bug476308.html
+++ b/layout/forms/test/test_bug476308.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=476308
 -->
 <head>
   <title>Test for Bug 345267</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <button style="-moz-appearance: none; width: 100px; height: 60px; background-color: red; border: 2px solid green; -moz-box-shadow: 30px 0px 5px black; position: absolute; top: 300px; left: 20px;"
         id="button1">1</button>
diff --git a/layout/forms/test/test_bug477531.html b/layout/forms/test/test_bug477531.html
--- a/layout/forms/test/test_bug477531.html
+++ b/layout/forms/test/test_bug477531.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=477531
 -->
 <head>
   <title>Test for Bug 477531</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
   <style type="text/css">
     #s {
       margin-left: 10px;
     }
 
diff --git a/layout/forms/test/test_bug477700.html b/layout/forms/test/test_bug477700.html
--- a/layout/forms/test/test_bug477700.html
+++ b/layout/forms/test/test_bug477700.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=477700
 -->
 <head>
   <title>Test for Bug 477700</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=477700">Mozilla Bug 477700</a>
 <p id="display">
   <iframe id="i"
           src="http://example.com/tests/layout/forms/test/bug477700_subframe.html"></iframe>
diff --git a/layout/generic/test/test_bug288789.html b/layout/generic/test/test_bug288789.html
--- a/layout/generic/test/test_bug288789.html
+++ b/layout/generic/test/test_bug288789.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=288789
 -->
 <head>
   <title>Test for Bug 288789</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=288789">Mozilla Bug 288789</a>
 <p id="display"></p>
 <div id="content">
diff --git a/layout/generic/test/test_bug323656.html b/layout/generic/test/test_bug323656.html
--- a/layout/generic/test/test_bug323656.html
+++ b/layout/generic/test/test_bug323656.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=323656
 -->
 <head>
   <title>Test for Bug 323656</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
     <style>
       /**
        * The idea is that "color" inherits by default while "border-color" does
        * not.  So if the former is red and the latter is green on a parent, and
        * the child's border-color is set to "inherit", it'll be green only if
        * the child is inheriting from the parent.  If not, it'll either be
diff --git a/layout/generic/test/test_bug344830.html b/layout/generic/test/test_bug344830.html
--- a/layout/generic/test/test_bug344830.html
+++ b/layout/generic/test/test_bug344830.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=344830
 -->
 <head>
   <title>Test for Bug 344830</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=344830">Mozilla Bug 344830</a>
 <p id="display"></p>
 <div id="content" style="display: block">
   <embed name="svg1"
diff --git a/layout/generic/test/test_bug382429.html b/layout/generic/test/test_bug382429.html
--- a/layout/generic/test/test_bug382429.html
+++ b/layout/generic/test/test_bug382429.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=382429
 -->
 <head>
   <title>Test for Bug 382429</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=382429">Mozilla Bug 382429</a>
 <p id="display">&#x05e2; 3/4</p>
 <div id="content" style="display: none">
   
diff --git a/layout/generic/test/test_bug384527.html b/layout/generic/test/test_bug384527.html
--- a/layout/generic/test/test_bug384527.html
+++ b/layout/generic/test/test_bug384527.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=384527
 -->
 <head style="display: inline-table;">
   <title>Test for Bug 384527</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style style="display: block; direction: rtl;">
    style::first-letter {float: right;}
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=384527">Mozilla Bug 384527</a>
diff --git a/layout/generic/test/test_bug385751.html b/layout/generic/test/test_bug385751.html
--- a/layout/generic/test/test_bug385751.html
+++ b/layout/generic/test/test_bug385751.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=385751
 -->
 <head>
   <title>Test for Bug 385751</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>#content:first-letter {float: right; }
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=385751">Mozilla Bug 385751</a>
 <div id="content"><span style="direction: rtl; unicode-bidi: embed;">*::first
diff --git a/layout/generic/test/test_bug389630.html b/layout/generic/test/test_bug389630.html
--- a/layout/generic/test/test_bug389630.html
+++ b/layout/generic/test/test_bug389630.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=389630
 -->
 <head>
   <title>Test for Bug 389630</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>.fl:first-letter { }
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=389630">Mozilla Bug 389630</a>
 <div id="content" style="direction: rtl;"><table><tr><td width="1"><div id="div" class="fl"><font><span>x y</span></font></div></td></tr></table></div>
diff --git a/layout/generic/test/test_bug391747.html b/layout/generic/test/test_bug391747.html
--- a/layout/generic/test/test_bug391747.html
+++ b/layout/generic/test/test_bug391747.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391747
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>Test for bug 391747</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391747">Mozilla Bug 391747</a>
 <p id="display"></p>
 <div id="content" style="display: block">
 <iframe id="iframe_391747" src="data:text/html,<table><tr><td style='width:500px;height:500px;border:1px solid blue'>x</td>"></iframe>
diff --git a/layout/generic/test/test_bug392746.html b/layout/generic/test/test_bug392746.html
--- a/layout/generic/test/test_bug392746.html
+++ b/layout/generic/test/test_bug392746.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392746
 -->
 <head>
   <title>Test for Bug 392746</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=392746">Mozilla Bug 392746</a>
 <div id="content">
diff --git a/layout/generic/test/test_bug392923.html b/layout/generic/test/test_bug392923.html
--- a/layout/generic/test/test_bug392923.html
+++ b/layout/generic/test/test_bug392923.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=392923
 -->
 <head>
   <title>Test for Bug 392923</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>p { -moz-column-count: 2; }
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=392923">Mozilla Bug 392923</a>
 <div id="content">
diff --git a/layout/generic/test/test_bug394173.html b/layout/generic/test/test_bug394173.html
--- a/layout/generic/test/test_bug394173.html
+++ b/layout/generic/test/test_bug394173.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=394173
 -->
 <head>
   <title>Test for Bug 394173</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>.fl:first-letter { }
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=394173">Mozilla Bug 394173</a>
 <div id="content">
diff --git a/layout/generic/test/test_bug394239.html b/layout/generic/test/test_bug394239.html
--- a/layout/generic/test/test_bug394239.html
+++ b/layout/generic/test/test_bug394239.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=394239
 -->
 <head>
   <title>Test for Bug 394239</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>
    #a::after { content:"anonymous text"; }
   </style>
 </head>
 <body>
diff --git a/layout/generic/test/test_bug402380.html b/layout/generic/test/test_bug402380.html
--- a/layout/generic/test/test_bug402380.html
+++ b/layout/generic/test/test_bug402380.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=402380
 -->
 <head>
   <title>Test for Bug 402380</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
    div::first-letter { color: green; }
    span:before { content: open-quote "This "; }
    span:after { content: close-quote; }
   </style>
 </head>
diff --git a/layout/generic/test/test_bug404872.html b/layout/generic/test/test_bug404872.html
--- a/layout/generic/test/test_bug404872.html
+++ b/layout/generic/test/test_bug404872.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=404872
 -->
 <head>
   <title>Test for Bug 404872</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=404872">Mozilla Bug 404872</a>
 <p id="display">
   <select multiple id="a">
diff --git a/layout/generic/test/test_bug405178.html b/layout/generic/test/test_bug405178.html
--- a/layout/generic/test/test_bug405178.html
+++ b/layout/generic/test/test_bug405178.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=405178
 -->
 <head>
   <title>Test for Bug 405178</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=405178">Mozilla Bug 405178</a>
 <p id="display"><div id="div" style="-moz-column-width: 10px;">&#23377;&#1741; </div></p>
 <div id="content" style="display: none">
   
diff --git a/layout/generic/test/test_bug416168.html b/layout/generic/test/test_bug416168.html
--- a/layout/generic/test/test_bug416168.html
+++ b/layout/generic/test/test_bug416168.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=416168
 -->
 <head>
   <title>Test for Bug 416168</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=416168">Mozilla Bug 416168</a>
 <p id="display">
 
 <div id="a" style="overflow: hidden; outline: 1px solid black; height: 0px;">
diff --git a/layout/generic/test/test_bug421436.html b/layout/generic/test/test_bug421436.html
--- a/layout/generic/test/test_bug421436.html
+++ b/layout/generic/test/test_bug421436.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=421436
 -->
 <head>
   <title>Test for Bug 421436</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=421436">Mozilla Bug 421436</a>
 <p id="display"></p>
 <div id="content">
diff --git a/layout/generic/test/test_bug421839-2.html b/layout/generic/test/test_bug421839-2.html
--- a/layout/generic/test/test_bug421839-2.html
+++ b/layout/generic/test/test_bug421839-2.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=421839
 -->
 <head>
   <title>Test for Bug 421839</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=421839">Mozilla Bug 421839</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/generic/test/test_bug448860.html b/layout/generic/test/test_bug448860.html
--- a/layout/generic/test/test_bug448860.html
+++ b/layout/generic/test/test_bug448860.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=448860
 -->
 <head>
   <title>Test for Bug 448860</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <style>
 :focus {outline:2px solid red}
 </style>
 </head>
 <body>
diff --git a/layout/generic/test/test_bug460532.html b/layout/generic/test/test_bug460532.html
--- a/layout/generic/test/test_bug460532.html
+++ b/layout/generic/test/test_bug460532.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=460532
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>Test for bug 460532</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=460532">Mozilla Bug 460532</a>
 <p id="display"></p>
 <div id="content" style="display: block">
 lorem ipsum.
diff --git a/layout/generic/test/test_bug468167.html b/layout/generic/test/test_bug468167.html
--- a/layout/generic/test/test_bug468167.html
+++ b/layout/generic/test/test_bug468167.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468167
 -->
 <head>
   <title>Test for Bug 468167</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468167">Mozilla Bug 468167</a>
 <p id="display">
 <textarea id="ta" rows="10" cols="80"></textarea>
 </p>
diff --git a/layout/generic/test/test_bug470212.html b/layout/generic/test/test_bug470212.html
--- a/layout/generic/test/test_bug470212.html
+++ b/layout/generic/test/test_bug470212.html
@@ -1,15 +1,15 @@
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=470212
 -->
 <head>
   <title>Test for Bug 470212 -  crash [@ nsContentUtils::ComparePoints]</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=470212">Mozilla Bug 470212</a>
 <div style="width: 200px;">
 <ca>
 <canvas style="border: 1px solid black;"></canvas>
diff --git a/layout/generic/test/test_movement_by_characters.html b/layout/generic/test/test_movement_by_characters.html
--- a/layout/generic/test/test_movement_by_characters.html
+++ b/layout/generic/test/test_movement_by_characters.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test Character Movement (including nsTextFrame::PeekOffsetCharacter)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: block">
 <div contentEditable id="editor"></div>
diff --git a/layout/generic/test/test_movement_by_words.html b/layout/generic/test/test_movement_by_words.html
--- a/layout/generic/test/test_movement_by_words.html
+++ b/layout/generic/test/test_movement_by_words.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test Word Movement (including nsTextFrame::PeekOffsetWord)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: block">
 <div contentEditable id="editor"></div>
diff --git a/layout/generic/test/test_selection_underline.html b/layout/generic/test/test_selection_underline.html
--- a/layout/generic/test/test_selection_underline.html
+++ b/layout/generic/test/test_selection_underline.html
@@ -1,13 +1,13 @@
 <html>
 
 <head>
   <title>Test for selection underline</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/WindowSnapshot.js"></script>
   <script type="text/javascript" src="../../base/tests/decoration_line_rendering.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 
 <script type="text/javascript">
 
 // Canvas related code stolen from layout/base/tests/bidi_numeral_test.js which
diff --git a/layout/inspector/tests/test_bug462787.html b/layout/inspector/tests/test_bug462787.html
--- a/layout/inspector/tests/test_bug462787.html
+++ b/layout/inspector/tests/test_bug462787.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=462787
 -->
 <head>
   <title>Test for Bug 462787</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=462787">Mozilla Bug 462787</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/inspector/tests/test_bug462789.html b/layout/inspector/tests/test_bug462789.html
--- a/layout/inspector/tests/test_bug462789.html
+++ b/layout/inspector/tests/test_bug462789.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=462789
 -->
 <head>
   <title>Test for Bug 462789</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=462789">Mozilla Bug 462789</a>
 <p id="display"><iframe id="bug462789_iframe" src="data:text/html,<html><head><style>*{color:black;}</style></head><body>xxx" style="display: none;"></iframe></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_acid3_test46.html b/layout/style/test/test_acid3_test46.html
--- a/layout/style/test/test_acid3_test46.html
+++ b/layout/style/test/test_acid3_test46.html
@@ -9,17 +9,17 @@ This is test 46 from the Acid3 test, htt
 extracted from the test framework there and put into Mochitest.
 
 (from irc.mozilla.org, developers)
 [2008-05-14 18:07:38] <Hixie> dbaron: I hereby grant all files available from the server http://acid3.acidtests.org/ under the following license: (c) copyright 2008 Ian Hickson. These documents may be used under the terms of any of the following licenses: MPL. GPL. LGPL. BSD.
 
 -->
 <head>
   <title>Test for Bug 156716</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <style type="text/css">
   iframe#selectors { width: 0; height: 0; }
   </style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=156716">Mozilla Bug 156716</a>
diff --git a/layout/style/test/test_at_rule_parse_serialize.html b/layout/style/test/test_at_rule_parse_serialize.html
--- a/layout/style/test/test_at_rule_parse_serialize.html
+++ b/layout/style/test/test_at_rule_parse_serialize.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=478160
 -->
 <head>
   <title>Test for Bug 478160</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <style id="style" type="text/css"></style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=478160">Mozilla Bug 478160</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_bug160403.html b/layout/style/test/test_bug160403.html
--- a/layout/style/test/test_bug160403.html
+++ b/layout/style/test/test_bug160403.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=160403
 -->
 <head>
   <title>Test for Bug 160403</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=160403">Mozilla Bug 160403</a>
 <div id="content" style="display: none">
   
 </div>
diff --git a/layout/style/test/test_bug221428.html b/layout/style/test/test_bug221428.html
--- a/layout/style/test/test_bug221428.html
+++ b/layout/style/test/test_bug221428.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=221428
 -->
 <head>
   <title>Test for Bug 221428</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <link rel="stylesheet" href="data:text/css,body { color: green; }">
   <style>
     @import url("data:text/css,body { border: 1px solid transparent; }");
     body { color: black; }
   </style>
   <script>
diff --git a/layout/style/test/test_bug229915.html b/layout/style/test/test_bug229915.html
--- a/layout/style/test/test_bug229915.html
+++ b/layout/style/test/test_bug229915.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=229915
 -->
 <head>
   <title>Test for Bug 229915</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   p { color: black; background: transparent; }
   p.prev + p { color: green; }
   p.prev ~ p { background: white; }
 
diff --git a/layout/style/test/test_bug319381.html b/layout/style/test/test_bug319381.html
--- a/layout/style/test/test_bug319381.html
+++ b/layout/style/test/test_bug319381.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=319381
 -->
 <head>
   <title>Test for Bug 319381</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=319381">Mozilla Bug 319381</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="t"></div>  
diff --git a/layout/style/test/test_bug357614.html b/layout/style/test/test_bug357614.html
--- a/layout/style/test/test_bug357614.html
+++ b/layout/style/test/test_bug357614.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=357614
 -->
 <head>
   <title>Test for Bug 357614</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <style type="text/css" id="style">
   a { color: red; }
   a { color: green; }
   </style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
diff --git a/layout/style/test/test_bug363146.html b/layout/style/test/test_bug363146.html
--- a/layout/style/test/test_bug363146.html
+++ b/layout/style/test/test_bug363146.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=363146
 -->
 <head>
   <title>Test for Bug 363146</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=363146">Mozilla Bug 363146</a>
 <div style="width:100px; height:400px; position:relative;">
   <table id="t1" border="0" cellspacing="0" cellpadding="0"
          style="border:10px solid black; margin:20px; position:absolute; left:50px; top:35px;">
diff --git a/layout/style/test/test_bug365932.html b/layout/style/test/test_bug365932.html
--- a/layout/style/test/test_bug365932.html
+++ b/layout/style/test/test_bug365932.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=365932
 -->
 <head>
   <title>Test for Bug 365932</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style>
     #content {
       width: 800px;
       height: 800px;
       padding: 0 200px;
       border-width: 0 200px;
diff --git a/layout/style/test/test_bug372770.html b/layout/style/test/test_bug372770.html
--- a/layout/style/test/test_bug372770.html
+++ b/layout/style/test/test_bug372770.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=372770
 -->
 <head>
   <title>Test for Bug 372770</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style id="testStyle">
     #content {}
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=372770">Mozilla Bug 372770</a>
diff --git a/layout/style/test/test_bug373293.html b/layout/style/test/test_bug373293.html
--- a/layout/style/test/test_bug373293.html
+++ b/layout/style/test/test_bug373293.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=373293
 -->
 <head>
   <title>Test for Bug 373293</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=373293">Mozilla Bug 373293</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   <div id="t" style="color: transparent;"></div>
diff --git a/layout/style/test/test_bug377947.html b/layout/style/test/test_bug377947.html
--- a/layout/style/test/test_bug377947.html
+++ b/layout/style/test/test_bug377947.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=377947
 -->
 <head>
   <title>Test for Bug 377947</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=377947">Mozilla Bug 377947</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_bug379440.html b/layout/style/test/test_bug379440.html
--- a/layout/style/test/test_bug379440.html
+++ b/layout/style/test/test_bug379440.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=379440
 -->
 <head>
   <title>Test for Bug 379440</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
     #display > * { cursor: auto }
     #t1 {
       cursor: url(file:///tmp/foo), url(file:///c|/),
               url(http://example.com/), crosshair;
     }
diff --git a/layout/style/test/test_bug379741.html b/layout/style/test/test_bug379741.html
--- a/layout/style/test/test_bug379741.html
+++ b/layout/style/test/test_bug379741.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=379741
 -->
 <head>
   <title>Test for Bug 379741</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=379741">Mozilla Bug 379741</a>
 <div id="content" style="display: none">
 <div id="noframe"></div>
 </div>
diff --git a/layout/style/test/test_bug382027.html b/layout/style/test/test_bug382027.html
--- a/layout/style/test/test_bug382027.html
+++ b/layout/style/test/test_bug382027.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=382027
 -->
 <head>
   <title>Test for Bug 382027</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=382027">Mozilla Bug 382027</a>
 <div id="content" style="display: none;"
   ><div style="border-style: groove none none;"
     ><div style="border-style: none none double"
diff --git a/layout/style/test/test_bug383075.html b/layout/style/test/test_bug383075.html
--- a/layout/style/test/test_bug383075.html
+++ b/layout/style/test/test_bug383075.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=383075
 -->
 <head>
   <title>Test for bug 383075</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <style type="text/css">
 
         html,body {
             color:black; background-color:white; font-size:16px; font-family: Arial;
         }
 	
diff --git a/layout/style/test/test_bug387615.html b/layout/style/test/test_bug387615.html
--- a/layout/style/test/test_bug387615.html
+++ b/layout/style/test/test_bug387615.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=387615
 -->
 <head>
   <title>Test for Bug 387615</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
   @namespace html url(http://www.w3.org/1999/xhtml);
   a { color: red; }
   a[rel="next"] { color: green; }
   a[html|rel="next"] { color: green; }
   </style>
diff --git a/layout/style/test/test_bug389464.html b/layout/style/test/test_bug389464.html
--- a/layout/style/test/test_bug389464.html
+++ b/layout/style/test/test_bug389464.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <!-- above is to force x-western language group -->
   <title>Test for preference not to use document colors</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
 
   </style>
 </head>
 <body>
diff --git a/layout/style/test/test_bug391034.html b/layout/style/test/test_bug391034.html
--- a/layout/style/test/test_bug391034.html
+++ b/layout/style/test/test_bug391034.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391034
 -->
 <head>
   <title>Test for Bug 391034</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391034">Mozilla Bug 391034</a>
 <div id="display" style="width: 90px; height: 80px">
   <div id="width-ref" style="width: 2ch"></div>
   <div id="width-ref2" style="width: 5ch"></div>
diff --git a/layout/style/test/test_bug391221.html b/layout/style/test/test_bug391221.html
--- a/layout/style/test/test_bug391221.html
+++ b/layout/style/test/test_bug391221.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=391221
 -->
 <head>
   <title>Test for Bug 391221</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=391221">Mozilla Bug 391221</a>
 <p id="display">
   <div id="width-ref" style="width: 2ch"></div>
 </p>
diff --git a/layout/style/test/test_bug397427.html b/layout/style/test/test_bug397427.html
--- a/layout/style/test/test_bug397427.html
+++ b/layout/style/test/test_bug397427.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=397427
 -->
 <head>
   <title>Test for Bug 397427</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style id="a">
     @import url("redirect-1.css");
     @import url("redirect-2.css");
     .test { color: red }
   </style>
   <link id="b" rel="stylesheet" href="http://example.com">
diff --git a/layout/style/test/test_bug401046.html b/layout/style/test/test_bug401046.html
--- a/layout/style/test/test_bug401046.html
+++ b/layout/style/test/test_bug401046.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html lang="en">
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=401046
 -->
 <head>
   <title>Test for Bug 401046</title>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   #display span { margin-bottom: 1em; }
 
   </style>
 </head>
diff --git a/layout/style/test/test_bug405818.html b/layout/style/test/test_bug405818.html
--- a/layout/style/test/test_bug405818.html
+++ b/layout/style/test/test_bug405818.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=405818
 -->
 <head>
   <title>Test for Bug 405818</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <link rel="stylesheet" type="text/css" href="data:text/css,#nosuchid{color:green;}">
   <link rel="stylesheet" type="text/css" href="chrome://global/skin/global.css">
   <!-- Script to make sure sheets gets a chance to load fully in Gecko 1.8 and earlier -->
   <script type="text/javascript" src="data:text/javascript,"></script>
   <link rel="stylesheet" type="text/css" href="data:text/css,#nosuchid{color:green;}">
   <link rel="stylesheet" type="text/css" href="chrome://global/skin/global.css">
diff --git a/layout/style/test/test_bug412901.html b/layout/style/test/test_bug412901.html
--- a/layout/style/test/test_bug412901.html
+++ b/layout/style/test/test_bug412901.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=412901
 -->
 <head>
   <title>Test for Bug 412901</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=412901">Mozilla Bug 412901</a>
 <div id="testDiv" style="width:20px; height:20px; border:solid silver; border-left-width:0.2px; border-right-width:0px; border-top-width:2.3px; border-bottom-width:5.5px;">
 <div id="testDiv2" style="width:20px; height:20px; border:hidden solid silver; border-left-width:0.2px; border-right-width:0px; border-top-width:2.3px; border-bottom-width:5.5px;">
 <p id="display"></p>
diff --git a/layout/style/test/test_bug437915.html b/layout/style/test/test_bug437915.html
--- a/layout/style/test/test_bug437915.html
+++ b/layout/style/test/test_bug437915.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=437915
 -->
 <head>
   <title>Test for Bug 437915</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   div.classvalue { text-decoration: underline; }
   div[title~="titlevalue"] { visibility: hidden; }
 
   </style>
diff --git a/layout/style/test/test_bug450191.html b/layout/style/test/test_bug450191.html
--- a/layout/style/test/test_bug450191.html
+++ b/layout/style/test/test_bug450191.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=450191
 -->
 <head>
   <title>Test for Bug 450191</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=450191">Mozilla Bug 450191</a>
 <iframe id="display" src="about:blank"></iframe>
 <pre id="test">
 <script type="application/javascript">
diff --git a/layout/style/test/test_bug453896_deck.html b/layout/style/test/test_bug453896_deck.html
--- a/layout/style/test/test_bug453896_deck.html
+++ b/layout/style/test/test_bug453896_deck.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=453896
 -->
 <head>
   <title>Test for Bug 453896</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=453896">Mozilla Bug 453896</a>
 <div id="display">
 
 <div style="display:-moz-deck; height: 300px; width: 300px;">
diff --git a/layout/style/test/test_bug470769.html b/layout/style/test/test_bug470769.html
--- a/layout/style/test/test_bug470769.html
+++ b/layout/style/test/test_bug470769.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=470769
 -->
 <head>
   <title>Test for Bug 470769</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=470769">Mozilla Bug 470769</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_bug73586.html b/layout/style/test/test_bug73586.html
--- a/layout/style/test/test_bug73586.html
+++ b/layout/style/test/test_bug73586.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=73586
 -->
 <head>
   <title>Test for Bug 73586</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   span { background: white; color: black; border: medium solid black; }
 
   </style>
 </head>
diff --git a/layout/style/test/test_bug74880.html b/layout/style/test/test_bug74880.html
--- a/layout/style/test/test_bug74880.html
+++ b/layout/style/test/test_bug74880.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=74880
 -->
 <head>
   <title>Test for Bug 74880</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   /* so that computed values for other border properties work right */
   #display { border-style: solid; }
 
   </style>
diff --git a/layout/style/test/test_bug98997.html b/layout/style/test/test_bug98997.html
--- a/layout/style/test/test_bug98997.html
+++ b/layout/style/test/test_bug98997.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=98997
 -->
 <head>
   <title>Test for Bug 98997</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   /*
    * This test does NOT test any of the cases where :empty and
    * :-moz-only-whitespace differ.  We should probably have some tests
    * for that as well.
diff --git a/layout/style/test/test_cascade.html b/layout/style/test/test_cascade.html
--- a/layout/style/test/test_cascade.html
+++ b/layout/style/test/test_cascade.html
@@ -33,17 +33,17 @@
    - and other provisions required by the LGPL or the GPL. If you do not delete
    - the provisions above, a recipient may use your version of this file under
    - the terms of any one of the MPL, the GPL or the LGPL.
    -
    - ***** END LICENSE BLOCK ***** -->
 <html>
 <head>
   <title>Test for Author style sheet aspects of CSS cascading</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   </style>
 </head>
 <body id="thebody">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
diff --git a/layout/style/test/test_compute_data_with_start_struct.html b/layout/style/test/test_compute_data_with_start_struct.html
--- a/layout/style/test/test_compute_data_with_start_struct.html
+++ b/layout/style/test/test_compute_data_with_start_struct.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for correct handling of aStartStruct parameter to nsRuleNode::Compute*Data</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <style type="text/css" id="stylesheet"></style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=216456">Mozilla Bug 216456</a>
 <p id="display">
diff --git a/layout/style/test/test_css_eof_handling.html b/layout/style/test/test_css_eof_handling.html
--- a/layout/style/test/test_css_eof_handling.html
+++ b/layout/style/test/test_css_eof_handling.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for CSS EOF handling</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p><a target="_blank"
    href="https://bugzilla.mozilla.org/show_bug.cgi?id=311616">bug 311616</a>,
 <a target="_blank"
    href="https://bugzilla.mozilla.org/show_bug.cgi?id=325064">bug 325064</a></p>
diff --git a/layout/style/test/test_descriptor_storage.html b/layout/style/test/test_descriptor_storage.html
--- a/layout/style/test/test_descriptor_storage.html
+++ b/layout/style/test/test_descriptor_storage.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for parsing, storage, and serialization of CSS @font-face descriptor values</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="descriptor_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/layout/style/test/test_descriptor_syntax_errors.html b/layout/style/test/test_descriptor_syntax_errors.html
--- a/layout/style/test/test_descriptor_syntax_errors.html
+++ b/layout/style/test/test_descriptor_syntax_errors.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test that we reject syntax errors listed in descriptor_database.js</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="descriptor_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
diff --git a/layout/style/test/test_dont_use_document_colors.html b/layout/style/test/test_dont_use_document_colors.html
--- a/layout/style/test/test_dont_use_document_colors.html
+++ b/layout/style/test/test_dont_use_document_colors.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for preference not to use document colors</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   #one, #three { background: blue; color: yellow; border: thin solid red; -moz-column-rule: 2px solid green; }
   #two { background: transparent; border: thin solid; }
   #five, #six {border: thick solid red; -moz-border-start-color:green; -moz-border-end-color:blue}
   #seven {
diff --git a/layout/style/test/test_font_face_parser.html b/layout/style/test/test_font_face_parser.html
--- a/layout/style/test/test_font_face_parser.html
+++ b/layout/style/test/test_font_face_parser.html
@@ -1,14 +1,14 @@
 <!DOCTYPE HTML><html>
 <!-- https://bugzilla.mozilla.org/show_bug.cgi?id=441469 -->
 <head>
   <meta http-equiv="content-type" content="text/html; charset=utf-8">
   <title>Test of @font-face parser</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css">
 </head>
 <body>
 <p>@font-face parsing (<a
   target="_blank"
   href="https://bugzilla.mozilla.org/show_bug.cgi?id=441469"
 >bug 441469</a>)</p>
diff --git a/layout/style/test/test_hover.html b/layout/style/test/test_hover.html
--- a/layout/style/test/test_hover.html
+++ b/layout/style/test/test_hover.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for :hover</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <style type="text/css">
 
   div#one { height: 10px; width: 10px; }
   div#one:hover { background: #00f; }
   div#one > div { height: 5px; width: 20px; }
diff --git a/layout/style/test/test_inherit_computation.html b/layout/style/test/test_inherit_computation.html
--- a/layout/style/test/test_inherit_computation.html
+++ b/layout/style/test/test_inherit_computation.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for computation of CSS 'inherit'</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <style type="text/css" id="stylesheet"></style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"><span id="fparent"><span id="fchild"></span></span></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_inherit_storage.html b/layout/style/test/test_inherit_storage.html
--- a/layout/style/test/test_inherit_storage.html
+++ b/layout/style/test/test_inherit_storage.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375363
 -->
 <head>
   <title>Test for parsing, storage, and serialization of CSS 'inherit'</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=375363">Mozilla Bug 375363</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_initial_computation.html b/layout/style/test/test_initial_computation.html
--- a/layout/style/test/test_initial_computation.html
+++ b/layout/style/test/test_initial_computation.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for computation of CSS '-moz-initial'</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <style type="text/css" id="stylesheet"></style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="text/javascript">
   SimpleTest.waitForExplicitFinish();
 
   var load_count = 0;
diff --git a/layout/style/test/test_initial_storage.html b/layout/style/test/test_initial_storage.html
--- a/layout/style/test/test_initial_storage.html
+++ b/layout/style/test/test_initial_storage.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=375363
 -->
 <head>
   <title>Test for parsing, storage, and serialization of CSS '-moz-initial'</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=375363">Mozilla Bug 375363</a>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_media_queries.html b/layout/style/test/test_media_queries.html
--- a/layout/style/test/test_media_queries.html
+++ b/layout/style/test/test_media_queries.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=156716
 -->
 <head>
   <title>Test for Bug 156716</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=156716">Mozilla Bug 156716</a>
 <iframe id="subdoc" src="media_queries_iframe.html"></iframe>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_media_queries_dynamic.html b/layout/style/test/test_media_queries_dynamic.html
--- a/layout/style/test/test_media_queries_dynamic.html
+++ b/layout/style/test/test_media_queries_dynamic.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=473400
 -->
 <head>
   <title>Test for Bug 473400</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=473400">Mozilla Bug 473400</a>
 <iframe id="subdoc" src="about:blank"></iframe>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_media_queries_dynamic_xbl.html b/layout/style/test/test_media_queries_dynamic_xbl.html
--- a/layout/style/test/test_media_queries_dynamic_xbl.html
+++ b/layout/style/test/test_media_queries_dynamic_xbl.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=156716
 -->
 <head>
   <title>Test for Bug 156716</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=156716">Mozilla Bug 156716</a>
 <iframe id="display" src="media_queries_dynamic_xbl_iframe.html"></iframe>
 <pre id="test">
 <script class="testbody" type="text/javascript">
diff --git a/layout/style/test/test_namespace_rule.html b/layout/style/test/test_namespace_rule.html
--- a/layout/style/test/test_namespace_rule.html
+++ b/layout/style/test/test_namespace_rule.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for CSS Namespace rules</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <p id="display"><iframe id="iframe" src="data:application/xhtml+xml,<html%20xmlns='http://www.w3.org/1999/xhtml'><head/><body/></html>"></iframe></p>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/layout/style/test/test_parse_rule.html b/layout/style/test/test_parse_rule.html
--- a/layout/style/test/test_parse_rule.html
+++ b/layout/style/test/test_parse_rule.html
@@ -1,11 +1,11 @@
 <!DOCTYPE html>
 <html lang=en>
-<script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+<script type="text/javascript" src="/MochiKit/packed.js"></script>
 <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
 <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
 <body>
 <iframe></iframe>
 <!-- Note that the following style and div elements are duplicates
      of the ones written into the iframe; they are here for convienience
      in resolving the "standard" computed value for a given specification
diff --git a/layout/style/test/test_parse_url.html b/layout/style/test/test_parse_url.html
--- a/layout/style/test/test_parse_url.html
+++ b/layout/style/test/test_parse_url.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=473914
 -->
 <head>
   <title>Test for Bug 473914</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=473914">Mozilla Bug 473914</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_priority_preservation.html b/layout/style/test/test_priority_preservation.html
--- a/layout/style/test/test_priority_preservation.html
+++ b/layout/style/test/test_priority_preservation.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for property priority preservation</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
 </div>
diff --git a/layout/style/test/test_property_database.html b/layout/style/test/test_property_database.html
--- a/layout/style/test/test_property_database.html
+++ b/layout/style/test/test_property_database.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test that property_database.js contains all supported CSS properties</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="css_properties.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_property_syntax_errors.html b/layout/style/test/test_property_syntax_errors.html
--- a/layout/style/test/test_property_syntax_errors.html
+++ b/layout/style/test/test_property_syntax_errors.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test that we reject syntax errors listed in property_database.js</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/layout/style/test/test_selectors.html b/layout/style/test/test_selectors.html
--- a/layout/style/test/test_selectors.html
+++ b/layout/style/test/test_selectors.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for CSS Selectors</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="run()">
 <p id="display"><iframe id="iframe" src="about:blank"></iframe></p>
 <pre id="test">
 <script class="testbody" type="text/javascript">
 
diff --git a/layout/style/test/test_selectors_on_anonymous_content.html b/layout/style/test/test_selectors_on_anonymous_content.html
--- a/layout/style/test/test_selectors_on_anonymous_content.html
+++ b/layout/style/test/test_selectors_on_anonymous_content.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for CSS Selectors</title>
   <!--
       Separate from test_selectors.html so we don't need to deal with
       waiting for the binding document to load.
     -->
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <style type="text/css">
 
   #display { -moz-binding: url(xbl_bindings.xml#onedivchild); }
 
   </style>
 </head>
diff --git a/layout/style/test/test_shorthand_property_getters.html b/layout/style/test/test_shorthand_property_getters.html
--- a/layout/style/test/test_shorthand_property_getters.html
+++ b/layout/style/test/test_shorthand_property_getters.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=376075
 -->
 <head>
   <title>Test for Bug 376075</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=376075">Mozilla Bug 376075</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_style_struct_copy_constructors.html b/layout/style/test/test_style_struct_copy_constructors.html
--- a/layout/style/test/test_style_struct_copy_constructors.html
+++ b/layout/style/test/test_style_struct_copy_constructors.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for style struct copy constructors</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <style type="text/css" id="stylesheet"></style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"><span id="one"></span><span id="two"></span><span id="parent"><span id="child"></span></span></p>
 <div id="content" style="display: none">
diff --git a/layout/style/test/test_system_font_serialization.html b/layout/style/test/test_system_font_serialization.html
--- a/layout/style/test/test_system_font_serialization.html
+++ b/layout/style/test/test_system_font_serialization.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=475214
 -->
 <head>
   <title>Test for Bug 475214</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=475214">Mozilla Bug 475214</a>
 <p id="display"></p>
 <div id="content">
   
diff --git a/layout/style/test/test_units_angle.html b/layout/style/test/test_units_angle.html
--- a/layout/style/test/test_units_angle.html
+++ b/layout/style/test/test_units_angle.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for serialization and equivalence of angle units</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_units_frequency.html b/layout/style/test/test_units_frequency.html
--- a/layout/style/test/test_units_frequency.html
+++ b/layout/style/test/test_units_frequency.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for serialization and equivalence of frequency units</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_units_length.html b/layout/style/test/test_units_length.html
--- a/layout/style/test/test_units_length.html
+++ b/layout/style/test/test_units_length.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for serialization and equivalence of length units</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_units_time.html b/layout/style/test/test_units_time.html
--- a/layout/style/test/test_units_time.html
+++ b/layout/style/test/test_units_time.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for serialization and equivalence of time units</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/layout/style/test/test_value_computation.html b/layout/style/test/test_value_computation.html
--- a/layout/style/test/test_value_computation.html
+++ b/layout/style/test/test_value_computation.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for computation of values in property database</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <style type="text/css" id="stylesheet"></style>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <script type="text/javascript">
   SimpleTest.waitForExplicitFinish();
 
   var load_count = 0;
diff --git a/layout/style/test/test_value_storage.html b/layout/style/test/test_value_storage.html
--- a/layout/style/test/test_value_storage.html
+++ b/layout/style/test/test_value_storage.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 -->
 <head>
   <title>Test for parsing, storage, and serialization of CSS values</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="property_database.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/layout/style/test/test_visited_pref.html b/layout/style/test/test_visited_pref.html
--- a/layout/style/test/test_visited_pref.html
+++ b/layout/style/test/test_visited_pref.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=147777
 -->
 <head>
   <title>Test for visited link coloring pref Bug 147777</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
   <style type="text/css">
 
   :link { float: left; }
 
   :visited { float: right; }
 
diff --git a/layout/tables/test/test_bug337124.html b/layout/tables/test/test_bug337124.html
--- a/layout/tables/test/test_bug337124.html
+++ b/layout/tables/test/test_bug337124.html
@@ -1,11 +1,11 @@
 <html><head>
 <title>Test for Bug 337124</title>
- <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+ <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=337124">Mozilla Bug 337124</a>
 
 <span style="display: table-row-group;">
     <input type="text">
diff --git a/modules/libjar/test/mochitest/test_bug403331.html b/modules/libjar/test/mochitest/test_bug403331.html
--- a/modules/libjar/test/mochitest/test_bug403331.html
+++ b/modules/libjar/test/mochitest/test_bug403331.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=403331
 -->
 <head>
   <title>Test for Bug 403331</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 
 <iframe id="testFrame"></iframe>
 
 <pre id="test">
diff --git a/modules/libpr0n/test/mochitest/test_bug399925.html b/modules/libpr0n/test/mochitest/test_bug399925.html
--- a/modules/libpr0n/test/mochitest/test_bug399925.html
+++ b/modules/libpr0n/test/mochitest/test_bug399925.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=399925
 -->
 <head>
   <title>Test for Bug 399925</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="drawCanvas(); setTimeout('drawCanvas(); allDone();', 20000)">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=399925">Mozilla Bug 399925</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <img src="bug399925.gif" id="gif" />
diff --git a/modules/libpr0n/test/mochitest/test_bug466586.html b/modules/libpr0n/test/mochitest/test_bug466586.html
--- a/modules/libpr0n/test/mochitest/test_bug466586.html
+++ b/modules/libpr0n/test/mochitest/test_bug466586.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=466586
 -->
 <head>
   <title>Test for Bug 466586</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body onload="loadSmall()">
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=89419">Mozilla Bug 466586</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <img src="big.png" width="100" height="100" id="big" />
diff --git a/modules/libpr0n/test/mochitest/test_bug468160.html b/modules/libpr0n/test/mochitest/test_bug468160.html
--- a/modules/libpr0n/test/mochitest/test_bug468160.html
+++ b/modules/libpr0n/test/mochitest/test_bug468160.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=468160
 -->
 <head>
   <title>Test for Bug 468160</title>
-  <script type="application/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="application/javascript" src="/MochiKit/packed.js"></script>
   <script type="application/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"/>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=468160">Mozilla Bug 468160</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 <!-- bug468160.sjs does a simple redirect to a PNG image. As long as this
diff --git a/parser/htmlparser/tests/mochitest/test_bug174351.html b/parser/htmlparser/tests/mochitest/test_bug174351.html
--- a/parser/htmlparser/tests/mochitest/test_bug174351.html
+++ b/parser/htmlparser/tests/mochitest/test_bug174351.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=174351
 -->
 <head>
   <title>Test for Bug 174351</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=174351">Mozilla Bug 174351</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
diff --git a/parser/htmlparser/tests/mochitest/test_bug358797.html b/parser/htmlparser/tests/mochitest/test_bug358797.html
--- a/parser/htmlparser/tests/mochitest/test_bug358797.html
+++ b/parser/htmlparser/tests/mochitest/test_bug358797.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=358797
 -->
 <head>
   <title>Test for Bug 358797</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=358797">Mozilla Bug 358797</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/parser/htmlparser/tests/mochitest/test_bug396568.html b/parser/htmlparser/tests/mochitest/test_bug396568.html
--- a/parser/htmlparser/tests/mochitest/test_bug396568.html
+++ b/parser/htmlparser/tests/mochitest/test_bug396568.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=396568
 -->
 <head>
   <title>Test for Bug 396568</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   <!--These script tags are part of the test, complete with indentation!-->
   <script language="javascript"
 
 
 
 
diff --git a/parser/htmlparser/tests/mochitest/test_bug418464.html b/parser/htmlparser/tests/mochitest/test_bug418464.html
--- a/parser/htmlparser/tests/mochitest/test_bug418464.html
+++ b/parser/htmlparser/tests/mochitest/test_bug418464.html
@@ -13,17 +13,17 @@
   <!-- NOTE: The forms and scripts above this comment _must_ come first in this file-->
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=418464
 -->
 <head>
   <title>Test for Bug 418464</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=418464">Mozilla Bug 418464</a>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/parser/htmlparser/tests/mochitest/test_compatmode.html b/parser/htmlparser/tests/mochitest/test_compatmode.html
--- a/parser/htmlparser/tests/mochitest/test_compatmode.html
+++ b/parser/htmlparser/tests/mochitest/test_compatmode.html
@@ -1,15 +1,15 @@
 <!DOCTYPE HTML>
 <html>
 <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
     <title>Mochitest for DOCTYPE parsing</title>
 
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=363883">Mozilla Bug 363883</a>
 
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/testing/mochitest/tests/test_MochiKit-MochiKit.html b/testing/mochitest/tests/test_MochiKit-MochiKit.html
--- a/testing/mochitest/tests/test_MochiKit-MochiKit.html
+++ b/testing/mochitest/tests/test_MochiKit-MochiKit.html
@@ -1,11 +1,11 @@
 <html>
 <head>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="../SimpleTest/SimpleTest.js"></script>        
     <link rel="stylesheet" type="text/css" href="../SimpleTest/test.css">
 </head>
 <body>
 
 <pre id="test">
 <script type="text/javascript">
     is( isUndefined(null), false, "null is not undefined" );
diff --git a/testing/mochitest/tests/test_sanity.html b/testing/mochitest/tests/test_sanity.html
--- a/testing/mochitest/tests/test_sanity.html
+++ b/testing/mochitest/tests/test_sanity.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for mochitest harness sanity</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=">Mozilla Bug </a>
 <p id="display">
   <input id="testKeyEvent1" onkeypress="press1 = true">
diff --git a/toolkit/components/alerts/test/test_alerts.html b/toolkit/components/alerts/test/test_alerts.html
--- a/toolkit/components/alerts/test/test_alerts.html
+++ b/toolkit/components/alerts/test/test_alerts.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Alerts Service</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script> 
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 
 Alerts service mochitest<br/>
 
diff --git a/toolkit/components/microformats/tests/test_Microformats.html b/toolkit/components/microformats/tests/test_Microformats.html
--- a/toolkit/components/microformats/tests/test_Microformats.html
+++ b/toolkit/components/microformats/tests/test_Microformats.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Testing Microformats.js</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
   <style type="text/css">
     /*vcards weee! */
     .floated div {
       float:left;
     }
diff --git a/toolkit/components/microformats/tests/test_Microformats_add.html b/toolkit/components/microformats/tests/test_Microformats_add.html
--- a/toolkit/components/microformats/tests/test_Microformats_add.html
+++ b/toolkit/components/microformats/tests/test_Microformats_add.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Testing Mixed Up Microformat APIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body id="contentbody">
 
   <!-- Parsing tests are well covered, we're going to do some data type stuff
        here -->
diff --git a/toolkit/components/microformats/tests/test_Microformats_adr.html b/toolkit/components/microformats/tests/test_Microformats_adr.html
--- a/toolkit/components/microformats/tests/test_Microformats_adr.html
+++ b/toolkit/components/microformats/tests/test_Microformats_adr.html
@@ -1,13 +1,13 @@
 <html>
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <title>Testing Microformats.js (adr)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body>
 <div id="content" style="display: none">
   <div class="adr" id="01-extended-address">
     <span class="extended-address">Park Bench</span>
diff --git a/toolkit/components/microformats/tests/test_Microformats_count.html b/toolkit/components/microformats/tests/test_Microformats_count.html
--- a/toolkit/components/microformats/tests/test_Microformats_count.html
+++ b/toolkit/components/microformats/tests/test_Microformats_count.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Testing Mixed Up Microformat APIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body id="contentbody">
   <!-- hCard -->
   <p class="vcard" id="23-abbr-title-everything">
 <!-- perhaps the most annoying test ever -->
diff --git a/toolkit/components/microformats/tests/test_Microformats_geo.html b/toolkit/components/microformats/tests/test_Microformats_geo.html
--- a/toolkit/components/microformats/tests/test_Microformats_geo.html
+++ b/toolkit/components/microformats/tests/test_Microformats_geo.html
@@ -1,13 +1,13 @@
 <html>
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <title>Testing Microformats.js (geo)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body>
 <div id="content" style="display: none">
 
     <span class="geo" id="01-geo-basic">
diff --git a/toolkit/components/microformats/tests/test_Microformats_getters.html b/toolkit/components/microformats/tests/test_Microformats_getters.html
--- a/toolkit/components/microformats/tests/test_Microformats_getters.html
+++ b/toolkit/components/microformats/tests/test_Microformats_getters.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Testing Mixed Up Microformat APIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body id="contentbody">
   <div id="content">
     <!-- hCard -->
     <p class="vcard" id="23-abbr-title-everything">
diff --git a/toolkit/components/microformats/tests/test_Microformats_hCalendar.html b/toolkit/components/microformats/tests/test_Microformats_hCalendar.html
--- a/toolkit/components/microformats/tests/test_Microformats_hCalendar.html
+++ b/toolkit/components/microformats/tests/test_Microformats_hCalendar.html
@@ -1,13 +1,13 @@
 <html>
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <title>Testing Microformats.js (hCalendar)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body>
 <div id="content" style="display: none">
 
   From http://hg.microformats.org/tests
diff --git a/toolkit/components/microformats/tests/test_Microformats_hCard.html b/toolkit/components/microformats/tests/test_Microformats_hCard.html
--- a/toolkit/components/microformats/tests/test_Microformats_hCard.html
+++ b/toolkit/components/microformats/tests/test_Microformats_hCard.html
@@ -1,13 +1,13 @@
 <html>
 <head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <title>Testing Microformats.js (hCard)</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body>
 <div id="content" style="display: none">
 
   From http://microformats.org/tests/hcard/
diff --git a/toolkit/components/microformats/tests/test_Microformats_negative.html b/toolkit/components/microformats/tests/test_Microformats_negative.html
--- a/toolkit/components/microformats/tests/test_Microformats_negative.html
+++ b/toolkit/components/microformats/tests/test_Microformats_negative.html
@@ -1,12 +1,12 @@
 <html>
 <head>
   <title>Testing Mixed Up Microformat APIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body id="contentbody">
   <div id="testhere">
     <!-- Frames -->
     <frameset>
diff --git a/toolkit/components/microformats/tests/test_framerecursion.html b/toolkit/components/microformats/tests/test_framerecursion.html
--- a/toolkit/components/microformats/tests/test_framerecursion.html
+++ b/toolkit/components/microformats/tests/test_framerecursion.html
@@ -1,15 +1,15 @@
 <!-- Demonstrates that we are always counting MF's in a <frame> tag, and NEVER
      counting MF's in an <iframe> regardless of what the "frame recursion" bit
      is set to. -->
 <html>
 <head>
   <title>Testing Mixed Up Microformat APIs</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css"></link>
 </head>
 <body id="contentbody">
 
   <frameset>
     <frame id="frame1">
diff --git a/toolkit/components/passwordmgr/test/test_0init.html b/toolkit/components/passwordmgr/test/test_0init.html
--- a/toolkit/components/passwordmgr/test/test_0init.html
+++ b/toolkit/components/passwordmgr/test/test_0init.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test initialization for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: initialization.
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_basic_form.html b/toolkit/components/passwordmgr/test/test_basic_form.html
--- a/toolkit/components/passwordmgr/test/test_basic_form.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: simple form fill
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_0pw.html b/toolkit/components/passwordmgr/test/test_basic_form_0pw.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_0pw.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_0pw.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms with no password fields
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_1pw.html b/toolkit/components/passwordmgr/test/test_basic_form_1pw.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_1pw.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_1pw.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms with 1 password field
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_1pw_2.html b/toolkit/components/passwordmgr/test/test_basic_form_1pw_2.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_1pw_2.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_1pw_2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms with 1 password field, part 2
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_2.html b/toolkit/components/passwordmgr/test/test_basic_form_2.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_2.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: simple form fill with autofillForms disabled
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_2pw_1.html b/toolkit/components/passwordmgr/test/test_basic_form_2pw_1.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_2pw_1.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_2pw_1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms with 2 password fields (upq uqp puq pqu qup qpu)
 
 <p id="display"></p>
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_2pw_2.html b/toolkit/components/passwordmgr/test/test_basic_form_2pw_2.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_2pw_2.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_2pw_2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: (placeholder)
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_3pw_1.html b/toolkit/components/passwordmgr/test/test_basic_form_3pw_1.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_3pw_1.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_3pw_1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms with 3 password fields (form filling)
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html b/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_autocomplete.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: multiple login autocomplete
 <p id="display"></p>
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_observer_autocomplete.html b/toolkit/components/passwordmgr/test/test_basic_form_observer_autocomplete.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_observer_autocomplete.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_observer_autocomplete.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: simple form with autocomplete off and notifying observers & normal form
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_observer_autofillForms.html b/toolkit/components/passwordmgr/test/test_basic_form_observer_autofillForms.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_observer_autofillForms.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_observer_autofillForms.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: simple form with autofillForms disabled and notifying observers
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_basic_form_pwonly.html b/toolkit/components/passwordmgr/test/test_basic_form_pwonly.html
--- a/toolkit/components/passwordmgr/test/test_basic_form_pwonly.html
+++ b/toolkit/components/passwordmgr/test/test_basic_form_pwonly.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: forms and logins without a username.
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_bug_227640.html b/toolkit/components/passwordmgr/test/test_bug_227640.html
--- a/toolkit/components/passwordmgr/test/test_bug_227640.html
+++ b/toolkit/components/passwordmgr/test/test_bug_227640.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 227640
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_bug_242956.html b/toolkit/components/passwordmgr/test/test_bug_242956.html
--- a/toolkit/components/passwordmgr/test/test_bug_242956.html
+++ b/toolkit/components/passwordmgr/test/test_bug_242956.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 242956
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_bug_360493_1.html b/toolkit/components/passwordmgr/test/test_bug_360493_1.html
--- a/toolkit/components/passwordmgr/test/test_bug_360493_1.html
+++ b/toolkit/components/passwordmgr/test/test_bug_360493_1.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 360493
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_bug_360493_2.html b/toolkit/components/passwordmgr/test/test_bug_360493_2.html
--- a/toolkit/components/passwordmgr/test/test_bug_360493_2.html
+++ b/toolkit/components/passwordmgr/test/test_bug_360493_2.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 360493
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_bug_391514.html b/toolkit/components/passwordmgr/test/test_bug_391514.html
--- a/toolkit/components/passwordmgr/test/test_bug_391514.html
+++ b/toolkit/components/passwordmgr/test/test_bug_391514.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 391514
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_bug_427033.html b/toolkit/components/passwordmgr/test/test_bug_427033.html
--- a/toolkit/components/passwordmgr/test/test_bug_427033.html
+++ b/toolkit/components/passwordmgr/test/test_bug_427033.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: form with JS submit action
 <p id="display"></p>
 
diff --git a/toolkit/components/passwordmgr/test/test_bug_444968.html b/toolkit/components/passwordmgr/test/test_bug_444968.html
--- a/toolkit/components/passwordmgr/test/test_bug_444968.html
+++ b/toolkit/components/passwordmgr/test/test_bug_444968.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: 444968
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/passwordmgr/test/test_notifications.html b/toolkit/components/passwordmgr/test/test_notifications.html
--- a/toolkit/components/passwordmgr/test/test_notifications.html
+++ b/toolkit/components/passwordmgr/test/test_notifications.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <script type="text/javascript" src="notification_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: notifications
 <p id="display"></p>
diff --git a/toolkit/components/passwordmgr/test/test_privbrowsing.html b/toolkit/components/passwordmgr/test/test_privbrowsing.html
--- a/toolkit/components/passwordmgr/test/test_privbrowsing.html
+++ b/toolkit/components/passwordmgr/test/test_privbrowsing.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=248970
 -->
 <head>
   <title>Test for Bug 248970</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="notification_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=248970">Mozilla Bug 248970</a>
 <p id="display"></p>
 <iframe id="iframe"></iframe>
diff --git a/toolkit/components/passwordmgr/test/test_prompt.html b/toolkit/components/passwordmgr/test/test_prompt.html
--- a/toolkit/components/passwordmgr/test/test_prompt.html
+++ b/toolkit/components/passwordmgr/test/test_prompt.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <script type="text/javascript" src="prompt_common.js"></script>
   <script type="text/javascript" src="notification_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: username/password prompts
diff --git a/toolkit/components/passwordmgr/test/test_xhr.html b/toolkit/components/passwordmgr/test/test_xhr.html
--- a/toolkit/components/passwordmgr/test/test_xhr.html
+++ b/toolkit/components/passwordmgr/test/test_xhr.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <script type="text/javascript" src="prompt_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: XHR prompt
 <p id="display"></p>
diff --git a/toolkit/components/passwordmgr/test/test_xml_load.html b/toolkit/components/passwordmgr/test/test_xml_load.html
--- a/toolkit/components/passwordmgr/test/test_xml_load.html
+++ b/toolkit/components/passwordmgr/test/test_xml_load.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <script type="text/javascript" src="prompt_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: XML prompt
 <p id="display"></p>
diff --git a/toolkit/components/passwordmgr/test/test_zzz_finish.html b/toolkit/components/passwordmgr/test/test_zzz_finish.html
--- a/toolkit/components/passwordmgr/test/test_zzz_finish.html
+++ b/toolkit/components/passwordmgr/test/test_zzz_finish.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test finalization for Login Manager</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>        
   <script type="text/javascript" src="pwmgr_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 Login Manager test: finalization.
 <p id="display"></p>
 <div id="content" style="display: none">
diff --git a/toolkit/components/places/tests/mochitest/test_bug_405924.html b/toolkit/components/places/tests/mochitest/test_bug_405924.html
--- a/toolkit/components/places/tests/mochitest/test_bug_405924.html
+++ b/toolkit/components/places/tests/mochitest/test_bug_405924.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
   <!--
     https://bugzilla.mozilla.org/show_bug.cgi?id=405924
   -->
   <head>
     <title>Test for Bug 405924</title>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <script type="text/javascript" src="prompt_common.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   </head>
   <body>
     <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=405924">
       Mozilla Bug 405924</a>
     <p id="display"></p>
diff --git a/toolkit/components/places/tests/mochitest/test_bug_411966.html b/toolkit/components/places/tests/mochitest/test_bug_411966.html
--- a/toolkit/components/places/tests/mochitest/test_bug_411966.html
+++ b/toolkit/components/places/tests/mochitest/test_bug_411966.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
   <!--
     https://bugzilla.mozilla.org/show_bug.cgi?id=411966
   -->
   <head>
     <title>Test for Bug 411966</title>
-    <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+    <script type="text/javascript" src="/MochiKit/packed.js"></script>
     <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
     <script type="text/javascript" src="bug_411966/redirect.js"></script>
     <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
   </head>
   <body>
     <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=411966">
       Mozilla Bug 411966</a>
     <p id="display"></p>
diff --git a/toolkit/components/places/tests/mochitest/test_bug_461710.html b/toolkit/components/places/tests/mochitest/test_bug_461710.html
--- a/toolkit/components/places/tests/mochitest/test_bug_461710.html
+++ b/toolkit/components/places/tests/mochitest/test_bug_461710.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=461710
 -->
 <head>
   <title>Test for Bug 461710</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=461710">Mozilla Bug 461710</a>
 <p id="display"></p>
 <iframe id="iframe"></iframe>
 <pre id="test">
diff --git a/toolkit/components/satchel/test/test_form_submission.html b/toolkit/components/satchel/test/test_form_submission.html
--- a/toolkit/components/satchel/test/test_form_submission.html
+++ b/toolkit/components/satchel/test/test_form_submission.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Satchel Test for Form Submisstion</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="satchel_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none">
   
diff --git a/toolkit/components/satchel/test/test_privbrowsing.html b/toolkit/components/satchel/test/test_privbrowsing.html
--- a/toolkit/components/satchel/test/test_privbrowsing.html
+++ b/toolkit/components/satchel/test/test_privbrowsing.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <!--
 https://bugzilla.mozilla.org/show_bug.cgi?id=472396
 -->
 <head>
   <title>Test for Bug 472396</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <script type="text/javascript" src="satchel_common.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=472396">Mozilla Bug 472396</a>
 <p id="display"></p>
 <iframe id="iframe"></iframe>
diff --git a/toolkit/components/url-classifier/tests/mochitest/test_classifier.html b/toolkit/components/url-classifier/tests/mochitest/test_classifier.html
--- a/toolkit/components/url-classifier/tests/mochitest/test_classifier.html
+++ b/toolkit/components/url-classifier/tests/mochitest/test_classifier.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test the URI Classifier</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doUpdate(testUpdate);">
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
 <pre id="test">
diff --git a/toolkit/components/url-classifier/tests/mochitest/test_classifier_worker.html b/toolkit/components/url-classifier/tests/mochitest/test_classifier_worker.html
--- a/toolkit/components/url-classifier/tests/mochitest/test_classifier_worker.html
+++ b/toolkit/components/url-classifier/tests/mochitest/test_classifier_worker.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Test the URI Classifier</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body onload="doUpdate(testUpdate);">
 <p id="display"></p>
 <div id="content" style="display: none">
 </div>
 <pre id="test">
diff --git a/toolkit/content/tests/widgets/test_videocontrols.html b/toolkit/content/tests/widgets/test_videocontrols.html
--- a/toolkit/content/tests/widgets/test_videocontrols.html
+++ b/toolkit/content/tests/widgets/test_videocontrols.html
@@ -1,13 +1,13 @@
 <!DOCTYPE HTML>
 <html>
 <head>
   <title>Video controls test</title>
-  <script type="text/javascript" src="/MochiKit/MochiKit.js"></script>
+  <script type="text/javascript" src="/MochiKit/packed.js"></script>
   <script type="text/javascript" src="/tests/SimpleTest/SimpleTest.js"></script>  
   <script type="text/javascript" src="/tests/SimpleTest/EventUtils.js"></script>
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 
 <div id="content">
