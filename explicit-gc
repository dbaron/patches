From: L. David Baron <dbaron@dbaron.org>

Explicitly gc.

diff --git a/dom/network/tests/test_network_basics.html b/dom/network/tests/test_network_basics.html
--- a/dom/network/tests/test_network_basics.html
+++ b/dom/network/tests/test_network_basics.html
@@ -37,12 +37,14 @@ ok('bandwidth' in navigator.mozConnectio
 is(navigator.mozConnection.bandwidth, Infinity,
    "By default connection.bandwidth is equals to Infinity");
 
 ok('metered' in navigator.mozConnection,
    "metered should be a Connection attribute");
 is(navigator.mozConnection.metered, false,
    "By default the connection is not metered");
 
+SpecialPowers.gc();
+
 </script>
 </pre>
 </body>
 </html>
diff --git a/toolkit/content/tests/chrome/bug451286_window.xul b/toolkit/content/tests/chrome/bug451286_window.xul
--- a/toolkit/content/tests/chrome/bug451286_window.xul
+++ b/toolkit/content/tests/chrome/bug451286_window.xul
@@ -25,16 +25,17 @@
 
     var imports = ["SimpleTest", "ok", "snapshotWindow", "compareSnapshots"];
     for each (var name in imports) {
       window[name] = window.opener.wrappedJSObject[name];
     }
 
     function finish() {
       window.close();
+      SpecialPowers.gc();
       SimpleTest.finish();
     }
 
     function startTest() {
       gFindBar = document.getElementById("FindToolbar");
       gBrowser = document.getElementById("content");
       gBrowser.addEventListener("pageshow", onPageShow, false);
 
