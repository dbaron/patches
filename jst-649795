# HG changeset patch
# User Johnny Stenback <jst@mozilla.com>
# Date 1303842998 25200
# Node ID 543d9d37ac76d7ae5929ba0715353af60ddc8870
# Parent  1594fc4ac379322cdb92e643aab5837ad1d969e1
Fix bug 649795. Crash when accessing mOwner which might not always be set.  r=bsmedberg

diff --git a/modules/plugin/base/src/nsPluginStreamListenerPeer.cpp b/modules/plugin/base/src/nsPluginStreamListenerPeer.cpp
--- a/modules/plugin/base/src/nsPluginStreamListenerPeer.cpp
+++ b/modules/plugin/base/src/nsPluginStreamListenerPeer.cpp
@@ -879,7 +879,7 @@ nsresult nsPluginStreamListenerPeer::Ser
       window->window = widget->GetNativeData(NS_NATIVE_PLUGIN_PORT);
     }
 #endif
-    mOwner->SetWindow();
+    owner->SetWindow();
   }
   
   mSeekable = PR_FALSE;
