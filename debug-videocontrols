From: L. David Baron <dbaron@dbaron.org>

Add some ok(true, ...) lines to debug bug 528001.

diff --git a/toolkit/content/tests/widgets/videocontrols_direction_test.js b/toolkit/content/tests/widgets/videocontrols_direction_test.js
--- a/toolkit/content/tests/widgets/videocontrols_direction_test.js
+++ b/toolkit/content/tests/widgets/videocontrols_direction_test.js
@@ -7,29 +7,34 @@ var RemoteCanvas = function(url, id) {
 RemoteCanvas.CANVAS_WIDTH = 200;
 RemoteCanvas.CANVAS_HEIGHT = 200;
 
 RemoteCanvas.prototype.compare = function(otherCanvas, expected) {
   return compareSnapshots(this.snapshot, otherCanvas.snapshot, expected)[0];
 }
 
 RemoteCanvas.prototype.load = function(callback) {
+  ok(true, "RemoteCanvas.prototype.load for " + this.id);
   var iframe = document.createElement("iframe");
   iframe.id = this.id + "-iframe";
   iframe.width = RemoteCanvas.CANVAS_WIDTH + "px";
   iframe.height = RemoteCanvas.CANVAS_HEIGHT + "px";
   iframe.src = this.url;
   var me = this;
   iframe.addEventListener("load", function() {
+    ok(true, "load event listener for " + me.id);
     var m = iframe.contentDocument.getElementById("av");
     m.addEventListener("suspend", function(aEvent) {
+      ok(true, "suspend event listener for " + me.id + " m.readyState=" + m.readyState + " m.HAVE_ENOUGH_DATA=" + m.HAVE_ENOUGH_DATA + " aEvent.loaded=" + aEvent.loaded + " aEvent.total=" + aEvent.total);
       if (m.readyState == m.HAVE_ENOUGH_DATA &&
           aEvent.loaded == aEvent.total) {
         m.removeEventListener("suspend", arguments.callee, false);
+        ok(true, "setting timeout for " + me.id);
         setTimeout(function() {
+          ok(true, "timeout for " + me.id);
           me.remotePageLoaded(callback);
         }, 0);
       }
     }, false);
     m.src = m.getAttribute("source");
   }, false);
   window.document.body.appendChild(iframe);
 };
