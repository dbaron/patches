From: L. David Baron <dbaron@dbaron.org>

Add test for cairo error when trying to draw zero width borders, even though it doesn't actually fail without the patch in the current reftest harness.  (Bug 618071)

diff --git a/layout/reftests/bugs/618071-notref.html b/layout/reftests/bugs/618071-notref.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/bugs/618071-notref.html
@@ -0,0 +1,15 @@
+<!DOCTYPE HTML>
+<html reftest-zoom="0.8">
+<title>Testcase, bug 618071</title>
+
+<select size="5">
+  <option id="one">one</option>
+  <option id="two">two</option>
+  <option id="three">three</option>
+  <option id="four">four</option>
+  <option id="five">five</option>
+</select>
+
+<script>
+document.getElementById("three").parentNode.focus();
+</script>
diff --git a/layout/reftests/bugs/618071.html b/layout/reftests/bugs/618071.html
new file mode 100644
--- /dev/null
+++ b/layout/reftests/bugs/618071.html
@@ -0,0 +1,17 @@
+<!DOCTYPE HTML>
+<html reftest-zoom="0.8">
+<title>Testcase, bug 618071</title>
+
+<select size="5">
+  <option id="one">one</option>
+  <option id="two">two</option>
+  <option id="three">three</option>
+  <option id="four">four</option>
+  <option id="five">five</option>
+</select>
+
+<span id="s" style="display: inline-block; background: blue; height: 50px; width: 50px; margin-left: -2.5em;"></span>
+
+<script>
+document.getElementById("three").parentNode.focus();
+</script>
diff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list
--- a/layout/reftests/bugs/reftest.list
+++ b/layout/reftests/bugs/reftest.list
@@ -1550,8 +1550,9 @@ fails-if(!haveTestPlugin) == 599476.html
 == 613433-2.html 613433-2-ref.html
 == 613433-2.html 613433-3-ref.html
 == 613433-3.html 613433-1-ref.html
 == 613433-3.html 613433-2-ref.html
 == 613433-3.html 613433-3-ref.html
 HTTP(..) == 615121-1.html 615121-1-ref.html
 HTTP(..) != 615121-2.html 615121-2-notref.html
 == 617242-1.html 617242-1-ref.html
+!= 618071.html 618071-notref.html
