From: L. David Baron <dbaron@dbaron.org>

Bug 1216431 patch 2 - Back out half of bug 1209603 patch 10.

This leaves the half related to inherited structs, since we can still
bail early for them even without mBits.

diff --git a/layout/style/nsStyleContext.h b/layout/style/nsStyleContext.h
--- a/layout/style/nsStyleContext.h
+++ b/layout/style/nsStyleContext.h
@@ -553,21 +553,16 @@ private:
     const nsStyle##name_ * DoGetStyle##name_() {                        \
       if (mCachedResetData) {                                           \
         const nsStyle##name_ * cachedData =                             \
           static_cast<nsStyle##name_*>(                                 \
             mCachedResetData->mStyleStructs[eStyleStruct_##name_]);     \
         if (cachedData) /* Have it cached already, yay */               \
           return cachedData;                                            \
       }                                                                 \
-      if (!aComputeData && !(mBits & NS_STYLE_INHERIT_BIT(name_))) {    \
-        /* When we compute reset structs, we either cache them on */    \
-        /* the style context or set the bit in mBits. */                \
-        return nullptr;                                                 \
-      }                                                                 \
       /* Have the rulenode deal */                                      \
       AUTO_CHECK_DEPENDENCY(eStyleStruct_##name_);                      \
       return mRuleNode->GetStyle##name_<aComputeData>(this, mBits);     \
     }
   #include "nsStyleStructList.h"
   #undef STYLE_STRUCT_RESET
   #undef STYLE_STRUCT_INHERITED
 
