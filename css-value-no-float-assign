Don't do floating point assignment from uninitialized data, since it can crash.

diff --git a/layout/style/nsCSSValue.cpp b/layout/style/nsCSSValue.cpp
--- a/layout/style/nsCSSValue.cpp
+++ b/layout/style/nsCSSValue.cpp
@@ -149,8 +149,10 @@ nsCSSValue::nsCSSValue(const nsCSSValue&
     mValue.mImage = aCopy.mValue.mImage;
     mValue.mImage->AddRef();
   }
-  else {
+  else if (eCSSUnit_Percent <= aUnit) {
     mValue.mFloat = aCopy.mValue.mFloat;
+  } else {
+    NS_ASSERTION(aUnit <= eCSSUnit_Dummy, "not a valueless unit");
   }
 }
 
@@ -166,7 +168,7 @@ PRBool nsCSSValue::operator==(const nsCS
 PRBool nsCSSValue::operator==(const nsCSSValue& aOther) const
 {
   if (mUnit == aOther.mUnit) {
-    if (mUnit <= eCSSUnit_System_Font) {
+    if (mUnit <= eCSSUnit_Dummy) {
       return PR_TRUE;
     }
     else if ((eCSSUnit_String <= mUnit) && (mUnit <= eCSSUnit_Attr)) {
diff --git a/layout/style/nsCSSValue.h b/layout/style/nsCSSValue.h
--- a/layout/style/nsCSSValue.h
+++ b/layout/style/nsCSSValue.h
@@ -138,7 +138,7 @@ public:
   explicit nsCSSValue(nsCSSUnit aUnit = eCSSUnit_Null)
     : mUnit(aUnit)
   {
-    NS_ASSERTION(aUnit <= eCSSUnit_System_Font, "not a valueless unit");
+    NS_ASSERTION(aUnit <= eCSSUnit_Dummy, "not a valueless unit");
   }
 
   nsCSSValue(PRInt32 aValue, nsCSSUnit aUnit) NS_HIDDEN;
