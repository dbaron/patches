From: L. David Baron <dbaron@dbaron.org>

Make css::Declaration::List more useful again, given that it degraded a bit in bug 978833 (/ bug 1221436).

diff --git a/layout/style/Declaration.cpp b/layout/style/Declaration.cpp
--- a/layout/style/Declaration.cpp
+++ b/layout/style/Declaration.cpp
@@ -1464,16 +1464,23 @@ Declaration::ToString(nsAString& aString
     aString.Truncate(aString.Length() - 1);
   }
 }
 
 #ifdef DEBUG
 /* virtual */ void
 Declaration::List(FILE* out, int32_t aIndent) const
 {
+  Rule* owningRule = GetOwningRule();
+  if (owningRule) {
+    // More useful to print the selector and sheet URI too.
+    owningRule->List(out, aIndent);
+    return;
+  }
+
   nsAutoCString str;
   for (int32_t index = aIndent; --index >= 0; ) {
     str.AppendLiteral("  ");
   }
 
   str.AppendLiteral("{ ");
   nsAutoString s;
   ToString(s);
