Make boxes that have non-box non-block children wrap all their children in a block.  b=321402

diff --git a/layout/xul/base/src/nsBoxFrame.cpp b/layout/xul/base/src/nsBoxFrame.cpp
--- a/layout/xul/base/src/nsBoxFrame.cpp
+++ b/layout/xul/base/src/nsBoxFrame.cpp
@@ -1036,8 +1036,12 @@ nsBoxFrame::InsertFrames(nsIAtom*       
    NS_PRECONDITION(!aListName, "We don't support out-of-flow kids");
    nsBoxLayoutState state(PresContext());
 
+   // XXX CHECK THE FRAMES FOR THINGS THAT REQUIRE BLOCK-WRAPPING
+
    // insert the child frames
    mFrames.InsertFrames(this, aPrevFrame, aFrameList);
+
+   // XXX IF BLOCK_WRAPPING NEEDED, DO IT HERE
 
    // notify the layout manager
    if (mLayoutManager)
@@ -1063,8 +1067,12 @@ nsBoxFrame::AppendFrames(nsIAtom*       
    NS_PRECONDITION(!aListName, "We don't support out-of-flow kids");
    nsBoxLayoutState state(PresContext());
 
+   // XXX CHECK THE FRAMES FOR THINGS THAT REQUIRE BLOCK-WRAPPING
+
    // append the new frames
    mFrames.AppendFrames(this, aFrameList);
+
+   // XXX IF BLOCK_WRAPPING NEEDED, DO IT HERE
 
    // notify the layout manager
    if (mLayoutManager)
diff --git a/layout/xul/base/src/nsBoxFrame.h b/layout/xul/base/src/nsBoxFrame.h
--- a/layout/xul/base/src/nsBoxFrame.h
+++ b/layout/xul/base/src/nsBoxFrame.h
@@ -55,12 +55,12 @@ class nsBoxLayoutState;
 #define NS_STATE_STACK_NOT_POSITIONED    0x00200000
 //#define NS_STATE_IS_HORIZONTAL           0x00400000  moved to nsIFrame.h
 #define NS_STATE_AUTO_STRETCH            0x00800000
-//#define NS_STATE_IS_ROOT                 0x01000000  moved to nsIFrame.h
+//#define NS_STATE_IS_ROOT                 0x01000000  moved to nsBox.h
 #define NS_STATE_CURRENTLY_IN_DEBUG      0x02000000
-//#define NS_STATE_SET_TO_DEBUG            0x04000000  moved to nsIFrame.h
-//#define NS_STATE_DEBUG_WAS_SET           0x08000000  moved to nsIFrame.h
+//#define NS_STATE_SET_TO_DEBUG            0x04000000  moved to nsBox.h
+//#define NS_STATE_DEBUG_WAS_SET           0x08000000  moved to nsBox.h
 #define NS_STATE_IS_COLLAPSED            0x10000000
-//#define NS_STATE_STYLE_CHANGE            0x20000000  moved to nsIFrame.h
+#define NS_STATE_BOX_WRAPS_KIDS_IN_BLOCK 0x20000000
 #define NS_STATE_EQUAL_SIZE              0x40000000
 //#define NS_STATE_IS_DIRECTION_NORMAL     0x80000000  moved to nsIFrame.h
 
@@ -133,6 +133,9 @@ public:
 
   NS_IMETHOD  RemoveFrame(nsIAtom*        aListName,
                           nsIFrame*       aOldFrame);
+
+  // FIXME: Implement GetContentInsertionFrame to check
+  // NS_STATE_BOX_WRAPS_KIDS_IN_BLOCK
 
   NS_IMETHOD  SetInitialChildList(nsIAtom*        aListName,
                                   nsIFrame*       aChildList);
