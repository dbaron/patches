Some more grid reftests, plus some code comments, from work on 413027.

diff --git a/layout/xul/base/src/grid/nsGrid.h b/layout/xul/base/src/grid/nsGrid.h
--- a/layout/xul/base/src/grid/nsGrid.h
+++ b/layout/xul/base/src/grid/nsGrid.h
@@ -67,6 +67,15 @@ public:
 
   void NeedsRebuild(nsBoxLayoutState& aBoxLayoutState);
   void RebuildIfNeeded();
+
+  // For all the methods taking an aIsHorizontal parameter:
+  // * When aIsHorizontal is true, the words "rows" and (for
+  //   GetColumnCount) "columns" refer to their normal meanings.
+  // * When aIsHorizontal is false, the meanings are flipped.
+  // FIXME:  Maybe eliminate GetColumnCount and change aIsHorizontal to
+  // aIsRows?  (Calling it horizontal doesn't really make sense because
+  // row groups and columns have vertical orientation, whereas column
+  // groups and rows are horizontal.)
 
   nsSize GetPrefRowSize(nsBoxLayoutState& aBoxLayoutState, PRInt32 aRowIndex, PRBool aIsHorizontal = PR_TRUE);
   nsSize GetMinRowSize(nsBoxLayoutState& aBoxLayoutState, PRInt32 aRowIndex, PRBool aIsHorizontal = PR_TRUE);
diff --git a/layout/xul/base/src/grid/reftests/reftest.list b/layout/xul/base/src/grid/reftests/reftest.list
--- a/layout/xul/base/src/grid/reftests/reftest.list
+++ b/layout/xul/base/src/grid/reftests/reftest.list
@@ -15,3 +15,4 @@
 == not-full-row-leaf-direction.xul not-full-row-leaf-pack-ref.xhtml
 == scrollable-columns.xul scrollable-columns-ref.xhtml
 fails == scrollable-rows.xul scrollable-rows-ref.xhtml
+== sizing-2d.xul sizing-2d-ref.xul
diff --git a/layout/xul/base/src/grid/reftests/sizing-2d-ref.xul b/layout/xul/base/src/grid/reftests/sizing-2d-ref.xul
new file mode 100644
--- /dev/null
+++ b/layout/xul/base/src/grid/reftests/sizing-2d-ref.xul
@@ -0,0 +1,12 @@
+<?xml version="1.0"?>
+<!DOCTYPE window>
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
+  <hbox>
+    <box style="background:aqua; width: 50px; height: 100px" />
+    <box style="background:fuchsia; width: 100px; height: 100px" />
+  </hbox>
+  <hbox>
+    <box style="background:yellow; width: 50px; height: 75px" />
+    <box style="background:blue; width: 100px; height: 75px" />
+  </hbox>
+</window>
diff --git a/layout/xul/base/src/grid/reftests/sizing-2d.xul b/layout/xul/base/src/grid/reftests/sizing-2d.xul
new file mode 100644
--- /dev/null
+++ b/layout/xul/base/src/grid/reftests/sizing-2d.xul
@@ -0,0 +1,26 @@
+<?xml version="1.0"?>
+<!DOCTYPE window>
+<window xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" align="start">
+  <grid>
+    <rows>
+      <row>
+        <box style="width: 25px; height: 25px" />
+        <box />
+      </row>
+      <row>
+        <box />
+        <box style="width: 75px; height: 75px" />
+      </row>
+    </rows>
+    <columns>
+      <column>
+        <box style="background: aqua" />
+        <box style="background: yellow; width: 50px; height: 50px" />
+      </column>
+      <column>
+        <box style="background: fuchsia; width: 100px; height: 100px" />
+        <box style="background: blue" />
+      </column>
+    </columns>
+  </grid>
+</window>
