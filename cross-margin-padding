Fix bug under some valid types of optimization where we cross margin and padding.  b=420069  r+sr=roc  a1.9b4=damons

diff --git a/layout/generic/nsContainerFrame.cpp b/layout/generic/nsContainerFrame.cpp
--- a/layout/generic/nsContainerFrame.cpp
+++ b/layout/generic/nsContainerFrame.cpp
@@ -655,16 +655,16 @@ nsContainerFrame::DoInlineIntrinsicWidth
   const nsStylePadding *stylePadding = GetStylePadding();
   const nsStyleBorder *styleBorder = GetStyleBorder();
   const nsStyleMargin *styleMargin = GetStyleMargin();
-  nsStyleCoord tmp;
+  nsStyleCoord marginCoord, paddingCoord;
 
   // This goes at the beginning no matter how things are broken and how
   // messy the bidi situations are, since per CSS2.1 section 8.6
   // (implemented in bug 328168), the startSide border is always on the
   // first line.
   aData->currentLine +=
-    GetCoord(stylePadding->mPadding.Get(startSide, tmp), 0) +
+    GetCoord(stylePadding->mPadding.Get(startSide, paddingCoord), 0) +
     styleBorder->GetBorderWidth(startSide) +
-    GetCoord(styleMargin->mMargin.Get(startSide, tmp), 0);
+    GetCoord(styleMargin->mMargin.Get(startSide, marginCoord), 0);
 
   const nsLineList_iterator* savedLine = aData->line;
 
@@ -692,9 +692,9 @@ nsContainerFrame::DoInlineIntrinsicWidth
   // (implemented in bug 328168), the endSide border is always on the
   // last line.
   aData->currentLine +=
-    GetCoord(stylePadding->mPadding.Get(endSide, tmp), 0) +
+    GetCoord(stylePadding->mPadding.Get(endSide, paddingCoord), 0) +
     styleBorder->GetBorderWidth(endSide) +
-    GetCoord(styleMargin->mMargin.Get(endSide, tmp), 0);
+    GetCoord(styleMargin->mMargin.Get(endSide, marginCoord), 0);
 }
 
 /* virtual */ nsSize
