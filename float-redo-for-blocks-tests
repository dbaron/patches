From: L. David Baron <dbaron@dbaron.org>

Add tests for bug 25888 for blocks.

diff --git a/layout/reftests/bugs/25888-1l.html b/layout/reftests/bugs/25888-1l-block.html
copy from layout/reftests/bugs/25888-1l.html
copy to layout/reftests/bugs/25888-1l-block.html
--- a/layout/reftests/bugs/25888-1l.html
+++ b/layout/reftests/bugs/25888-1l-block.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
-body { width: 400px; border: medium solid; text-align: left; }
+body { width: 400px; border: medium solid; }
 div { float: left; clear: left; }
-span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 200px; height: 50px; background: aqua; margin-right: auto; }
 
 </style>
 </head>
 <body>
 
 <div style="width: 50px; height: 75px;"></div>
 <div style="width: 100px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/25888-1r.html b/layout/reftests/bugs/25888-1r-block.html
copy from layout/reftests/bugs/25888-1r.html
copy to layout/reftests/bugs/25888-1r-block.html
--- a/layout/reftests/bugs/25888-1r.html
+++ b/layout/reftests/bugs/25888-1r-block.html
@@ -1,17 +1,17 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
-body { width: 400px; border: medium solid; text-align: right; }
+body { width: 400px; border: medium solid; }
 div { float: right; clear: right; }
-span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 200px; height: 50px; background: aqua; margin-left: auto; }
 
 </style>
 </head>
 <body>
 
 <div style="width: 50px; height: 75px;"></div>
 <div style="width: 100px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/25888-2l.html b/layout/reftests/bugs/25888-2l-block.html
copy from layout/reftests/bugs/25888-2l.html
copy to layout/reftests/bugs/25888-2l-block.html
--- a/layout/reftests/bugs/25888-2l.html
+++ b/layout/reftests/bugs/25888-2l-block.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
 body { width: 400px; border: medium solid; }
-span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 200px; height: 50px; background: aqua; }
 
 </style>
 </head>
 <body>
 
 <div style="float: left; width: 150px; height: 75px;"></div>
 <div style="float: right; width: 300px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/25888-2r.html b/layout/reftests/bugs/25888-2r-block.html
copy from layout/reftests/bugs/25888-2r.html
copy to layout/reftests/bugs/25888-2r-block.html
--- a/layout/reftests/bugs/25888-2r.html
+++ b/layout/reftests/bugs/25888-2r-block.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
 body { width: 400px; border: medium solid; }
-span { display: inline-block; vertical-align: top; width: 200px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 200px; height: 50px; background: aqua; }
 
 </style>
 </head>
 <body>
 
 <div style="float: right; width: 150px; height: 75px;"></div>
 <div style="float: left; width: 300px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/25888-3l.html b/layout/reftests/bugs/25888-3l-block.html
copy from layout/reftests/bugs/25888-3l.html
copy to layout/reftests/bugs/25888-3l-block.html
--- a/layout/reftests/bugs/25888-3l.html
+++ b/layout/reftests/bugs/25888-3l-block.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
 body { width: 400px; border: medium solid; }
-span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 100px; height: 50px; background: aqua; }
 
 </style>
 </head>
 <body>
 
 <div style="float: left; width: 250px; height: 75px;"></div>
 <div style="float: right; width: 250px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/25888-3r.html b/layout/reftests/bugs/25888-3r-block.html
copy from layout/reftests/bugs/25888-3r.html
copy to layout/reftests/bugs/25888-3r-block.html
--- a/layout/reftests/bugs/25888-3r.html
+++ b/layout/reftests/bugs/25888-3r-block.html
@@ -1,16 +1,16 @@
 <!DOCTYPE HTML>
 <html>
 <head>
 <title>Testcase, bug 25888</title>
 <style type="text/css">
 
 body { width: 400px; border: medium solid; }
-span { display: inline-block; vertical-align: top; width: 100px; height: 50px; background: aqua; }
+span { display: block; overflow: hidden; width: 100px; height: 50px; background: aqua; }
 
 </style>
 </head>
 <body>
 
 <div style="float: right; width: 250px; height: 75px;"></div>
 <div style="float: left; width: 250px; height: 75px;"></div>
 <span></span>
diff --git a/layout/reftests/bugs/reftest.list b/layout/reftests/bugs/reftest.list
--- a/layout/reftests/bugs/reftest.list
+++ b/layout/reftests/bugs/reftest.list
@@ -39,16 +39,24 @@
 == 25888-1l.html 25888-1l-ref.html
 != 25888-1l.html 25888-1l-notref.html
 == 25888-1r.html 25888-1r-ref.html
 != 25888-1r.html 25888-1r-notref.html
 == 25888-2l.html 25888-2l-ref.html
 == 25888-2r.html 25888-2r-ref.html
 == 25888-3l.html 25888-3l-ref.html
 == 25888-3r.html 25888-3r-ref.html
+fails == 25888-1l-block.html 25888-1l-ref.html # Bug 25888
+fails != 25888-1l-block.html 25888-1l-notref.html # Bug 25888
+fails == 25888-1r-block.html 25888-1r-ref.html # Bug 25888
+fails != 25888-1r-block.html 25888-1r-notref.html # Bug 25888
+fails == 25888-2l-block.html 25888-2l-ref.html # Bug 25888
+fails == 25888-2r-block.html 25888-2r-ref.html # Bug 25888
+fails == 25888-3l-block.html 25888-3l-ref.html # Bug 25888
+fails == 25888-3r-block.html 25888-3r-ref.html # Bug 25888
 == 28811-1a.html 28811-1-ref.html
 == 28811-1b.html 28811-1-ref.html
 == 28811-2a.html 28811-2-ref.html
 == 28811-2b.html 28811-2-ref.html
 == 40596-1a.html 40596-1-ref.html
 != 40596-1b.html 40596-1-ref.html
 == 40596-1c.html 40596-1-ref.html
 != 40596-1d.html 40596-1-ref.html
