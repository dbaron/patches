Bustage fix for bug 391848.

diff --git a/xpcom/base/nsStackWalk.cpp b/xpcom/base/nsStackWalk.cpp
--- a/xpcom/base/nsStackWalk.cpp
+++ b/xpcom/base/nsStackWalk.cpp
@@ -710,8 +710,18 @@ NS_StackWalk(NS_WalkStackCallback aCallb
     return NS_OK;
 }
 
-
-static BOOL CALLBACK callbackEspecial(
+extern "C" {
+
+static BOOL CALLBACK callbackEspecial(LPSTR aModuleName, DWORD aModuleBase,
+                                      ULONG aModuleSize, PVOID aUserContext);
+
+static BOOL CALLBACK callbackEspecial64(PTSTR aModuleName, DWORD64 aModuleBase,
+                                        ULONG aModuleSize, PVOID aUserContext);
+
+};
+
+
+BOOL CALLBACK callbackEspecial(
   LPSTR aModuleName,
   DWORD aModuleBase,
   ULONG aModuleSize,
@@ -742,7 +752,7 @@ static BOOL CALLBACK callbackEspecial(
     return retval;
 }
 
-static BOOL CALLBACK callbackEspecial64(
+BOOL CALLBACK callbackEspecial64(
   PTSTR aModuleName,
   DWORD64 aModuleBase,
   ULONG aModuleSize,
