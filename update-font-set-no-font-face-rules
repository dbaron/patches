From: L. David Baron <dbaron@dbaron.org>

Bug NNNNNNN - Properly update font face set when going from having @font-face rules to not having them.

diff --git a/dom/base/nsDocument.cpp b/dom/base/nsDocument.cpp
--- a/dom/base/nsDocument.cpp
+++ b/dom/base/nsDocument.cpp
@@ -12787,16 +12787,17 @@ nsIDocument::FlushUserFontSet()
   if (mFontFaceSetDirty) {
     if (gfxPlatform::GetPlatform()->DownloadableFontsEnabled()) {
       nsTArray<nsFontFaceRuleContainer> rules;
       nsIPresShell* shell = GetShell();
       if (shell) {
         // XXXheycam ServoStyleSets don't support exposing @font-face rules yet.
         if (shell->StyleSet()->IsGecko()) {
           if (!shell->StyleSet()->AsGecko()->AppendFontFaceRules(rules)) {
+            // FIXME: What if it had rules before?
             return;
           }
         } else {
           NS_WARNING("stylo: ServoStyleSets cannot handle @font-face rules yet. "
                      "See bug 1290237.");
         }
       }
 
