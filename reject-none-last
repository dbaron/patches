From: L. David Baron <dbaron@dbaron.org>

Reject 'none' as the last item in a transition shorthand if it isn't the first.

FIXME: Add and test tests.

diff --git a/layout/style/nsCSSParser.cpp b/layout/style/nsCSSParser.cpp
--- a/layout/style/nsCSSParser.cpp
+++ b/layout/style/nsCSSParser.cpp
@@ -15325,16 +15325,17 @@ CSSParserImpl::ParseTransition()
         nsDependentString str(val.GetStringBufferValue());
         if (str.EqualsLiteral("inherit") ||
             str.EqualsLiteral("initial") ||
             (str.EqualsLiteral("unset") &&
              nsLayoutUtils::UnsetValueEnabled())) {
           return false;
         }
       }
+      multipleItems = true;
     } while ((l = l->mNext));
   }
 
   // Save all parsed transition sub-properties in mTempData
   for (uint32_t i = 0; i < numProps; ++i) {
     AppendValue(kTransitionProperties[i], values[i]);
   }
   return true;
