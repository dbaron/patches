From: L. David Baron <dbaron@dbaron.org>

Bug 1121738 - Ruby base container frames should not support CSS transforms.  r=xidorn

Following bug 1055667 patch 5, nsRubyBaseContainerFrame is the only ruby
frame type with this bug.  It should not support CSS transforms given
the spec wording in
http://dev.w3.org/csswg/css-transforms/#transformable-element

diff --git a/layout/generic/nsRubyBaseContainerFrame.cpp b/layout/generic/nsRubyBaseContainerFrame.cpp
--- a/layout/generic/nsRubyBaseContainerFrame.cpp
+++ b/layout/generic/nsRubyBaseContainerFrame.cpp
@@ -260,17 +260,20 @@ nsRubyBaseContainerFrame::AddInlinePrefI
     }
   }
   aData->currentLine += sum;
 }
 
 /* virtual */ bool 
 nsRubyBaseContainerFrame::IsFrameOfType(uint32_t aFlags) const 
 {
-  return nsContainerFrame::IsFrameOfType(aFlags & 
+  if (aFlags & eSupportsCSSTransforms) {
+    return false;
+  }
+  return nsContainerFrame::IsFrameOfType(aFlags &
          ~(nsIFrame::eLineParticipant));
 }
 
 void
 nsRubyBaseContainerFrame::GetTextContainers(TextContainerArray& aTextContainers)
 {
   MOZ_ASSERT(aTextContainers.IsEmpty());
   for (RubyTextContainerIterator iter(this); !iter.AtEnd(); iter.Next()) {
