Clean up GetWidthInfo.

diff --git a/layout/tables/BasicTableLayoutStrategy.cpp b/layout/tables/BasicTableLayoutStrategy.cpp
--- a/layout/tables/BasicTableLayoutStrategy.cpp
+++ b/layout/tables/BasicTableLayoutStrategy.cpp
@@ -100,12 +100,10 @@ struct CellWidthInfo {
 };
 
 // Used for both column and cell calculations.  The parts needed only
-// for cells are skipped when aCellFrame is null.
+// for cells are skipped when aIsCell is false.
 static CellWidthInfo
 GetWidthInfo(nsIRenderingContext *aRenderingContext,
-             nsIFrame *aFrame,
-             PRBool aIsCell,
-             const nsStylePosition *aStylePos)
+             nsIFrame *aFrame, PRBool aIsCell)
 {
     nscoord minCoord, prefCoord;
     if (aIsCell) {
@@ -120,15 +118,16 @@ GetWidthInfo(nsIRenderingContext *aRende
 
     // XXXldb Should we consider -moz-box-sizing?
 
-    nsStyleUnit unit = aStylePos->mWidth.GetUnit();
+    const nsStylePosition *stylePos = aFrame->GetStylePosition();
+    nsStyleUnit unit = stylePos->mWidth.GetUnit();
     if (unit == eStyleUnit_Coord || unit == eStyleUnit_Chars) {
         hasSpecifiedWidth = PR_TRUE;
         nscoord w = nsLayoutUtils::ComputeWidthValue(aRenderingContext,
-                      aFrame, 0, 0, 0, aStylePos->mWidth);
+                      aFrame, 0, 0, 0, stylePos->mWidth);
         // Quirk: A cell with "nowrap" set and a coord value for the
         // width which is bigger than the intrinsic minimum width uses
         // that coord value as the minimum width.
-        // This is kept up-to-date with dynamic chnages to nowrap by code in
+        // This is kept up-to-date with dynamic changes to nowrap by code in
         // nsTableCellFrame::AttributeChanged
         if (aIsCell && w > minCoord &&
             aFrame->PresContext()->CompatibilityMode() ==
@@ -139,9 +138,9 @@ GetWidthInfo(nsIRenderingContext *aRende
         }
         prefCoord = PR_MAX(w, minCoord);
     } else if (unit == eStyleUnit_Percent) {
-        prefPercent = aStylePos->mWidth.GetPercentValue();
+        prefPercent = stylePos->mWidth.GetPercentValue();
     } else if (unit == eStyleUnit_Enumerated && aIsCell) {
-        switch (aStylePos->mWidth.GetIntValue()) {
+        switch (stylePos->mWidth.GetIntValue()) {
             case NS_STYLE_WIDTH_MAX_CONTENT:
                 // 'width' only affects pref width, not min
                 // width, so don't change anything
@@ -158,7 +157,7 @@ GetWidthInfo(nsIRenderingContext *aRende
         }
     }
 
-    nsStyleCoord maxWidth(aStylePos->mMaxWidth);
+    nsStyleCoord maxWidth(stylePos->mMaxWidth);
     if (maxWidth.GetUnit() == eStyleUnit_Enumerated) {
         if (!aIsCell || maxWidth.GetIntValue() == NS_STYLE_WIDTH_AVAILABLE)
             maxWidth.SetNoneValue();
@@ -181,12 +180,12 @@ GetWidthInfo(nsIRenderingContext *aRende
         if (w < prefCoord)
             prefCoord = w;
     } else if (unit == eStyleUnit_Percent) {
-        float p = aStylePos->mMaxWidth.GetPercentValue();
+        float p = stylePos->mMaxWidth.GetPercentValue();
         if (p < prefPercent)
             prefPercent = p;
     }
 
-    nsStyleCoord minWidth(aStylePos->mMinWidth);
+    nsStyleCoord minWidth(stylePos->mMinWidth);
     if (minWidth.GetUnit() == eStyleUnit_Enumerated) {
         if (!aIsCell || minWidth.GetIntValue() == NS_STYLE_WIDTH_AVAILABLE)
             minWidth.SetCoordValue(0);
@@ -207,7 +206,7 @@ GetWidthInfo(nsIRenderingContext *aRende
         if (w > prefCoord)
             prefCoord = w;
     } else if (unit == eStyleUnit_Percent) {
-        float p = aStylePos->mMinWidth.GetPercentValue();
+        float p = stylePos->mMinWidth.GetPercentValue();
         if (p > prefPercent)
             prefPercent = p;
     }
@@ -229,16 +228,14 @@ GetCellWidthInfo(nsIRenderingContext *aR
 GetCellWidthInfo(nsIRenderingContext *aRenderingContext,
                  nsTableCellFrame *aCellFrame)
 {
-    return GetWidthInfo(aRenderingContext, aCellFrame, PR_TRUE,
-                        aCellFrame->GetStylePosition());
+    return GetWidthInfo(aRenderingContext, aCellFrame, PR_TRUE);
 }
 
 static inline CellWidthInfo
 GetColWidthInfo(nsIRenderingContext *aRenderingContext,
                 nsIFrame *aFrame)
 {
-    return GetWidthInfo(aRenderingContext, aFrame, PR_FALSE,
-                        aFrame->GetStylePosition());
+    return GetWidthInfo(aRenderingContext, aFrame, PR_FALSE);
 }
 
 
