From: L. David Baron <dbaron@dbaron.org>

Make animation logging report to the error console instead of stderr.

This addresses roc's comments in bug 780342.

diff --git a/layout/style/AnimationCommon.cpp b/layout/style/AnimationCommon.cpp
--- a/layout/style/AnimationCommon.cpp
+++ b/layout/style/AnimationCommon.cpp
@@ -22,17 +22,18 @@
 #include "FrameLayerBuilder.h"
 #include "nsDisplayList.h"
 #include "mozilla/MemoryReporting.h"
 #include "mozilla/dom/KeyframeEffect.h"
 #include "RestyleManager.h"
 #include "nsRuleProcessorData.h"
 #include "nsStyleSet.h"
 #include "nsStyleChangeList.h"
-
+#include "nsContentUtils.h"
+#include "nsIScriptError.h"
 
 using mozilla::layers::Layer;
 using mozilla::dom::Animation;
 using mozilla::dom::KeyframeEffectReadOnly;
 
 namespace mozilla {
 
 /* static */ bool
@@ -801,16 +802,21 @@ AnimationCollection::LogAsyncAnimationFa
     nsIAtom* id = aContent->GetID();
     if (id) {
       aMessage.AppendLiteral(" with id '");
       aMessage.Append(nsAtomCString(aContent->GetID()));
       aMessage.Append('\'');
     }
     aMessage.Append(']');
   }
+
+  nsContentUtils::ReportToConsoleNonLocalized(NS_ConvertUTF8toUTF16(message),
+    nsIScriptError::warningFlag, NS_LITERAL_CSTRING("CSS Animations"),
+    aContent->OwnerDoc());
+
   aMessage.Append('\n');
   printf_stderr("%s", aMessage.get());
 }
 
 /*static*/ void
 AnimationCollection::PropertyDtor(void *aObject, nsIAtom *aPropertyName,
                                   void *aPropertyValue, void *aData)
 {
