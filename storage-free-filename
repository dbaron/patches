Free mFilename in error case.

diff --git a/storage/src/mozStorageAsyncIO.cpp b/storage/src/mozStorageAsyncIO.cpp
--- a/storage/src/mozStorageAsyncIO.cpp
+++ b/storage/src/mozStorageAsyncIO.cpp
@@ -843,6 +843,7 @@ AsyncOpenExclusive(const char* aName, Os
   rc = AppendNewAsyncMessage(osfile, ASYNC_OPENEXCLUSIVE, aDelFlag,
                              PL_strlen(aName) + 1, aName);
   if (rc != SQLITE_OK) {
+    delete osfile->mFilename;
     nsMemory::Free(osfile);
     osfile = nsnull;
   }
@@ -1413,8 +1414,7 @@ ProcessOneMessage(AsyncMessage* aMessage
       // two handles matters here)
       sqliteOrigClose(&aMessage->mFile->mBaseWrite);
       sqliteOrigClose(&aMessage->mFile->mBaseRead);
-      if (aMessage->mFile->mFilename)
-        delete aMessage->mFile->mFilename;
+      delete aMessage->mFile->mFilename;
       nsMemory::Free(aMessage->mFile);
       aMessage->mFile = nsnull;
       break;
