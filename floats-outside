Fix tests to match what they should have been testing, and fix nsFloatManager behavior to match what the old code actually did as far as considering floats at the side that did not protrude into the containing block.  (Bug 472252)

diff --git a/layout/reftests/floats/other-float-outside-rule-3-left-ref.html b/layout/reftests/floats/other-float-outside-rule-3-left-ref.html
--- a/layout/reftests/floats/other-float-outside-rule-3-left-ref.html
+++ b/layout/reftests/floats/other-float-outside-rule-3-left-ref.html
@@ -1,6 +1,6 @@
 <!DOCTYPE HTML>
 <title>Test for float placement around other float in BFC but outside containing block</title>
 
 <div style="float: left; width: 500px; height: 500px">
-  <div style="height: 10px; background: blue"></div>
+  <div style="width: 425px; height: 10px; background: blue"></div>
 </div>
diff --git a/layout/reftests/floats/other-float-outside-rule-3-left.html b/layout/reftests/floats/other-float-outside-rule-3-left.html
--- a/layout/reftests/floats/other-float-outside-rule-3-left.html
+++ b/layout/reftests/floats/other-float-outside-rule-3-left.html
@@ -8,17 +8,17 @@
     of the left outer edge of any right-floating box that is to the
     right of it. Analogous rules hold for right-floating elements. 
 
  -->
 
 <!-- the block formatting context inside which we're testing -->
 <div style="float: left; width: 500px; height: 500px">
 
-  <div style="float: right: width: 50px; height: 300px"></div>
+  <div style="float: right; width: 50px; height: 300px"></div>
 
   <div style="margin-right: 100px"> <!-- 400px wide -->
 
     <!-- we're testing the position of this float -->
     <div style="float: left; width: 425px; height: 10px; background: blue"></div>
 
   </div>
 
diff --git a/layout/reftests/floats/other-float-outside-rule-3-right-ref.html b/layout/reftests/floats/other-float-outside-rule-3-right-ref.html
--- a/layout/reftests/floats/other-float-outside-rule-3-right-ref.html
+++ b/layout/reftests/floats/other-float-outside-rule-3-right-ref.html
@@ -1,5 +1,5 @@
 <!DOCTYPE HTML>
 <title>Test for float placement around other float in BFC but outside containing block</title>
 <div style="float: left; width: 500px; height: 500px">
-    <div style="margin-left: 75px; width: 425px; height: 10px; background: blue"></div>
+  <div style="margin-left: 75px; width: 425px; height: 10px; background: blue"></div>
 </div>
diff --git a/layout/reftests/floats/other-float-outside-rule-3-right.html b/layout/reftests/floats/other-float-outside-rule-3-right.html
--- a/layout/reftests/floats/other-float-outside-rule-3-right.html
+++ b/layout/reftests/floats/other-float-outside-rule-3-right.html
@@ -8,17 +8,17 @@
     of the left outer edge of any right-floating box that is to the
     right of it. Analogous rules hold for right-floating elements. 
 
  -->
 
 <!-- the block formatting context inside which we're testing -->
 <div style="float: left; width: 500px; height: 500px">
 
-  <div style="float: left: width: 50px; height: 300px"></div>
+  <div style="float: left; width: 50px; height: 300px"></div>
 
   <div style="margin-left: 100px"> <!-- 400px wide -->
 
     <!-- we're testing the position of this float -->
     <div style="float: right; width: 425px; height: 10px; background: blue"></div>
 
   </div>
 
diff --git a/layout/reftests/floats/other-float-outside-rule-7-left.html b/layout/reftests/floats/other-float-outside-rule-7-left.html
--- a/layout/reftests/floats/other-float-outside-rule-7-left.html
+++ b/layout/reftests/floats/other-float-outside-rule-7-left.html
@@ -10,17 +10,17 @@
     right edge, unless it is already as far to the left as possible.) An
     analogous rule holds for right-floating elements. 
 
  -->
 
 <!-- the block formatting context inside which we're testing -->
 <div style="float: left; width: 500px; height: 500px">
 
-  <div style="float: left: width: 50px; height: 300px"></div>
+  <div style="float: left; width: 50px; height: 300px"></div>
 
   <div style="margin-left: 100px"> <!-- 400px wide -->
 
     <!-- we're testing the position of this float -->
     <div style="float: left; width: 425px; height: 10px; background: blue"></div>
 
   </div>
 
diff --git a/layout/reftests/floats/other-float-outside-rule-7-right.html b/layout/reftests/floats/other-float-outside-rule-7-right.html
--- a/layout/reftests/floats/other-float-outside-rule-7-right.html
+++ b/layout/reftests/floats/other-float-outside-rule-7-right.html
@@ -10,17 +10,17 @@
     right edge, unless it is already as far to the left as possible.) An
     analogous rule holds for right-floating elements. 
 
  -->
 
 <!-- the block formatting context inside which we're testing -->
 <div style="float: left; width: 500px; height: 500px">
 
-  <div style="float: right: width: 50px; height: 300px"></div>
+  <div style="float: right; width: 50px; height: 300px"></div>
 
   <div style="margin-right: 100px"> <!-- 400px wide -->
 
     <!-- we're testing the position of this float -->
     <div style="float: right; width: 425px; height: 10px; background: blue"></div>
 
   </div>
 
diff --git a/layout/reftests/floats/reftest.list b/layout/reftests/floats/reftest.list
--- a/layout/reftests/floats/reftest.list
+++ b/layout/reftests/floats/reftest.list
@@ -1,7 +1,7 @@
-# It's possible the spec should change here...
-fails == other-float-outside-rule-3-left.html other-float-outside-rule-3-left-ref.html
-fails == other-float-outside-rule-3-right.html other-float-outside-rule-3-right-ref.html
-== other-float-outside-rule-7-left.html other-float-outside-rule-7-left-ref.html
-== other-float-outside-rule-7-right.html other-float-outside-rule-7-right-ref.html
+== other-float-outside-rule-3-left.html other-float-outside-rule-3-left-ref.html
+== other-float-outside-rule-3-right.html other-float-outside-rule-3-right-ref.html
+# It's possible the spec should change here to match rule 3...
+fails == other-float-outside-rule-7-left.html other-float-outside-rule-7-left-ref.html
+fails == other-float-outside-rule-7-right.html other-float-outside-rule-7-right-ref.html
 == zero-height-float-base.html zero-height-float-ref.html
 fails == zero-height-float.html zero-height-float-ref.html
