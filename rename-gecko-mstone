From: L. David Baron <dbaron@dbaron.org>

Bug 1274037 - Rename the gecko.mstone and gecko.buildID prefs to dom.apps.lastUpdate.*  r=fabrice

MozReview-Commit-ID: AkFkFhyUNrX

diff --git a/dom/apps/AppsUtils.jsm b/dom/apps/AppsUtils.jsm
--- a/dom/apps/AppsUtils.jsm
+++ b/dom/apps/AppsUtils.jsm
@@ -613,30 +613,30 @@ this.AppsUtils = {
   },
 
   /**
    * Determines if an update or a factory reset occured.
    */
   isFirstRun: function isFirstRun(aPrefBranch) {
     let savedmstone = null;
     try {
-      savedmstone = aPrefBranch.getCharPref("gecko.mstone");
+      savedmstone = aPrefBranch.getCharPref("dom.apps.lastUpdate.mstone");
     } catch (e) {}
 
     let mstone = Services.appinfo.platformVersion;
 
     let savedBuildID = null;
     try {
-      savedBuildID = aPrefBranch.getCharPref("gecko.buildID");
+      savedBuildID = aPrefBranch.getCharPref("dom.apps.lastUpdate.buildID");
     } catch (e) {}
 
     let buildID = Services.appinfo.platformBuildID;
 
-    aPrefBranch.setCharPref("gecko.mstone", mstone);
-    aPrefBranch.setCharPref("gecko.buildID", buildID);
+    aPrefBranch.setCharPref("dom.apps.lastUpdate.mstone", mstone);
+    aPrefBranch.setCharPref("dom.apps.lastUpdate.buildID", buildID);
 
     if ((mstone != savedmstone) || (buildID != savedBuildID)) {
       aPrefBranch.setBoolPref("dom.apps.reset-permissions", false);
       return true;
     } else {
       return false;
     }
   },
